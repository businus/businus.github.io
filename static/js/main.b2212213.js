/*! For license information please see main.b2212213.js.LICENSE.txt */
(()=>{"use strict";var e={175:(e,t)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,o=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},4:(e,t,n)=>{var r=n(853),o=n(43),i=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),m=Symbol.for("react.consumer"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),w=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var k=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var S=Symbol.for("react.memo_cache_sentinel"),E=Symbol.iterator;function C(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=E&&e[E]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function N(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case d:return"Fragment";case u:return"Portal";case h:return"Profiler";case p:return"StrictMode";case v:return"Suspense";case x:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case g:return(e.displayName||"Context")+".Provider";case m:return(e._context.displayName||"Context")+".Consumer";case y:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case b:return null!==(t=e.displayName||null)?t:N(e.type)||"Memo";case w:t=e._payload,e=e._init;try{return N(e(t))}catch(n){}}return null}var A,j,O=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign;function _(e){if(void 0===A)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||"",j=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+A+e+j}var P=!1;function M(e,t){if(!e||P)return"";P=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var r=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),a=i[0],s=i[1];if(a&&s){var l=a.split("\n"),c=s.split("\n");for(o=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;o<c.length&&!c[o].includes("DetermineComponentFrameRoot");)o++;if(r===l.length||o===c.length)for(r=l.length-1,o=c.length-1;1<=r&&0<=o&&l[r]!==c[o];)o--;for(;1<=r&&0<=o;r--,o--)if(l[r]!==c[o]){if(1!==r||1!==o)do{if(r--,0>--o||l[r]!==c[o]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=o);break}}}finally{P=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?_(n):""}function R(e){switch(e.tag){case 26:case 27:case 5:return _(e.type);case 16:return _("Lazy");case 13:return _("Suspense");case 19:return _("SuspenseList");case 0:case 15:return e=M(e.type,!1);case 11:return e=M(e.type.render,!1);case 1:return e=M(e.type,!0);default:return""}}function D(e){try{var t="";do{t+=R(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function L(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function F(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function U(e){if(L(e)!==e)throw Error(a(188))}function V(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=V(e)))return t;e=e.sibling}return null}var B=Array.isArray,H=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},W=[],q=-1;function G(e){return{current:e}}function Y(e){0>q||(e.current=W[q],W[q]=null,q--)}function J(e,t){q++,W[q]=e.current,e.current=t}var K=G(null),X=G(null),$=G(null),Q=G(null);function Z(e,t){switch(J($,t),J(X,e),J(K,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Xu(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=$u(e=Xu(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(K),J(K,t)}function ee(){Y(K),Y(X),Y($)}function te(e){null!==e.memoizedState&&J(Q,e);var t=K.current,n=$u(t,e.type);t!==n&&(J(X,e),J(K,n))}function ne(e){X.current===e&&(Y(K),Y(X)),Q.current===e&&(Y(Q),Dd._currentValue=z)}var re=Object.prototype.hasOwnProperty,oe=r.unstable_scheduleCallback,ie=r.unstable_cancelCallback,ae=r.unstable_shouldYield,se=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,pe=r.unstable_NormalPriority,he=r.unstable_LowPriority,fe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ye=null,ve=null;function xe(e){if("function"===typeof me&&ge(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var be=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/ke|0)|0},we=Math.log,ke=Math.LN2;var Se=128,Ee=4194304;function Ce(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=e.warmLanes;e=0!==e.finishedLanes;var s=134217727&n;return 0!==s?0!==(n=s&~o)?r=Ce(n):0!==(i&=s)?r=Ce(i):e||0!==(a=s&~a)&&(r=Ce(a)):0!==(s=n&~o)?r=Ce(s):0!==i?r=Ce(i):e||0!==(a=n&~a)&&(r=Ce(a)),0===r?0:0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(a=t&-t)||32===o&&0!==(4194176&a))?t:r}function Ne(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ae(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function je(){var e=Se;return 0===(4194176&(Se<<=1))&&(Se=128),e}function Oe(){var e=Ee;return 0===(62914560&(Ee<<=1))&&(Ee=4194304),e}function Ie(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _e(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-be(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&n}function Me(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-be(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Re(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function De(){var e=H.p;return 0!==e?e:void 0===(e=window.event)?32:$d(e.type)}var Le=Math.random().toString(36).slice(2),Fe="__reactFiber$"+Le,Ue="__reactProps$"+Le,Ve="__reactContainer$"+Le,Be="__reactEvents$"+Le,He="__reactListeners$"+Le,ze="__reactHandles$"+Le,We="__reactResources$"+Le,qe="__reactMarker$"+Le;function Ge(e){delete e[Fe],delete e[Ue],delete e[Be],delete e[He],delete e[ze]}function Ye(e){var t=e[Fe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ve]||n[Fe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ld(e);null!==e;){if(n=e[Fe])return n;e=ld(e)}return t}n=(e=n).parentNode}return null}function Je(e){if(e=e[Fe]||e[Ve]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ke(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Xe(e){var t=e[We];return t||(t=e[We]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $e(e){e[qe]=!0}var Qe=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Qe.add(t[e])}var nt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},it={};function at(e,t,n){if(o=t,re.call(it,o)||!re.call(ot,o)&&(rt.test(o)?it[o]=!0:(ot[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function st(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function lt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ht(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function mt(e){return e.replace(ft,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,o,i,a,s){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?vt(e,a,ct(t)):null!=n?vt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=i&&(e.defaultChecked=!!i),null!=o&&(e.checked=o&&"function"!==typeof o&&"symbol"!==typeof o),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function yt(e,t,n,r,o,i,a,s){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:o)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function vt(e,t,n){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function bt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(B(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&Et(e,o,r)}else for(var i in t)t.hasOwnProperty(i)&&Et(e,i,t[i])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jt(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ot=null;function It(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _t=null,Pt=null;function Mt(e){var t=Je(e);if(t&&(e=t.stateNode)){var n=e[Ue]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[Ue]||null;if(!o)throw Error(a(90));gt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":bt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var Rt=!1;function Dt(e,t,n){if(Rt)return e(t,n);Rt=!0;try{return e(t)}finally{if(Rt=!1,(null!==_t||null!==Pt)&&(Fc(),_t&&(t=_t,e=Pt,Pt=_t=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ue]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ft=!1;if(nt)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(wp){Ft=!1}var Vt=null,Bt=null,Ht=null;function zt(){if(Ht)return Ht;var e,t,n=Bt,r=n.length,o="value"in Vt?Vt.value:Vt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Ht=o.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function Gt(){return!1}function Yt(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?qt:Gt,this.isPropagationStopped=Gt,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Jt,Kt,Xt,$t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qt=Yt($t),Zt=I({},$t,{view:0,detail:0}),en=Yt(Zt),tn=I({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Jt=e.screenX-Xt.screenX,Kt=e.screenY-Xt.screenY):Kt=Jt=0,Xt=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Kt}}),nn=Yt(tn),rn=Yt(I({},tn,{dataTransfer:0})),on=Yt(I({},Zt,{relatedTarget:0})),an=Yt(I({},$t,{animationName:0,elapsedTime:0,pseudoElement:0})),sn=Yt(I({},$t,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=Yt(I({},$t,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function hn(){return pn}var fn=Yt(I({},Zt,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),mn=Yt(I({},tn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Yt(I({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hn})),yn=Yt(I({},$t,{propertyName:0,elapsedTime:0,pseudoElement:0})),vn=Yt(I({},tn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Yt(I({},$t,{newState:0,oldState:0})),bn=[9,13,27,32],wn=nt&&"CompositionEvent"in window,kn=null;nt&&"documentMode"in document&&(kn=document.documentMode);var Sn=nt&&"TextEvent"in window&&!kn,En=nt&&(!wn||kn&&8<kn&&11>=kn),Cn=String.fromCharCode(32),Tn=!1;function Nn(e,t){switch(e){case"keyup":return-1!==bn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function An(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function In(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function _n(e,t,n,r){_t?Pt?Pt.push(r):Pt=[r]:_t=r,0<(t=Du(t,"onChange")).length&&(n=new Qt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Pn=null,Mn=null;function Rn(e){Au(e,0)}function Dn(e){if(pt(Ke(e)))return e}function Ln(e,t){if("change"===e)return t}var Fn=!1;if(nt){var Un;if(nt){var Vn="oninput"in document;if(!Vn){var Bn=document.createElement("div");Bn.setAttribute("oninput","return;"),Vn="function"===typeof Bn.oninput}Un=Vn}else Un=!1;Fn=Un&&(!document.documentMode||9<document.documentMode)}function Hn(){Pn&&(Pn.detachEvent("onpropertychange",zn),Mn=Pn=null)}function zn(e){if("value"===e.propertyName&&Dn(Mn)){var t=[];_n(t,Mn,e,It(e)),Dt(Rn,t)}}function Wn(e,t,n){"focusin"===e?(Hn(),Mn=n,(Pn=t).attachEvent("onpropertychange",zn)):"focusout"===e&&Hn()}function qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Dn(Mn)}function Gn(e,t){if("click"===e)return Dn(t)}function Yn(e,t){if("input"===e||"change"===e)return Dn(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Kn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!re.call(t,o)||!Jn(e[o],t[o]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $n(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function Qn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Qn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zn(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ht((e=t.contentWindow).document)}return t}function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function tr(e,t){var n=Zn(t);t=e.focusedElem;var r=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Qn(t.ownerDocument.documentElement,t)){if(null!==r&&er(t))if(e=r.start,void 0===(n=r.end)&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if((n=(e=t.ownerDocument||document)&&e.defaultView||window).getSelection){n=n.getSelection();var o=t.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!n.extend&&i>r&&(o=r,r=i,i=o),o=$n(t,i);var a=$n(t,r);o&&a&&(1!==n.rangeCount||n.anchorNode!==o.node||n.anchorOffset!==o.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&((e=e.createRange()).setStart(o.node,o.offset),n.removeAllRanges(),i>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}for(e=[],n=t;n=n.parentNode;)1===n.nodeType&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for("function"===typeof t.focus&&t.focus(),t=0;t<e.length;t++)(n=e[t]).element.scrollLeft=n.left,n.element.scrollTop=n.top}}var nr=nt&&"documentMode"in document&&11>=document.documentMode,rr=null,or=null,ir=null,ar=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==ht(r)||("selectionStart"in(r=rr)&&er(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&Kn(ir,r)||(ir=r,0<(r=Du(or,"onSelect")).length&&(t=new Qt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function pr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}nt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var hr=pr("animationend"),fr=pr("animationiteration"),mr=pr("animationstart"),gr=pr("transitionrun"),yr=pr("transitionstart"),vr=pr("transitioncancel"),xr=pr("transitionend"),br=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function kr(e,t){br.set(e,t),et(t,[e])}var Sr=[],Er=0,Cr=0;function Tr(){for(var e=Er,t=Cr=Er=0;t<e;){var n=Sr[t];Sr[t++]=null;var r=Sr[t];Sr[t++]=null;var o=Sr[t];Sr[t++]=null;var i=Sr[t];if(Sr[t++]=null,null!==r&&null!==o){var a=r.pending;null===a?o.next=o:(o.next=a.next,a.next=o),r.pending=o}0!==i&&Or(n,o,i)}}function Nr(e,t,n,r){Sr[Er++]=e,Sr[Er++]=t,Sr[Er++]=n,Sr[Er++]=r,Cr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ar(e,t,n,r){return Nr(e,t,n,r),Ir(e)}function jr(e,t){return Nr(e,null,null,t),Ir(e)}function Or(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(o=!0)),e=i,i=i.return;o&&null!==t&&3===e.tag&&(i=e.stateNode,o=31-be(n),null===(e=(i=i.hiddenUpdates)[o])?i[o]=[t]:e.push(t),t.lane=536870912|n)}function Ir(e){if(50<Ac)throw Ac=0,jc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var _r={},Pr=new WeakMap;function Mr(e,t){if("object"===typeof e&&null!==e){var n=Pr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:D(t)},Pr.set(e,t),t)}return{value:e,source:t,stack:D(t)}}var Rr=[],Dr=0,Lr=null,Fr=0,Ur=[],Vr=0,Br=null,Hr=1,zr="";function Wr(e,t){Rr[Dr++]=Fr,Rr[Dr++]=Lr,Lr=e,Fr=t}function qr(e,t,n){Ur[Vr++]=Hr,Ur[Vr++]=zr,Ur[Vr++]=Br,Br=e;var r=Hr;e=zr;var o=32-be(r)-1;r&=~(1<<o),n+=1;var i=32-be(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Hr=1<<32-be(t)+o|n<<o|r,zr=i+e}else Hr=1<<i|n<<o|r,zr=e}function Gr(e){null!==e.return&&(Wr(e,1),qr(e,1,0))}function Yr(e){for(;e===Lr;)Lr=Rr[--Dr],Rr[Dr]=null,Fr=Rr[--Dr],Rr[Dr]=null;for(;e===Br;)Br=Ur[--Vr],Ur[Vr]=null,zr=Ur[--Vr],Ur[Vr]=null,Hr=Ur[--Vr],Ur[Vr]=null}var Jr=null,Kr=null,Xr=!1,$r=null,Qr=!1,Zr=Error(a(519));function eo(e){throw io(Mr(Error(a(418,"")),e)),Zr}function to(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Fe]=e,t[Ue]=r,n){case"dialog":ju("cancel",t),ju("close",t);break;case"iframe":case"object":case"embed":ju("load",t);break;case"video":case"audio":for(n=0;n<Tu.length;n++)ju(Tu[n],t);break;case"source":ju("error",t);break;case"img":case"image":case"link":ju("error",t),ju("load",t);break;case"details":ju("toggle",t);break;case"input":ju("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":ju("invalid",t);break;case"textarea":ju("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Hu(t.textContent,n)?(null!=r.popover&&(ju("beforetoggle",t),ju("toggle",t)),null!=r.onScroll&&ju("scroll",t),null!=r.onScrollEnd&&ju("scrollend",t),null!=r.onClick&&(t.onclick=zu),t=!0):t=!1,t||eo(e)}function no(e){for(Jr=e.return;Jr;)switch(Jr.tag){case 3:case 27:return void(Qr=!0);case 5:case 13:return void(Qr=!1);default:Jr=Jr.return}}function ro(e){if(e!==Jr)return!1;if(!Xr)return no(e),Xr=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Qu(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&Kr&&eo(e),no(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){Kr=sd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}Kr=null}}else Kr=Jr?sd(e.stateNode.nextSibling):null;return!0}function oo(){Kr=Jr=null,Xr=!1}function io(e){null===$r?$r=[e]:$r.push(e)}var ao=Error(a(460)),so=Error(a(474)),lo={then:function(){}};function co(e){return"fulfilled"===(e=e.status)||"rejected"===e}function uo(){}function po(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(uo,uo),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ao)throw Error(a(483));throw e;default:if("string"===typeof t.status)t.then(uo,uo);else{if(null!==(e=tc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===ao)throw Error(a(483));throw e}throw ho=t,ao}}var ho=null;function fo(){if(null===ho)throw Error(a(459));var e=ho;return ho=null,e}var mo=null,go=0;function yo(e){var t=go;return go+=1,null===mo&&(mo=[]),po(mo,e,t)}function vo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function xo(e,t){if(t.$$typeof===l)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=Ll(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=33554434,n):r:(t.flags|=33554434,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Hl(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n,r){var i=n.type;return i===d?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===w&&bo(i)===t.type)?(vo(t=o(t,n.props),n),t.return=e,t):(vo(t=Ul(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function h(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zl(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Vl(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Hl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case c:return vo(n=Ul(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case u:return(t=zl(t,e.mode,n)).return=e,t;case w:return m(e,t=(0,t._init)(t._payload),n)}if(B(t)||C(t))return(t=Vl(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return m(e,yo(t),n);if(t.$$typeof===g)return m(e,Ts(e,t),n);xo(e,t)}return null}function y(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case c:return n.key===o?p(e,t,n,r):null;case u:return n.key===o?h(e,t,n,r):null;case w:return y(e,t,n=(o=n._init)(n._payload),r)}if(B(n)||C(n))return null!==o?null:f(e,t,n,r,null);if("function"===typeof n.then)return y(e,t,yo(n),r);if(n.$$typeof===g)return y(e,t,Ts(e,n),r);xo(e,n)}return null}function v(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case c:return p(t,e=e.get(null===r.key?n:r.key)||null,r,o);case u:return h(t,e=e.get(null===r.key?n:r.key)||null,r,o);case w:return v(e,t,n,r=(0,r._init)(r._payload),o)}if(B(r)||C(r))return f(t,e=e.get(n)||null,r,o,null);if("function"===typeof r.then)return v(e,t,n,yo(r),o);if(r.$$typeof===g)return v(e,t,n,Ts(t,r),o);xo(t,r)}return null}function x(l,p,h,f){if("object"===typeof h&&null!==h&&h.type===d&&null===h.key&&(h=h.props.children),"object"===typeof h&&null!==h){switch(h.$$typeof){case c:e:{for(var b=h.key;null!==p;){if(p.key===b){if((b=h.type)===d){if(7===p.tag){n(l,p.sibling),(f=o(p,h.props.children)).return=l,l=f;break e}}else if(p.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===w&&bo(b)===p.type){n(l,p.sibling),vo(f=o(p,h.props),h),f.return=l,l=f;break e}n(l,p);break}t(l,p),p=p.sibling}h.type===d?((f=Vl(h.props.children,l.mode,f,h.key)).return=l,l=f):(vo(f=Ul(h.type,h.key,h.props,null,l.mode,f),h),f.return=l,l=f)}return s(l);case u:e:{for(b=h.key;null!==p;){if(p.key===b){if(4===p.tag&&p.stateNode.containerInfo===h.containerInfo&&p.stateNode.implementation===h.implementation){n(l,p.sibling),(f=o(p,h.children||[])).return=l,l=f;break e}n(l,p);break}t(l,p),p=p.sibling}(f=zl(h,l.mode,f)).return=l,l=f}return s(l);case w:return x(l,p,h=(b=h._init)(h._payload),f)}if(B(h))return function(o,a,s,l){for(var c=null,u=null,d=a,p=a=0,h=null;null!==d&&p<s.length;p++){d.index>p?(h=d,d=null):h=d.sibling;var f=y(o,d,s[p],l);if(null===f){null===d&&(d=h);break}e&&d&&null===f.alternate&&t(o,d),a=i(f,a,p),null===u?c=f:u.sibling=f,u=f,d=h}if(p===s.length)return n(o,d),Xr&&Wr(o,p),c;if(null===d){for(;p<s.length;p++)null!==(d=m(o,s[p],l))&&(a=i(d,a,p),null===u?c=d:u.sibling=d,u=d);return Xr&&Wr(o,p),c}for(d=r(d);p<s.length;p++)null!==(h=v(d,o,p,s[p],l))&&(e&&null!==h.alternate&&d.delete(null===h.key?p:h.key),a=i(h,a,p),null===u?c=h:u.sibling=h,u=h);return e&&d.forEach((function(e){return t(o,e)})),Xr&&Wr(o,p),c}(l,p,h,f);if(C(h)){if("function"!==typeof(b=C(h)))throw Error(a(150));return function(o,s,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,p=s,h=s=0,f=null,g=l.next();null!==p&&!g.done;h++,g=l.next()){p.index>h?(f=p,p=null):f=p.sibling;var x=y(o,p,g.value,c);if(null===x){null===p&&(p=f);break}e&&p&&null===x.alternate&&t(o,p),s=i(x,s,h),null===d?u=x:d.sibling=x,d=x,p=f}if(g.done)return n(o,p),Xr&&Wr(o,h),u;if(null===p){for(;!g.done;h++,g=l.next())null!==(g=m(o,g.value,c))&&(s=i(g,s,h),null===d?u=g:d.sibling=g,d=g);return Xr&&Wr(o,h),u}for(p=r(p);!g.done;h++,g=l.next())null!==(g=v(p,o,h,g.value,c))&&(e&&null!==g.alternate&&p.delete(null===g.key?h:g.key),s=i(g,s,h),null===d?u=g:d.sibling=g,d=g);return e&&p.forEach((function(e){return t(o,e)})),Xr&&Wr(o,h),u}(l,p,h=b.call(h),f)}if("function"===typeof h.then)return x(l,p,yo(h),f);if(h.$$typeof===g)return x(l,p,Ts(l,h),f);xo(l,h)}return"string"===typeof h&&""!==h||"number"===typeof h||"bigint"===typeof h?(h=""+h,null!==p&&6===p.tag?(n(l,p.sibling),(f=o(p,h)).return=l,l=f):(n(l,p),(f=Hl(h,l.mode,f)).return=l,l=f),s(l)):n(l,p)}return function(e,t,n,r){try{go=0;var o=x(e,t,n,r);return mo=null,o}catch(a){if(a===ao)throw a;var i=Rl(29,a,null,e.mode);return i.lanes=r,i.return=e,i}}}var ko=wo(!0),So=wo(!1),Eo=G(null),Co=G(0);function To(e,t){J(Co,e=cc),J(Eo,t),cc=e|t.baseLanes}function No(){J(Co,cc),J(Eo,Eo.current)}function Ao(){cc=Co.current,Y(Eo),Y(Co)}var jo=G(null),Oo=null;function Io(e){var t=e.alternate;J(Ro,1&Ro.current),J(jo,e),null===Oo&&(null===t||null!==Eo.current||null!==t.memoizedState)&&(Oo=e)}function _o(e){if(22===e.tag){if(J(Ro,Ro.current),J(jo,e),null===Oo){var t=e.alternate;null!==t&&null!==t.memoizedState&&(Oo=e)}}else Po()}function Po(){J(Ro,Ro.current),J(jo,jo.current)}function Mo(e){Y(jo),Oo===e&&(Oo=null),Y(Ro)}var Ro=G(0);function Do(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Lo="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Fo=r.unstable_scheduleCallback,Uo=r.unstable_NormalPriority,Vo={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bo(){return{controller:new Lo,data:new Map,refCount:0}}function Ho(e){e.refCount--,0===e.refCount&&Fo(Uo,(function(){e.controller.abort()}))}var zo=null,Wo=0,qo=0,Go=null;function Yo(){if(0===--Wo&&null!==zo){null!==Go&&(Go.status="fulfilled");var e=zo;zo=null,qo=0,Go=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Jo=O.S;O.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===zo){var n=zo=[];Wo=0,qo=wu(),Go={status:"pending",value:void 0,then:function(e){n.push(e)}}}Wo++,t.then(Yo,Yo)}(0,t),null!==Jo&&Jo(e,t)};var Ko=G(null);function Xo(){var e=Ko.current;return null!==e?e:tc.pooledCache}function $o(e,t){J(Ko,null===t?Ko.current:t.pool)}function Qo(){var e=Xo();return null===e?null:{parent:Vo._currentValue,pool:e}}var Zo=0,ei=null,ti=null,ni=null,ri=!1,oi=!1,ii=!1,ai=0,si=0,li=null,ci=0;function ui(){throw Error(a(321))}function di(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function pi(e,t,n,r,o,i){return Zo=i,ei=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?Ta:Na,ii=!1,i=n(r,o),ii=!1,oi&&(i=fi(t,n,r,o)),hi(e),i}function hi(e){O.H=Ca;var t=null!==ti&&null!==ti.next;if(Zo=0,ni=ti=ei=null,ri=!1,si=0,li=null,t)throw Error(a(300));null===e||Wa||null!==(e=e.dependencies)&&Ss(e)&&(Wa=!0)}function fi(e,t,n,r){ei=e;var o=0;do{if(oi&&(li=null),si=0,oi=!1,25<=o)throw Error(a(301));if(o+=1,ni=ti=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}O.H=Aa,i=t(n,r)}while(oi);return i}function mi(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?wi(t):t,e=e.useState()[0],(null!==ti?ti.memoizedState:null)!==e&&(ei.flags|=1024),t}function gi(){var e=0!==ai;return ai=0,e}function yi(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function vi(e){if(ri){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ri=!1}Zo=0,ni=ti=ei=null,oi=!1,si=ai=0,li=null}function xi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ni?ei.memoizedState=ni=e:ni=ni.next=e,ni}function bi(){if(null===ti){var e=ei.alternate;e=null!==e?e.memoizedState:null}else e=ti.next;var t=null===ni?ei.memoizedState:ni.next;if(null!==t)ni=t,ti=e;else{if(null===e){if(null===ei.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(ti=e).memoizedState,baseState:ti.baseState,baseQueue:ti.baseQueue,queue:ti.queue,next:null},null===ni?ei.memoizedState=ni=e:ni=ni.next=e}return ni}function wi(e){var t=si;return si+=1,null===li&&(li=[]),e=po(li,e,t),t=ei,null===(null===ni?t.memoizedState:ni.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?Ta:Na),e}function ki(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return wi(e);if(e.$$typeof===g)return Cs(e)}throw Error(a(438,String(e)))}function Si(e){var t=null,n=ei.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=ei.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ei.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=S;return t.index++,n}function Ei(e,t){return"function"===typeof t?t(e):t}function Ci(e){return Ti(bi(),ti,e)}function Ti(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var o=e.baseQueue,i=r.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}t.baseQueue=o=i,r.pending=null}if(i=e.baseState,null===o)e.memoizedState=i;else{var l=s=null,c=null,u=t=o.next,d=!1;do{var p=-536870913&u.lane;if(p!==u.lane?(rc&p)===p:(Zo&p)===p){var h=u.revertLane;if(0===h)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),p===qo&&(d=!0);else{if((Zo&h)===h){u=u.next,h===qo&&(d=!0);continue}p={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,s=i):c=c.next=p,ei.lanes|=h,dc|=h}p=u.action,ii&&n(i,p),i=u.hasEagerState?u.eagerState:n(i,p)}else h={lane:p,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=i):c=c.next=h,ei.lanes|=p,dc|=p;u=u.next}while(null!==u&&u!==t);if(null===c?s=i:c.next=l,!Jn(i,e.memoizedState)&&(Wa=!0,d&&null!==(n=Go)))throw n;e.memoizedState=i,e.baseState=s,e.baseQueue=c,r.lastRenderedState=i}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ni(e){var t=bi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);Jn(i,t.memoizedState)||(Wa=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ai(e,t,n){var r=ei,o=bi(),i=Xr;if(i){if(void 0===n)throw Error(a(407));n=n()}else n=t();var s=!Jn((ti||o).memoizedState,n);if(s&&(o.memoizedState=n,Wa=!0),o=o.queue,Zi(Ii.bind(null,r,o,e),[e]),o.getSnapshot!==t||s||null!==ni&&1&ni.memoizedState.tag){if(r.flags|=2048,Ji(9,Oi.bind(null,r,o,n,t),{destroy:void 0},null),null===tc)throw Error(a(349));i||0!==(60&Zo)||ji(r,t,n)}return n}function ji(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ei.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ei.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oi(e,t,n,r){t.value=n,t.getSnapshot=r,_i(t)&&Pi(e)}function Ii(e,t,n){return n((function(){_i(t)&&Pi(e)}))}function _i(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(r){return!0}}function Pi(e){var t=jr(e,2);null!==t&&_c(t,e,2)}function Mi(e){var t=xi();if("function"===typeof e){var n=e;if(e=n(),ii){xe(!0);try{n()}finally{xe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:e},t}function Ri(e,t,n,r){return e.baseState=n,Ti(e,ti,"function"===typeof r?r:Ei)}function Di(e,t,n,r,o){if(ka(e))throw Error(a(485));if(null!==(e=t.action)){var i={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==O.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,Li(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Li(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var i=O.T,a={};O.T=a;try{var s=n(o,r),l=O.S;null!==l&&l(a,s),Fi(e,t,s)}catch(c){Vi(e,t,c)}finally{O.T=i}}else try{Fi(e,t,i=n(o,r))}catch(u){Vi(e,t,u)}}function Fi(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){Ui(e,t,n)}),(function(n){return Vi(e,t,n)})):Ui(e,t,n)}function Ui(e,t,n){t.status="fulfilled",t.value=n,Bi(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Li(e,n)))}function Vi(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Bi(t),t=t.next}while(t!==r)}e.action=null}function Bi(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Hi(e,t){return t}function zi(e,t){if(Xr){var n=tc.formState;if(null!==n){e:{var r=ei;if(Xr){if(Kr){t:{for(var o=Kr,i=Qr;8!==o.nodeType;){if(!i){o=null;break t}if(null===(o=sd(o.nextSibling))){o=null;break t}}o="F!"===(i=o.data)||"F"===i?o:null}if(o){Kr=sd(o.nextSibling),r="F!"===o.data;break e}}eo(r)}r=!1}r&&(t=n[0])}}return(n=xi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:t},n.queue=r,n=xa.bind(null,ei,r),r.dispatch=n,r=Mi(!1),i=wa.bind(null,ei,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=xi()).queue=o,n=Di.bind(null,ei,o,i,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function Wi(e){return qi(bi(),ti,e)}function qi(e,t,n){t=Ti(e,t,Hi)[0],e=Ci(Ei)[0],t="object"===typeof t&&null!==t&&"function"===typeof t.then?wi(t):t;var r=bi(),o=r.queue,i=o.dispatch;return n!==r.memoizedState&&(ei.flags|=2048,Ji(9,Gi.bind(null,o,n),{destroy:void 0},null)),[t,i,e]}function Gi(e,t){e.action=t}function Yi(e){var t=bi(),n=ti;if(null!==n)return qi(t,n,e);bi(),t=t.memoizedState;var r=(n=bi()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ji(e,t,n,r){return e={tag:e,create:t,inst:n,deps:r,next:null},null===(t=ei.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ei.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ki(){return bi().memoizedState}function Xi(e,t,n,r){var o=xi();ei.flags|=e,o.memoizedState=Ji(1|t,n,{destroy:void 0},void 0===r?null:r)}function $i(e,t,n,r){var o=bi();r=void 0===r?null:r;var i=o.memoizedState.inst;null!==ti&&null!==r&&di(r,ti.memoizedState.deps)?o.memoizedState=Ji(t,n,i,r):(ei.flags|=e,o.memoizedState=Ji(1|t,n,i,r))}function Qi(e,t){Xi(8390656,8,e,t)}function Zi(e,t){$i(2048,8,e,t)}function ea(e,t){return $i(4,2,e,t)}function ta(e,t){return $i(4,4,e,t)}function na(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ra(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,$i(4,4,na.bind(null,t,e),n)}function oa(){}function ia(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&di(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function aa(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&di(t,r[1]))return r[0];if(r=e(),ii){xe(!0);try{e()}finally{xe(!1)}}return n.memoizedState=[r,t],r}function sa(e,t,n){return void 0===n||0!==(1073741824&Zo)?e.memoizedState=t:(e.memoizedState=n,e=Ic(),ei.lanes|=e,dc|=e,n)}function la(e,t,n,r){return Jn(n,t)?n:null!==Eo.current?(e=sa(e,n,r),Jn(e,t)||(Wa=!0),e):0===(42&Zo)?(Wa=!0,e.memoizedState=n):(e=Ic(),ei.lanes|=e,dc|=e,t)}function ca(e,t,n,r,o){var i=H.p;H.p=0!==i&&8>i?i:8;var a=O.T,s={};O.T=s,wa(e,!1,t,n);try{var l=o(),c=O.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)ba(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Oc());else ba(e,t,r,Oc())}catch(u){ba(e,t,{then:function(){},status:"rejected",reason:u},Oc())}finally{H.p=i,O.T=a}}function ua(){}function da(e,t,n,r){if(5!==e.tag)throw Error(a(476));var o=pa(e).queue;ca(e,o,t,z,null===n?ua:function(){return ha(e),n(r)})}function pa(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:z},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ha(e){ba(e,pa(e).next.queue,{},Oc())}function fa(){return Cs(Dd)}function ma(){return bi().memoizedState}function ga(){return bi().memoizedState}function ya(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Oc(),r=_s(t,e=Is(n),n);return null!==r&&(_c(r,t,n),Ps(r,t,n)),t={cache:Bo()},void(e.payload=t)}t=t.return}}function va(e,t,n){var r=Oc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ka(e)?Sa(t,n):null!==(n=Ar(e,t,n,r))&&(_c(n,e,r),Ea(n,t,r))}function xa(e,t,n){ba(e,t,n,Oc())}function ba(e,t,n,r){var o={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ka(e))Sa(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,Jn(s,a))return Nr(e,t,o,0),null===tc&&Tr(),!1}catch(l){}if(null!==(n=Ar(e,t,o,r)))return _c(n,e,r),Ea(n,t,r),!0}return!1}function wa(e,t,n,r){if(r={lane:2,revertLane:wu(),action:r,hasEagerState:!1,eagerState:null,next:null},ka(e)){if(t)throw Error(a(479))}else null!==(t=Ar(e,n,r,2))&&_c(t,e,2)}function ka(e){var t=e.alternate;return e===ei||null!==t&&t===ei}function Sa(e,t){oi=ri=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ea(e,t,n){if(0!==(4194176&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Me(e,n)}}var Ca={readContext:Cs,use:ki,useCallback:ui,useContext:ui,useEffect:ui,useImperativeHandle:ui,useLayoutEffect:ui,useInsertionEffect:ui,useMemo:ui,useReducer:ui,useRef:ui,useState:ui,useDebugValue:ui,useDeferredValue:ui,useTransition:ui,useSyncExternalStore:ui,useId:ui};Ca.useCacheRefresh=ui,Ca.useMemoCache=ui,Ca.useHostTransitionStatus=ui,Ca.useFormState=ui,Ca.useActionState=ui,Ca.useOptimistic=ui;var Ta={readContext:Cs,use:ki,useCallback:function(e,t){return xi().memoizedState=[e,void 0===t?null:t],e},useContext:Cs,useEffect:Qi,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Xi(4194308,4,na.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xi(4194308,4,e,t)},useInsertionEffect:function(e,t){Xi(4,2,e,t)},useMemo:function(e,t){var n=xi();t=void 0===t?null:t;var r=e();if(ii){xe(!0);try{e()}finally{xe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=xi();if(void 0!==n){var o=n(t);if(ii){xe(!0);try{n(t)}finally{xe(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=va.bind(null,ei,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xi().memoizedState=e},useState:function(e){var t=(e=Mi(e)).queue,n=xa.bind(null,ei,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:oa,useDeferredValue:function(e,t){return sa(xi(),e,t)},useTransition:function(){var e=Mi(!1);return e=ca.bind(null,ei,e.queue,!0,!1),xi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ei,o=xi();if(Xr){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===tc)throw Error(a(349));0!==(60&rc)||ji(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Qi(Ii.bind(null,r,i,e),[e]),r.flags|=2048,Ji(9,Oi.bind(null,r,i,n,t),{destroy:void 0},null),n},useId:function(){var e=xi(),t=tc.identifierPrefix;if(Xr){var n=zr;t=":"+t+"R"+(n=(Hr&~(1<<32-be(Hr)-1)).toString(32)+n),0<(n=ai++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ci++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return xi().memoizedState=ya.bind(null,ei)}};Ta.useMemoCache=Si,Ta.useHostTransitionStatus=fa,Ta.useFormState=zi,Ta.useActionState=zi,Ta.useOptimistic=function(e){var t=xi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=wa.bind(null,ei,!0,n),n.dispatch=t,[e,t]};var Na={readContext:Cs,use:ki,useCallback:ia,useContext:Cs,useEffect:Zi,useImperativeHandle:ra,useInsertionEffect:ea,useLayoutEffect:ta,useMemo:aa,useReducer:Ci,useRef:Ki,useState:function(){return Ci(Ei)},useDebugValue:oa,useDeferredValue:function(e,t){return la(bi(),ti.memoizedState,e,t)},useTransition:function(){var e=Ci(Ei)[0],t=bi().memoizedState;return["boolean"===typeof e?e:wi(e),t]},useSyncExternalStore:Ai,useId:ma};Na.useCacheRefresh=ga,Na.useMemoCache=Si,Na.useHostTransitionStatus=fa,Na.useFormState=Wi,Na.useActionState=Wi,Na.useOptimistic=function(e,t){return Ri(bi(),0,e,t)};var Aa={readContext:Cs,use:ki,useCallback:ia,useContext:Cs,useEffect:Zi,useImperativeHandle:ra,useInsertionEffect:ea,useLayoutEffect:ta,useMemo:aa,useReducer:Ni,useRef:Ki,useState:function(){return Ni(Ei)},useDebugValue:oa,useDeferredValue:function(e,t){var n=bi();return null===ti?sa(n,e,t):la(n,ti.memoizedState,e,t)},useTransition:function(){var e=Ni(Ei)[0],t=bi().memoizedState;return["boolean"===typeof e?e:wi(e),t]},useSyncExternalStore:Ai,useId:ma};function ja(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:I({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}Aa.useCacheRefresh=ga,Aa.useMemoCache=Si,Aa.useHostTransitionStatus=fa,Aa.useFormState=Yi,Aa.useActionState=Yi,Aa.useOptimistic=function(e,t){var n=bi();return null!==ti?Ri(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])};var Oa={isMounted:function(e){return!!(e=e._reactInternals)&&L(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Oc(),o=Is(r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=_s(e,o,r))&&(_c(t,e,r),Ps(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Oc(),o=Is(r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=_s(e,o,r))&&(_c(t,e,r),Ps(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oc(),r=Is(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=_s(e,r,n))&&(_c(t,e,n),Ps(t,e,n))}};function Ia(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!Kn(n,r)||!Kn(o,i))}function _a(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Oa.enqueueReplaceState(t,t.state,null)}function Pa(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=I({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}var Ma="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function Ra(e){Ma(e)}function Da(e){console.error(e)}function La(e){Ma(e)}function Fa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Ua(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function Va(e,t,n){return(n=Is(n)).tag=3,n.payload={element:null},n.callback=function(){Fa(e,t)},n}function Ba(e){return(e=Is(e)).tag=3,e}function Ha(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"===typeof o){var i=r.value;e.payload=function(){return o(i)},e.callback=function(){Ua(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){Ua(t,n,r),"function"!==typeof o&&(null===kc?kc=new Set([this]):kc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var za=Error(a(461)),Wa=!1;function qa(e,t,n,r){t.child=null===e?So(t,null,n,r):ko(t,e.child,n,r)}function Ga(e,t,n,r,o){n=n.render;var i=t.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return Es(t),r=pi(e,t,n,a,i,o),s=gi(),null===e||Wa?(Xr&&s&&Gr(t),t.flags|=1,qa(e,t,r,o),t.child):(yi(e,t,o),ps(e,t,o))}function Ya(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Dl(i)||void 0!==i.defaultProps||null!==n.compare?((e=Ul(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ja(e,t,i,r,o))}if(i=e.child,!hs(e,o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:Kn)(a,r)&&e.ref===t.ref)return ps(e,t,o)}return t.flags|=1,(e=Ll(i,r)).ref=t.ref,e.return=t,t.child=e}function Ja(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(Kn(i,r)&&e.ref===t.ref){if(Wa=!1,t.pendingProps=r=i,!hs(e,o))return t.lanes=e.lanes,ps(e,t,o);0!==(131072&e.flags)&&(Wa=!0)}}return Qa(e,t,n,r,o)}function Ka(e,t,n){var r=t.pendingProps,o=r.children,i=0!==(2&t.stateNode._pendingVisibility),a=null!==e?e.memoizedState:null;if($a(e,t),"hidden"===r.mode||i){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(o=t.child=e.child,i=0;null!==o;)i=i|o.lanes|o.childLanes,o=o.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Xa(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Xa(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&$o(0,null!==a?a.cachePool:null),null!==a?To(t,a):No(),_o(t)}else null!==a?($o(0,a.cachePool),To(t,a),Po(),t.memoizedState=null):(null!==e&&$o(0,null),No(),Po());return qa(e,t,o,n),t.child}function Xa(e,t,n,r){var o=Xo();return o=null===o?null:{parent:Vo._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&$o(0,null),No(),_o(t),null!==e&&ks(e,t,r,!0),null}function $a(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=2097664);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=2097664)}}function Qa(e,t,n,r,o){return Es(t),n=pi(e,t,n,r,void 0,o),r=gi(),null===e||Wa?(Xr&&r&&Gr(t),t.flags|=1,qa(e,t,n,o),t.child):(yi(e,t,o),ps(e,t,o))}function Za(e,t,n,r,o,i){return Es(t),t.updateQueue=null,n=fi(t,r,n,o),hi(e),r=gi(),null===e||Wa?(Xr&&r&&Gr(t),t.flags|=1,qa(e,t,n,i),t.child):(yi(e,t,i),ps(e,t,i))}function es(e,t,n,r,o){if(Es(t),null===t.stateNode){var i=_r,a=n.contextType;"object"===typeof a&&null!==a&&(i=Cs(a)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=Oa,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},js(t),a=n.contextType,i.context="object"===typeof a&&null!==a?Cs(a):_r,i.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(ja(t,n,a,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(a=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),a!==i.state&&Oa.enqueueReplaceState(i,i.state,null),Ls(t,r,i,o),Ds(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var s=t.memoizedProps,l=Pa(n,s);i.props=l;var c=i.context,u=n.contextType;a=_r,"object"===typeof u&&null!==u&&(a=Cs(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s||c!==a)&&_a(t,i,r,a),As=!1;var p=t.memoizedState;i.state=p,Ls(t,r,i,o),Ds(),c=t.memoizedState,s||p!==c||As?("function"===typeof d&&(ja(t,n,d,r),c=t.memoizedState),(l=As||Ia(t,n,l,r,p,c,a))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=a,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Os(e,t),u=Pa(n,a=t.memoizedProps),i.props=u,d=t.pendingProps,p=i.context,c=n.contextType,l=_r,"object"===typeof c&&null!==c&&(l=Cs(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a!==d||p!==l)&&_a(t,i,r,l),As=!1,p=t.memoizedState,i.state=p,Ls(t,r,i,o),Ds();var h=t.memoizedState;a!==d||p!==h||As||null!==e&&null!==e.dependencies&&Ss(e.dependencies)?("function"===typeof s&&(ja(t,n,s,r),h=t.memoizedState),(u=As||Ia(t,n,u,r,p,h,l)||null!==e&&null!==e.dependencies&&Ss(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,$a(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,n,o)):qa(e,t,n,o),t.memoizedState=i.state,e=t.child):e=ps(e,t,o),e}function ts(e,t,n,r){return oo(),t.flags|=256,qa(e,t,n,r),t.child}var ns={dehydrated:null,treeContext:null,retryLane:0};function rs(e){return{baseLanes:e,cachePool:Qo()}}function os(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=fc),e}function is(e,t,n){var r,o=t.pendingProps,i=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Ro.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(Xr){if(i?Io(t):Po(),Xr){var l,c=Kr;if(l=c){e:{for(l=c,c=Qr;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=sd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Br?{id:Hr,overflow:zr}:null,retryLane:536870912},(l=Rl(18,null,null,0)).stateNode=c,l.return=t,t.child=l,Jr=t,Kr=null,l=!0):l=!1}l||eo(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return"$!"===c.data?t.lanes=16:t.lanes=536870912,null;Mo(t)}return c=o.children,o=o.fallback,i?(Po(),c=ss({mode:"hidden",children:c},i=t.mode),o=Vl(o,i,n,null),c.return=t,o.return=t,c.sibling=o,t.child=c,(i=t.child).memoizedState=rs(n),i.childLanes=os(e,r,n),t.memoizedState=ns,o):(Io(t),as(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(Io(t),t.flags&=-257,t=ls(e,t,n)):null!==t.memoizedState?(Po(),t.child=e.child,t.flags|=128,t=null):(Po(),i=o.fallback,c=t.mode,o=ss({mode:"visible",children:o.children},c),(i=Vl(i,c,n,null)).flags|=2,o.return=t,i.return=t,o.sibling=i,t.child=o,ko(t,e.child,null,n),(o=t.child).memoizedState=rs(n),o.childLanes=os(e,r,n),t.memoizedState=ns,t=i);else if(Io(t),"$!"===c.data){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(o=Error(a(419))).stack="",o.digest=r,io({value:o,source:null,stack:null}),t=ls(e,t,n)}else if(Wa||ks(e,t,n,!1),r=0!==(n&e.childLanes),Wa||r){if(null!==(r=tc)){if(0!==(42&(o=n&-n)))o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(0!==(o=0!==(o&(r.suspendedLanes|n))?0:o)&&o!==l.retryLane)throw l.retryLane=o,jr(e,o),_c(r,e,o),za}"$?"===c.data||Wc(),t=ls(e,t,n)}else"$?"===c.data?(t.flags|=128,t.child=e.child,t=su.bind(null,e),c._reactRetry=t,t=null):(e=l.treeContext,Kr=sd(c.nextSibling),Jr=t,Xr=!0,$r=null,Qr=!1,null!==e&&(Ur[Vr++]=Hr,Ur[Vr++]=zr,Ur[Vr++]=Br,Hr=e.id,zr=e.overflow,Br=t),(t=as(t,o.children)).flags|=4096);return t}return i?(Po(),i=o.fallback,c=t.mode,u=(l=e.child).sibling,(o=Ll(l,{mode:"hidden",children:o.children})).subtreeFlags=31457280&l.subtreeFlags,null!==u?i=Ll(u,i):(i=Vl(i,c,n,null)).flags|=2,i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,null===(c=e.child.memoizedState)?c=rs(n):(null!==(l=c.cachePool)?(u=Vo._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Qo(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=os(e,r,n),t.memoizedState=ns,o):(Io(t),e=(n=e.child).sibling,(n=Ll(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function as(e,t){return(t=ss({mode:"visible",children:t},e.mode)).return=e,e.child=t}function ss(e,t){return Bl(e,t,0,null)}function ls(e,t,n){return ko(t,e.child,null,n),(e=as(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function cs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),bs(e.return,t,n)}function us(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function ds(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(qa(e,t,r.children,n),0!==(2&(r=Ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&cs(e,n,t);else if(19===e.tag)cs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(J(Ro,r),o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Do(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),us(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Do(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}us(t,!0,n,null,i);break;case"together":us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ps(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),dc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ks(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ll(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ll(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function hs(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ss(e))}function fs(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Wa=!0;else{if(!hs(e,n)&&0===(128&t.flags))return Wa=!1,function(e,t,n){switch(t.tag){case 3:Z(t,t.stateNode.containerInfo),vs(t,Vo,e.memoizedState.cache),oo();break;case 27:case 5:te(t);break;case 4:Z(t,t.stateNode.containerInfo);break;case 10:vs(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Io(t),t.flags|=128,null):0!==(n&t.child.childLanes)?is(e,t,n):(Io(t),null!==(e=ps(e,t,n))?e.sibling:null);Io(t);break;case 19:var o=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ks(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return ds(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),J(Ro,Ro.current),r)break;return null;case 22:case 23:return t.lanes=0,Ka(e,t,n);case 24:vs(t,Vo,e.memoizedState.cache)}return ps(e,t,n)}(e,t,n);Wa=0!==(131072&e.flags)}else Wa=!1,Xr&&0!==(1048576&t.flags)&&qr(t,Fr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,o=r._init;if(r=o(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((o=r.$$typeof)===y){t.tag=11,t=Ga(null,t,r,e,n);break e}if(o===b){t.tag=14,t=Ya(null,t,r,e,n);break e}}throw t=N(r)||r,Error(a(306,t,""))}Dl(r)?(e=Pa(r,e),t.tag=1,t=es(null,t,r,e,n)):(t.tag=0,t=Qa(null,t,r,e,n))}return t;case 0:return Qa(e,t,t.type,t.pendingProps,n);case 1:return es(e,t,r=t.type,o=Pa(r,t.pendingProps),n);case 3:e:{if(Z(t,t.stateNode.containerInfo),null===e)throw Error(a(387));var i=t.pendingProps;r=(o=t.memoizedState).element,Os(e,t),Ls(t,i,null,n);var s=t.memoizedState;if(i=s.cache,vs(t,Vo,i),i!==o.cache&&ws(t,[Vo],n,!0),Ds(),i=s.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=ts(e,t,i,n);break e}if(i!==r){io(r=Mr(Error(a(424)),t)),t=ts(e,t,i,n);break e}for(Kr=sd(t.stateNode.containerInfo.firstChild),Jr=t,Xr=!0,$r=null,Qr=!0,n=So(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(oo(),i===r){t=ps(e,t,n);break e}qa(e,t,i,n)}t=t.child}return t;case 26:return $a(e,t),null===e?(n=gd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Xr||(n=t.type,e=t.pendingProps,(r=Ku($.current).createElement(n))[Fe]=t,r[Ue]=e,Gu(r,n,e),$e(r),t.stateNode=r):t.memoizedState=gd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),null===e&&Xr&&(r=t.stateNode=cd(t.type,t.pendingProps,$.current),Jr=t,Qr=!0,Kr=sd(r.firstChild)),r=t.pendingProps.children,null!==e||Xr?qa(e,t,r,n):t.child=ko(t,null,r,n),$a(e,t),t.child;case 5:return null===e&&Xr&&((o=r=Kr)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==o.rel||e.getAttribute("href")!==(null==o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===i)return e}if(null===(e=sd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,Qr))?(t.stateNode=r,Jr=t,Kr=sd(r.firstChild),Qr=!1,o=!0):o=!1),o||eo(t)),te(t),o=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,r=i.children,Qu(o,i)?r=null:null!==s&&Qu(o,s)&&(t.flags|=32),null!==t.memoizedState&&(o=pi(e,t,mi,null,null,n),Dd._currentValue=o),$a(e,t),qa(e,t,r,n),t.child;case 6:return null===e&&Xr&&((e=n=Kr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=sd(e.nextSibling)))return null}return e}(n,t.pendingProps,Qr))?(t.stateNode=n,Jr=t,Kr=null,e=!0):e=!1),e||eo(t)),null;case 13:return is(e,t,n);case 4:return Z(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ko(t,null,r,n):qa(e,t,r,n),t.child;case 11:return Ga(e,t,t.type,t.pendingProps,n);case 7:return qa(e,t,t.pendingProps,n),t.child;case 8:case 12:return qa(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,vs(t,t.type,r.value),qa(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Es(t),r=r(o=Cs(o)),t.flags|=1,qa(e,t,r,n),t.child;case 14:return Ya(e,t,t.type,t.pendingProps,n);case 15:return Ja(e,t,t.type,t.pendingProps,n);case 19:return ds(e,t,n);case 22:return Ka(e,t,n);case 24:return Es(t),r=Cs(Vo),null===e?(null===(o=Xo())&&(o=tc,i=Bo(),o.pooledCache=i,i.refCount++,null!==i&&(o.pooledCacheLanes|=n),o=i),t.memoizedState={parent:r,cache:o},js(t),vs(t,Vo,o)):(0!==(e.lanes&n)&&(Os(e,t),Ls(t,null,null,n),Ds()),o=e.memoizedState,i=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),vs(t,Vo,r)):(r=i.cache,vs(t,Vo,r),r!==o.cache&&ws(t,[Vo],n,!0))),qa(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}var ms=G(null),gs=null,ys=null;function vs(e,t,n){J(ms,t._currentValue),t._currentValue=n}function xs(e){e._currentValue=ms.current,Y(ms)}function bs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ws(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var i=o.dependencies;if(null!==i){var s=o.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=o;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),bs(i.return,n,e),r||(s=null);break e}i=l.next}}else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(i=s.alternate)&&(i.lanes|=n),bs(s,n,e),s=null}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===e){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}}function ks(e,t,n,r){e=null;for(var o=t,i=!1;null!==o;){if(!i)if(0!==(524288&o.flags))i=!0;else if(0!==(262144&o.flags))break;if(10===o.tag){var s=o.alternate;if(null===s)throw Error(a(387));if(null!==(s=s.memoizedProps)){var l=o.type;Jn(o.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(o===Q.current){if(null===(s=o.alternate))throw Error(a(387));s.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(Dd):e=[Dd])}o=o.return}null!==e&&ws(t,e,n,r),t.flags|=262144}function Ss(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Es(e){gs=e,ys=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Cs(e){return Ns(gs,e)}function Ts(e,t){return null===gs&&Es(e),Ns(e,t)}function Ns(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ys){if(null===e)throw Error(a(308));ys=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ys=ys.next=t;return n}var As=!1;function js(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Os(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _s(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&ec)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Ir(e),Or(e,null,n),t}return Nr(e,r,t,n),Ir(e)}function Ps(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194176&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Me(e,n)}}function Ms(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Rs=!1;function Ds(){if(Rs){if(null!==Go)throw Go}}function Ls(e,t,n,r){Rs=!1;var o=e.updateQueue;As=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(a=0,u=c=l=null,s=i;;){var p=-536870913&s.lane,h=p!==s.lane;if(h?(rc&p)===p:(r&p)===p){0!==p&&p===qo&&(Rs=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var f=e,m=s;p=t;var g=n;switch(m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(g,d,p);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=m.payload)?f.call(g,d,p):f)||void 0===p)break e;d=I({},d,p);break e;case 2:As=!0}}null!==(p=s.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=o.callbacks)?o.callbacks=[p]:h.push(p))}else h={lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=h,l=d):u=u.next=h,a|=p;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(h=s).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null===i&&(o.shared.lanes=0),dc|=a,e.lanes=a,e.memoizedState=d}}function Fs(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function Us(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Fs(n[e],t)}function Vs(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var i=n.create,a=n.inst;r=i(),a.destroy=r}n=n.next}while(n!==o)}}catch(s){ru(t,t.return,s)}}function Bs(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var i=o.next;r=i;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,o=t;var l=n;try{s()}catch(c){ru(o,l,c)}}}r=r.next}while(r!==i)}}catch(c){ru(t,t.return,c)}}function Hs(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Us(t,n)}catch(r){ru(e,e.return,r)}}}function zs(e,t,n){n.props=Pa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){ru(e,t,r)}}function Ws(e,t){try{var n=e.ref;if(null!==n){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var o=r;break;default:o=r}"function"===typeof n?e.refCleanup=n(o):n.current=o}}catch(i){ru(e,t,i)}}function qs(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(o){ru(e,t,o)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){ru(e,t,i)}else n.current=null}function Gs(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){ru(e,e.return,o)}}function Ys(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,i=null,s=null,l=null,c=null,u=null,d=null;for(f in n){var p=n[f];if(n.hasOwnProperty(f)&&null!=p)switch(f){case"checked":case"value":break;case"defaultValue":c=p;default:r.hasOwnProperty(f)||Wu(e,t,f,null,r,p)}}for(var h in r){var f=r[h];if(p=n[h],r.hasOwnProperty(h)&&(null!=f||null!=p))switch(h){case"type":i=f;break;case"name":o=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:f!==p&&Wu(e,t,h,f,r,p)}}return void gt(e,s,l,c,u,d,i,o);case"select":for(i in f=s=l=h=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(i)||Wu(e,t,i,null,r,c)}for(o in r)if(i=r[o],c=n[o],r.hasOwnProperty(o)&&(null!=i||null!=c))switch(o){case"value":h=i;break;case"defaultValue":l=i;break;case"multiple":s=i;default:i!==c&&Wu(e,t,o,i,r,c)}return t=l,n=s,r=f,void(null!=h?xt(e,!!n,h,!1):!!r!==!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=h=null,n)if(o=n[l],n.hasOwnProperty(l)&&null!=o&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Wu(e,t,l,null,r,o)}for(s in r)if(o=r[s],i=n[s],r.hasOwnProperty(s)&&(null!=o||null!=i))switch(s){case"value":h=o;break;case"defaultValue":f=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(a(91));break;default:o!==i&&Wu(e,t,s,o,r,i)}return void bt(e,h,f);case"option":for(var m in n)if(h=n[m],n.hasOwnProperty(m)&&null!=h&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Wu(e,t,m,null,r,h);for(c in r)if(h=r[c],f=n[c],r.hasOwnProperty(c)&&h!==f&&(null!=h||null!=f))if("selected"===c)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else Wu(e,t,c,h,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)h=n[g],n.hasOwnProperty(g)&&null!=h&&!r.hasOwnProperty(g)&&Wu(e,t,g,null,r,h);for(u in r)if(h=r[u],f=n[u],r.hasOwnProperty(u)&&h!==f&&(null!=h||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:Wu(e,t,u,h,r,f)}return;default:if(Tt(t)){for(var y in n)h=n[y],n.hasOwnProperty(y)&&void 0!==h&&!r.hasOwnProperty(y)&&qu(e,t,y,void 0,r,h);for(d in r)h=r[d],f=n[d],!r.hasOwnProperty(d)||h===f||void 0===h&&void 0===f||qu(e,t,d,h,r,f);return}}for(var v in n)h=n[v],n.hasOwnProperty(v)&&null!=h&&!r.hasOwnProperty(v)&&Wu(e,t,v,null,r,h);for(p in r)h=r[p],f=n[p],!r.hasOwnProperty(p)||h===f||null==h&&null==f||Wu(e,t,p,h,r,f)}(r,e.type,n,t),r[Ue]=t}catch(o){ru(e,e.return,o)}}function Js(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function Ks(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Js(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Xs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=zu));else if(4!==r&&27!==r&&null!==(e=e.child))for(Xs(e,t,n),e=e.sibling;null!==e;)Xs(e,t,n),e=e.sibling}function $s(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for($s(e,t,n),e=e.sibling;null!==e;)$s(e,t,n),e=e.sibling}var Qs=!1,Zs=!1,el=!1,tl="function"===typeof WeakSet?WeakSet:Set,nl=null,rl=!1;function ol(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:yl(e,n),4&r&&Vs(5,n);break;case 1:if(yl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){ru(n,n.return,s)}else{var o=Pa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){ru(n,n.return,l)}}64&r&&Hs(n),512&r&&Ws(n,n.return);break;case 3:if(yl(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{Us(r,e)}catch(s){ru(n,n.return,s)}}break;case 26:yl(e,n),512&r&&Ws(n,n.return);break;case 27:case 5:yl(e,n),null===t&&4&r&&Gs(n),512&r&&Ws(n,n.return);break;case 12:default:yl(e,n);break;case 13:yl(e,n),4&r&&ul(e,n);break;case 22:if(!(o=null!==n.memoizedState||Qs)){t=null!==t&&null!==t.memoizedState||Zs;var i=Qs,a=Zs;Qs=o,(Zs=t)&&!a?xl(e,n,0!==(8772&n.subtreeFlags)):yl(e,n),Qs=i,Zs=a}512&r&&("manual"===n.memoizedProps.mode?Ws(n,n.return):qs(n,n.return))}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ge(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var al=null,sl=!1;function ll(e,t,n){for(n=n.child;null!==n;)cl(e,t,n),n=n.sibling}function cl(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(a){}switch(n.tag){case 26:Zs||qs(n,t),ll(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Zs||qs(n,t);var r=al,o=sl;for(al=n.stateNode,ll(e,t,n),t=(n=n.stateNode).attributes;t.length;)n.removeAttributeNode(t[0]);Ge(n),al=r,sl=o;break;case 5:Zs||qs(n,t);case 6:o=al;var i=sl;if(al=null,ll(e,t,n),sl=i,null!==(al=o))if(sl)try{e=al,r=n.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(s){ru(n,t,s)}else try{al.removeChild(n.stateNode)}catch(s){ru(n,t,s)}break;case 18:null!==al&&(sl?(t=al,n=n.stateNode,8===t.nodeType?id(t.parentNode,n):1===t.nodeType&&id(t,n),mp(t)):id(al,n.stateNode));break;case 4:r=al,o=sl,al=n.stateNode.containerInfo,sl=!0,ll(e,t,n),al=r,sl=o;break;case 0:case 11:case 14:case 15:Zs||Bs(2,n,t),Zs||Bs(4,n,t),ll(e,t,n);break;case 1:Zs||(qs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&zs(n,t,r)),ll(e,t,n);break;case 21:ll(e,t,n);break;case 22:Zs||qs(n,t),Zs=(r=Zs)||null!==n.memoizedState,ll(e,t,n),Zs=r;break;default:ll(e,t,n)}}function ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{mp(e)}catch(n){ru(t,t.return,n)}}function dl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new tl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new tl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach((function(t){var r=lu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:case 5:al=l.stateNode,sl=!1;break e;case 3:case 4:al=l.stateNode.containerInfo,sl=!0;break e}l=l.return}if(null===al)throw Error(a(160));cl(i,s,o),al=null,sl=!1,null!==(i=o.alternate)&&(i.return=null),o.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}var hl=null;function fl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pl(t,e),ml(e),4&r&&(Bs(3,e,e.return),Vs(3,e),Bs(5,e,e.return));break;case 1:pl(t,e),ml(e),512&r&&(Zs||null===n||qs(n,n.return)),64&r&&Qs&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var o=hl;if(pl(t,e),ml(e),512&r&&(Zs||null===n||qs(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(i=o.getElementsByTagName("title")[0])||i[qe]||i[Fe]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=o.createElement(r),o.head.insertBefore(i,o.querySelector("head > title"))),Gu(i,r,n),i[Fe]=e,$e(i),r=i;break e;case"link":var s=Nd("link","href",o).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((i=s[l]).getAttribute("href")===(null==n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}Gu(i=o.createElement(r),r,n),o.head.appendChild(i);break;case"meta":if(s=Nd("meta","content",o).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((i=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}Gu(i=o.createElement(r),r,n),o.head.appendChild(i);break;default:throw Error(a(468,r))}i[Fe]=e,$e(i),r=i}e.stateNode=r}else Ad(o,e.type,e.stateNode);else e.stateNode=kd(o,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?Ad(o,e.type,e.stateNode):kd(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Ys(e,e.memoizedProps,n.memoizedProps)}break;case 27:if(4&r&&null===e.alternate){o=e.stateNode,i=e.memoizedProps;try{for(var c=o.firstChild;c;){var u=c.nextSibling,d=c.nodeName;c[qe]||"HEAD"===d||"BODY"===d||"SCRIPT"===d||"STYLE"===d||"LINK"===d&&"stylesheet"===c.rel.toLowerCase()||o.removeChild(c),c=u}for(var p=e.type,h=o.attributes;h.length;)o.removeAttributeNode(h[0]);Gu(o,p,i),o[Fe]=e,o[Ue]=i}catch(m){ru(e,e.return,m)}}case 5:if(pl(t,e),ml(e),512&r&&(Zs||null===n||qs(n,n.return)),32&e.flags){o=e.stateNode;try{kt(o,"")}catch(m){ru(e,e.return,m)}}4&r&&null!=e.stateNode&&Ys(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(el=!0);break;case 6:if(pl(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){ru(e,e.return,m)}}break;case 3:if(Td=null,o=hl,hl=pd(t.containerInfo),pl(t,e),hl=o,ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{mp(t.containerInfo)}catch(m){ru(e,e.return,m)}el&&(el=!1,gl(e));break;case 4:r=hl,hl=pd(e.stateNode.containerInfo),pl(t,e),ml(e),hl=r;break;case 12:pl(t,e),ml(e);break;case 13:pl(t,e),ml(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(xc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 22:if(512&r&&(Zs||null===n||qs(n,n.return)),c=null!==e.memoizedState,u=null!==n&&null!==n.memoizedState,Qs=(d=Qs)||c,Zs=(p=Zs)||u,pl(t,e),Zs=p,Qs=d,ml(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&r&&(t._visibility=c?-2&t._visibility:1|t._visibility,c&&(t=Qs||Zs,null===n||u||t||vl(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){u=n=t;try{if(o=u.stateNode,c)"function"===typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{s=u.stateNode;var f=void 0!==(l=u.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null;s.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){ru(u,u.return,m)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(m){ru(u,u.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,dl(e,n))));break;case 19:pl(t,e),ml(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,dl(e,r)));break;case 21:break;default:pl(t,e),ml(e)}}function ml(e){var t=e.flags;if(2&t){try{if(27!==e.tag){e:{for(var n=e.return;null!==n;){if(Js(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 27:var o=r.stateNode;$s(e,Ks(e),o);break;case 5:var i=r.stateNode;32&r.flags&&(kt(i,""),r.flags&=-33),$s(e,Ks(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;Xs(e,Ks(e),s);break;default:throw Error(a(161))}}}catch(l){ru(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function yl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)ol(e,t.alternate,t),t=t.sibling}function vl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bs(4,t,t.return),vl(t);break;case 1:qs(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&zs(t,t.return,n),vl(t);break;case 26:case 27:case 5:qs(t,t.return),vl(t);break;case 22:qs(t,t.return),null===t.memoizedState&&vl(t);break;default:vl(t)}e=e.sibling}}function xl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,i=t,a=i.flags;switch(i.tag){case 0:case 11:case 15:xl(o,i,n),Vs(4,i);break;case 1:if(xl(o,i,n),"function"===typeof(o=(r=i).stateNode).componentDidMount)try{o.componentDidMount()}catch(c){ru(r,r.return,c)}if(null!==(o=(r=i).updateQueue)){var s=r.stateNode;try{var l=o.shared.hiddenCallbacks;if(null!==l)for(o.shared.hiddenCallbacks=null,o=0;o<l.length;o++)Fs(l[o],s)}catch(c){ru(r,r.return,c)}}n&&64&a&&Hs(i),Ws(i,i.return);break;case 26:case 27:case 5:xl(o,i,n),n&&null===r&&4&a&&Gs(i),Ws(i,i.return);break;case 12:default:xl(o,i,n);break;case 13:xl(o,i,n),n&&4&a&&ul(o,i);break;case 22:null===i.memoizedState&&xl(o,i,n),Ws(i,i.return)}t=t.sibling}}function bl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ho(n))}function wl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ho(e))}function kl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Sl(e,t,n,r),t=t.sibling}function Sl(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:kl(e,t,n,r),2048&o&&Vs(9,t);break;case 3:kl(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ho(e)));break;case 12:if(2048&o){kl(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,a=i.id,s=i.onPostCommit;"function"===typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){ru(t,t.return,l)}}else kl(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,null!==t.memoizedState?4&i._visibility?kl(e,t,n,r):Cl(e,t):4&i._visibility?kl(e,t,n,r):(i._visibility|=4,El(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&o&&bl(t.alternate,t);break;case 24:kl(e,t,n,r),2048&o&&wl(t.alternate,t);break;default:kl(e,t,n,r)}}function El(e,t,n,r,o){for(o=o&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,a=t,s=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:El(i,a,s,l,o),Vs(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?4&u._visibility?El(i,a,s,l,o):Cl(i,a):(u._visibility|=4,El(i,a,s,l,o)),o&&2048&c&&bl(a.alternate,a);break;case 24:El(i,a,s,l,o),o&&2048&c&&wl(a.alternate,a);break;default:El(i,a,s,l,o)}t=t.sibling}}function Cl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:Cl(n,r),2048&o&&bl(r.alternate,r);break;case 24:Cl(n,r),2048&o&&wl(r.alternate,r);break;default:Cl(n,r)}t=t.sibling}}var Tl=8192;function Nl(e){if(e.subtreeFlags&Tl)for(e=e.child;null!==e;)Al(e),e=e.sibling}function Al(e){switch(e.tag){case 26:Nl(e),e.flags&Tl&&null!==e.memoizedState&&function(e,t,n){if(null===Od)throw Error(a(475));var r=Od;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var o=yd(n.href),i=e.querySelector(vd(o));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=_d.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void $e(i);i=e.ownerDocument||e,n=xd(n),(o=ud.get(o))&&Ed(n,o),$e(i=i.createElement("link"));var s=i;s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),Gu(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=_d.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(hl,e.memoizedState,e.memoizedProps);break;case 5:default:Nl(e);break;case 3:case 4:var t=hl;hl=pd(e.stateNode.containerInfo),Nl(e),hl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Tl,Tl=16777216,Nl(e),Tl=t):Nl(e))}}function jl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Ol(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,Pl(r,e)}jl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Il(e),e=e.sibling}function Il(e){switch(e.tag){case 0:case 11:case 15:Ol(e),2048&e.flags&&Bs(9,e,e.return);break;case 3:case 12:default:Ol(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,_l(e)):Ol(e)}}function _l(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];nl=r,Pl(r,e)}jl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Bs(8,t,t.return),_l(t);break;case 22:4&(n=t.stateNode)._visibility&&(n._visibility&=-5,_l(t));break;default:_l(t)}e=e.sibling}}function Pl(e,t){for(;null!==nl;){var n=nl;switch(n.tag){case 0:case 11:case 15:Bs(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ho(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,nl=r;else e:for(n=e;null!==nl;){var o=(r=nl).sibling,i=r.return;if(il(r),r===n){nl=null;break e}if(null!==o){o.return=i,nl=o;break e}nl=i}}}function Ml(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,n,r){return new Ml(e,t,n,r)}function Dl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ll(e,t){var n=e.alternate;return null===n?((n=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fl(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ul(e,t,n,r,o,i){var s=0;if(r=e,"function"===typeof e)Dl(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,K.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case d:return Vl(n.children,o,i,t);case p:s=8,o|=24;break;case h:return(e=Rl(12,n,t,2|o)).elementType=h,e.lanes=i,e;case v:return(e=Rl(13,n,t,o)).elementType=v,e.lanes=i,e;case x:return(e=Rl(19,n,t,o)).elementType=x,e.lanes=i,e;case k:return Bl(n,o,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case f:case g:s=10;break e;case m:s=9;break e;case y:s=11;break e;case b:s=14;break e;case w:s=16,r=null;break e}s=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Rl(s,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function Vl(e,t,n,r){return(e=Rl(7,e,r,t)).lanes=n,e}function Bl(e,t,n,r){(e=Rl(22,e,r,t)).elementType=k,e.lanes=n;var o={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=o._current;if(null===e)throw Error(a(456));if(0===(2&o._pendingVisibility)){var t=jr(e,2);null!==t&&(o._pendingVisibility|=2,_c(t,e,2))}},attach:function(){var e=o._current;if(null===e)throw Error(a(456));if(0!==(2&o._pendingVisibility)){var t=jr(e,2);null!==t&&(o._pendingVisibility&=-3,_c(t,e,2))}}};return e.stateNode=o,e}function Hl(e,t,n){return(e=Rl(6,e,null,t)).lanes=n,e}function zl(e,t,n){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wl(e){e.flags|=4}function ql(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!jd(t)){if(null!==(t=jo.current)&&((4194176&rc)===rc?null!==Oo:(62914560&rc)!==rc&&0===(536870912&rc)||t!==Oo))throw ho=lo,so;e.flags|=8192}}function Gl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Oe():536870912,e.lanes|=t,mc|=t)}function Yl(e,t){if(!Xr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Jl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=31457280&o.subtreeFlags,r|=31457280&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Kl(e,t,n){var r=t.pendingProps;switch(Yr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Jl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),xs(Vo),ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ro(t)?Wl(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==$r&&(Mc($r),$r=null))),Jl(t),null;case 26:return n=t.memoizedState,null===e?(Wl(t),null!==n?(Jl(t),ql(t,n)):(Jl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Wl(t),Jl(t),ql(t,n)):(Jl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Wl(t),Jl(t),t.flags&=-16777217),null;case 27:ne(t),n=$.current;var o=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Wl(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Jl(t),null}e=K.current,ro(t)?to(t):(e=cd(o,r,n),t.stateNode=e,Wl(t))}return Jl(t),null;case 5:if(ne(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Wl(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Jl(t),null}if(e=K.current,ro(t))to(t);else{switch(o=Ku($.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?o.createElement(n,{is:r.is}):o.createElement(n)}}e[Fe]=t,e[Ue]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(Gu(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Wl(t)}}return Jl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Wl(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=$.current,ro(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=Jr))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[Fe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Hu(e.nodeValue,n)))||eo(t)}else(e=Ku(e).createTextNode(r))[Fe]=t,t.stateNode=e}return Jl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=ro(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[Fe]=t}else oo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Jl(t),o=!1}else null!==$r&&(Mc($r),$r=null),o=!0;if(!o)return 256&t.flags?(Mo(t),t):(Mo(t),null)}if(Mo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==o&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Gl(t,t.updateQueue),Jl(t),null;case 4:return ee(),null===e&&_u(t.stateNode.containerInfo),Jl(t),null;case 10:return xs(t.type),Jl(t),null;case 19:if(Y(Ro),null===(o=t.memoizedState))return Jl(t),null;if(r=0!==(128&t.flags),null===(i=o.rendering))if(r)Yl(o,!1);else{if(0!==uc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=Do(e))){for(t.flags|=128,Yl(o,!1),e=i.updateQueue,t.updateQueue=e,Gl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Fl(n,e),n=n.sibling;return J(Ro,1&Ro.current|2),t.child}e=e.sibling}null!==o.tail&&le()>bc&&(t.flags|=128,r=!0,Yl(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Do(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Gl(t,e),Yl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!i.alternate&&!Xr)return Jl(t),null}else 2*le()-o.renderingStartTime>bc&&536870912!==n&&(t.flags|=128,r=!0,Yl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=o.last)?e.sibling=i:t.child=i,o.last=i)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=le(),t.sibling=null,e=Ro.current,J(Ro,r?1&e|2:1&e),t):(Jl(t),null);case 22:case 23:return Mo(t),Ao(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(Jl(t),6&t.subtreeFlags&&(t.flags|=8192)):Jl(t),null!==(n=t.updateQueue)&&Gl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&Y(Ko),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xs(Vo),Jl(t),null;case 25:return null}throw Error(a(156,t.tag))}function Xl(e,t){switch(Yr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return xs(Vo),ee(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ne(t),null;case 13:if(Mo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));oo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Y(Ro),null;case 4:return ee(),null;case 10:return xs(t.type),null;case 22:case 23:return Mo(t),Ao(),null!==e&&Y(Ko),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return xs(Vo),null;default:return null}}function $l(e,t){switch(Yr(t),t.tag){case 3:xs(Vo),ee();break;case 26:case 27:case 5:ne(t);break;case 4:ee();break;case 13:Mo(t);break;case 19:Y(Ro);break;case 10:xs(t.type);break;case 22:case 23:Mo(t),Ao(),null!==e&&Y(Ko);break;case 24:xs(Vo)}}var Ql={getCacheForType:function(e){var t=Cs(Vo),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},Zl="function"===typeof WeakMap?WeakMap:Map,ec=0,tc=null,nc=null,rc=0,oc=0,ic=null,ac=!1,sc=!1,lc=!1,cc=0,uc=0,dc=0,pc=0,hc=0,fc=0,mc=0,gc=null,yc=null,vc=!1,xc=0,bc=1/0,wc=null,kc=null,Sc=!1,Ec=null,Cc=0,Tc=0,Nc=null,Ac=0,jc=null;function Oc(){if(0!==(2&ec)&&0!==rc)return rc&-rc;if(null!==O.T){return 0!==qo?qo:wu()}return De()}function Ic(){0===fc&&(fc=0===(536870912&rc)||Xr?je():536870912);var e=jo.current;return null!==e&&(e.flags|=32),fc}function _c(e,t,n){(e===tc&&2===oc||null!==e.cancelPendingCommit)&&(Vc(e,0),Lc(e,rc,fc,!1)),_e(e,n),0!==(2&ec)&&e===tc||(e===tc&&(0===(2&ec)&&(pc|=n),4===uc&&Lc(e,rc,fc,!1)),mu(e))}function Pc(e,t,n){if(0!==(6&ec))throw Error(a(327));for(var r=!n&&0===(60&t)&&0===(t&e.expiredLanes)||Ne(e,t),o=r?function(e,t){var n=ec;ec|=2;var r=Hc(),o=zc();tc!==e||rc!==t?(wc=null,bc=le()+500,Vc(e,t)):sc=Ne(e,t);e:for(;;)try{if(0!==oc&&null!==nc){t=nc;var i=ic;t:switch(oc){case 1:oc=0,ic=null,Xc(e,t,i,1);break;case 2:if(co(i)){oc=0,ic=null,Kc(t);break}t=function(){2===oc&&tc===e&&(oc=7),mu(e)},i.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:co(i)?(oc=0,ic=null,Kc(t)):(oc=0,ic=null,Xc(e,t,i,7));break;case 5:var s=null;switch(nc.tag){case 26:s=nc.memoizedState;case 5:case 27:var l=nc;if(!s||jd(s)){oc=0,ic=null;var c=l.sibling;if(null!==c)nc=c;else{var u=l.return;null!==u?(nc=u,$c(u)):nc=null}break t}}oc=0,ic=null,Xc(e,t,i,5);break;case 6:oc=0,ic=null,Xc(e,t,i,6);break;case 8:Uc(),uc=6;break e;default:throw Error(a(462))}}Yc();break}catch(d){Bc(e,d)}return ys=gs=null,O.H=r,O.A=o,ec=n,null!==nc?0:(tc=null,rc=0,Tr(),uc)}(e,t):qc(e,t,!0),i=r;;){if(0===o){sc&&!r&&Lc(e,t,0,!1);break}if(6===o)Lc(e,t,0,!ac);else{if(n=e.current.alternate,i&&!Dc(n)){o=qc(e,t,!1),i=!1;continue}if(2===o){if(i=t,e.errorRecoveryDisabledLanes&i)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;o=gc;var c=l.current.memoizedState.isDehydrated;if(c&&(Vc(l,s).flags|=256),2!==(s=qc(l,s,!1))){if(lc&&!c){l.errorRecoveryDisabledLanes|=i,pc|=i,o=4;break e}i=yc,yc=o,null!==i&&Mc(i)}o=s}if(i=!1,2!==o)continue}}if(1===o){Vc(e,0),Lc(e,t,0,!0);break}e:{switch(r=e,o){case 0:case 1:throw Error(a(345));case 4:if((4194176&t)===t){Lc(r,t,fc,!ac);break e}break;case 2:yc=null;break;case 3:case 5:break;default:throw Error(a(329))}if(r.finishedWork=n,r.finishedLanes=t,(62914560&t)===t&&10<(i=xc+300-le())){if(Lc(r,t,fc,!ac),0!==Te(r,0))break e;r.timeoutHandle=ed(Rc.bind(null,r,n,yc,wc,vc,t,fc,pc,mc,ac,2,-0,0),i)}else Rc(r,n,yc,wc,vc,t,fc,pc,mc,ac,0,-0,0)}}break}mu(e)}function Mc(e){null===yc?yc=e:yc.push.apply(yc,e)}function Rc(e,t,n,r,o,i,s,l,c,u,d,p,h){var f=t.subtreeFlags;if((8192&f||16785408===(16785408&f))&&(Od={stylesheets:null,count:0,unsuspend:Id},Al(t),null!==(t=function(){if(null===Od)throw Error(a(475));var e=Od;return e.stylesheets&&0===e.count&&Md(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Md(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=t(Zc.bind(null,e,n,r,o,s,l,c,1,p,h)),void Lc(e,i,s,!u);Zc(e,n,r,o,s,l,c,d,p,h)}function Dc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Jn(i(),o))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lc(e,t,n,r){t&=~hc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var i=31-be(o),a=1<<i;r[i]=-1,o&=~a}0!==n&&Pe(e,n,t)}function Fc(){return 0!==(6&ec)||(gu(0,!1),!1)}function Uc(){if(null!==nc){if(0===oc)var e=nc.return;else ys=gs=null,vi(e=nc),mo=null,go=0,e=nc;for(;null!==e;)$l(e.alternate,e),e=e.return;nc=null}}function Vc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,td(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uc(),tc=e,nc=n=Ll(e.current,null),rc=t,oc=0,ic=null,ac=!1,sc=Ne(e,t),lc=!1,mc=fc=hc=pc=dc=uc=0,yc=gc=null,vc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-be(r),i=1<<o;t|=e[o],r&=~i}return cc=t,Tr(),n}function Bc(e,t){ei=null,O.H=Ca,t===ao?(t=fo(),oc=3):t===so?(t=fo(),oc=4):oc=t===za?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ic=t,null===nc&&(uc=1,Fa(e,Mr(t,e.current)))}function Hc(){var e=O.H;return O.H=Ca,null===e?Ca:e}function zc(){var e=O.A;return O.A=Ql,e}function Wc(){uc=4,ac||(4194176&rc)!==rc&&null!==jo.current||(sc=!0),0===(134217727&dc)&&0===(134217727&pc)||null===tc||Lc(tc,rc,fc,!1)}function qc(e,t,n){var r=ec;ec|=2;var o=Hc(),i=zc();tc===e&&rc===t||(wc=null,Vc(e,t)),t=!1;var a=uc;e:for(;;)try{if(0!==oc&&null!==nc){var s=nc,l=ic;switch(oc){case 8:Uc(),a=6;break e;case 3:case 2:case 6:null===jo.current&&(t=!0);var c=oc;if(oc=0,ic=null,Xc(e,s,l,c),n&&sc){a=0;break e}break;default:c=oc,oc=0,ic=null,Xc(e,s,l,c)}}Gc(),a=uc;break}catch(u){Bc(e,u)}return t&&e.shellSuspendCounter++,ys=gs=null,ec=r,O.H=o,O.A=i,null===nc&&(tc=null,rc=0,Tr()),a}function Gc(){for(;null!==nc;)Jc(nc)}function Yc(){for(;null!==nc&&!ae();)Jc(nc)}function Jc(e){var t=fs(e.alternate,e,cc);e.memoizedProps=e.pendingProps,null===t?$c(e):nc=t}function Kc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Za(n,t,t.pendingProps,t.type,void 0,rc);break;case 11:t=Za(n,t,t.pendingProps,t.type.render,t.ref,rc);break;case 5:vi(t);default:$l(n,t),t=fs(n,t=nc=Fl(t,cc),cc)}e.memoizedProps=e.pendingProps,null===t?$c(e):nc=t}function Xc(e,t,n,r){ys=gs=null,vi(t),mo=null,go=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ks(t,n,o,!0),null!==(n=jo.current)){switch(n.tag){case 13:return null===Oo?Wc():null===n.alternate&&0===uc&&(uc=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===lo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),ou(e,r,o)),!1;case 22:return n.flags|=65536,r===lo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),ou(e,r,o)),!1}throw Error(a(435,n.tag))}return ou(e,r,o),Wc(),!1}if(Xr)return null!==(t=jo.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==Zr&&io(Mr(e=Error(a(422),{cause:r}),n))):(r!==Zr&&io(Mr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=Mr(r,n),Ms(e,o=Va(e.stateNode,r,o)),4!==uc&&(uc=2)),!1;var i=Error(a(520),{cause:r});if(i=Mr(i,n),null===gc?gc=[i]:gc.push(i),4!==uc&&(uc=2),null===t)return!0;r=Mr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,Ms(n,e=Va(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===kc||!kc.has(i))))return n.flags|=65536,o&=-o,n.lanes|=o,Ha(o=Ba(o),e,n,r),Ms(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,rc))return uc=1,Fa(e,Mr(n,e.current)),void(nc=null)}catch(i){if(null!==o)throw nc=o,i;return uc=1,Fa(e,Mr(n,e.current)),void(nc=null)}32768&t.flags?(Xr||1===r?e=!0:sc||0!==(536870912&rc)?e=!1:(ac=e=!0,(2===r||3===r||6===r)&&(null!==(r=jo.current)&&13===r.tag&&(r.flags|=16384))),Qc(t,e)):$c(t)}function $c(e){var t=e;do{if(0!==(32768&t.flags))return void Qc(t,ac);e=t.return;var n=Kl(t.alternate,t,cc);if(null!==n)return void(nc=n);if(null!==(t=t.sibling))return void(nc=t);nc=t=e}while(null!==t);0===uc&&(uc=5)}function Qc(e,t){do{var n=Xl(e.alternate,e);if(null!==n)return n.flags&=32767,void(nc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(nc=e);nc=e=n}while(null!==e);uc=6,nc=null}function Zc(e,t,n,r,o,i,s,l,c,u){var d=O.T,p=H.p;try{H.p=2,O.T=null,function(e,t,n,r,o,i,s,l){do{tu()}while(null!==Ec);if(0!==(6&ec))throw Error(a(327));var c=e.finishedWork;if(r=e.finishedLanes,null===c)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(function(e,t,n,r,o,i){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-be(n),d=1<<u;s[u]=0,l[u]=-1;var p=c[u];if(null!==p)for(c[u]=null,u=0;u<p.length;u++){var h=p[u];null!==h&&(h.lane&=-536870913)}n&=~d}0!==r&&Pe(e,r,0),0!==i&&0===o&&0!==e.tag&&(e.suspendedLanes|=i&~(a&~t))}(e,r,u|=Cr,i,s,l),e===tc&&(nc=tc=null,rc=0),0===(10256&c.subtreeFlags)&&0===(10256&c.flags)||Sc||(Sc=!0,Tc=u,Nc=n,function(e,t){oe(e,t)}(pe,(function(){return tu(),null}))),n=0!==(15990&c.flags),0!==(15990&c.subtreeFlags)||n?(n=O.T,O.T=null,i=H.p,H.p=2,s=ec,ec|=4,function(e,t){if(e=e.containerInfo,Yu=Wd,er(e=Zn(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,p=e,h=null;t:for(;;){for(var f;p!==n||0!==o&&3!==p.nodeType||(l=s+o),p!==i||0!==r&&3!==p.nodeType||(c=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(f=p.firstChild);)h=p,p=f;for(;;){if(p===e)break t;if(h===n&&++u===o&&(l=s),h===i&&++d===r&&(c=s),null!==(f=p.nextSibling))break;h=(p=h).parentNode}p=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ju={focusedElem:e,selectionRange:n},Wd=!1,nl=t;null!==nl;)if(e=(t=nl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,nl=e;else for(;null!==nl;){switch(i=(t=nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,o=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var m=Pa(n.type,o,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){ru(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))ad(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ad(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,nl=e;break}nl=t.return}m=rl,rl=!1}(e,c),fl(c,e),tr(Ju,e.containerInfo),Wd=!!Yu,Ju=Yu=null,e.current=c,ol(e,c.alternate,c),se(),ec=s,H.p=i,O.T=n):e.current=c,Sc?(Sc=!1,Ec=e,Cc=r):eu(e,u),u=e.pendingLanes,0===u&&(kc=null),function(e){if(ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,e,void 0,128===(128&e.current.flags))}catch(t){}}(c.stateNode),mu(e),null!==t)for(o=e.onRecoverableError,c=0;c<t.length;c++)u=t[c],o(u.value,{componentStack:u.stack});0!==(3&Cc)&&tu(),u=e.pendingLanes,0!==(4194218&r)&&0!==(42&u)?e===jc?Ac++:(Ac=0,jc=e):Ac=0,gu(0,!1)}(e,t,n,r,p,o,i,s)}finally{O.T=d,H.p=p}}function eu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ho(t)))}function tu(){if(null!==Ec){var e=Ec,t=Tc;Tc=0;var n=Re(Cc),r=O.T,o=H.p;try{if(H.p=32>n?32:n,O.T=null,null===Ec)var i=!1;else{n=Nc,Nc=null;var s=Ec,l=Cc;if(Ec=null,Cc=0,0!==(6&ec))throw Error(a(331));var c=ec;if(ec|=4,Il(s.current),Sl(s,s.current,l,n),ec=c,gu(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,s)}catch(u){}i=!0}return i}finally{H.p=o,O.T=r,eu(e,t)}}return!1}function nu(e,t,n){t=Mr(n,t),null!==(e=_s(e,t=Va(e.stateNode,t,2),2))&&(_e(e,2),mu(e))}function ru(e,t,n){if(3===e.tag)nu(e,e,n);else for(;null!==t;){if(3===t.tag){nu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===kc||!kc.has(r))){e=Mr(n,e),null!==(r=_s(t,n=Ba(2),2))&&(Ha(n,r,t,e),_e(r,2),mu(r));break}}t=t.return}}function ou(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Zl;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(lc=!0,o.add(n),e=iu.bind(null,e,t,n),t.then(e,e))}function iu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,tc===e&&(rc&n)===n&&(4===uc||3===uc&&(62914560&rc)===rc&&300>le()-xc?0===(2&ec)&&Vc(e,0):hc|=n,mc===rc&&(mc=0)),mu(e)}function au(e,t){0===t&&(t=Oe()),null!==(e=jr(e,t))&&(_e(e,t),mu(e))}function su(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),au(e,n)}function lu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),au(e,n)}var cu=null,uu=null,du=!1,pu=!1,hu=!1,fu=0;function mu(e){var t;e!==uu&&null===e.next&&(null===uu?cu=uu=e:uu=uu.next=e),pu=!0,du||(du=!0,t=yu,rd((function(){0!==(6&ec)?oe(ue,t):t()})))}function gu(e,t){if(!hu&&pu){hu=!0;do{for(var n=!1,r=cu;null!==r;){if(!t)if(0!==e){var o=r.pendingLanes;if(0===o)var i=0;else{var a=r.suspendedLanes,s=r.pingedLanes;i=(1<<31-be(42|e)+1)-1,i=201326677&(i&=o&~(a&~s))?201326677&i|1:i?2|i:0}0!==i&&(n=!0,bu(r,i))}else i=rc,0===(3&(i=Te(r,r===tc?i:0)))||Ne(r,i)||(n=!0,bu(r,i));r=r.next}}while(n);hu=!1}}function yu(){pu=du=!1;var e=0;0!==fu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Zu&&(Zu=e,!0);return Zu=null,!1}()&&(e=fu),fu=0);for(var t=le(),n=null,r=cu;null!==r;){var o=r.next,i=vu(r,t);0===i?(r.next=null,null===n?cu=o:n.next=o,null===o&&(uu=n)):(n=r,(0!==e||0!==(3&i))&&(pu=!0)),r=o}gu(e,!1)}function vu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var a=31-be(i),s=1<<a,l=o[a];-1===l?0!==(s&n)&&0===(s&r)||(o[a]=Ae(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}if(n=rc,n=Te(e,e===(t=tc)?n:0),r=e.callbackNode,0===n||e===t&&2===oc||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ie(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ne(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ie(r),Re(n)){case 2:case 8:n=de;break;case 32:default:n=pe;break;case 268435456:n=fe}return r=xu.bind(null,e),n=oe(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ie(r),e.callbackPriority=2,e.callbackNode=null,2}function xu(e,t){var n=e.callbackNode;if(tu()&&e.callbackNode!==n)return null;var r=rc;return 0===(r=Te(e,e===tc?r:0))?null:(Pc(e,r,t),vu(e,le()),null!=e.callbackNode&&e.callbackNode===n?xu.bind(null,e):null)}function bu(e,t){if(tu())return null;Pc(e,t,!0)}function wu(){return 0===fu&&(fu=je()),fu}function ku(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:jt(""+e)}function Su(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Eu=0;Eu<wr.length;Eu++){var Cu=wr[Eu];kr(Cu.toLowerCase(),"on"+(Cu[0].toUpperCase()+Cu.slice(1)))}kr(hr,"onAnimationEnd"),kr(fr,"onAnimationIteration"),kr(mr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(gr,"onTransitionRun"),kr(yr,"onTransitionStart"),kr(vr,"onTransitionCancel"),kr(xr,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tu));function Au(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;i=s,o.currentTarget=c;try{i(o)}catch(u){Ma(u)}o.currentTarget=null,i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;i=s,o.currentTarget=c;try{i(o)}catch(u){Ma(u)}o.currentTarget=null,i=l}}}}function ju(e,t){var n=t[Be];void 0===n&&(n=t[Be]=new Set);var r=e+"__bubble";n.has(r)||(Pu(t,e,2,!1),n.add(r))}function Ou(e,t,n){var r=0;t&&(r|=4),Pu(n,e,r,t)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function _u(e){if(!e[Iu]){e[Iu]=!0,Qe.forEach((function(t){"selectionchange"!==t&&(Nu.has(t)||Ou(t,!1,e),Ou(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Iu]||(t[Iu]=!0,Ou("selectionchange",!1,t))}}function Pu(e,t,n,r){switch($d(t)){case 2:var o=qd;break;case 8:o=Gd;break;default:o=Yd}n=o.bind(null,t,n,e),o=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Mu(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=Ye(s)))return;if(5===(l=a.tag)||6===l||26===l||27===l){r=i=a;continue e}s=s.parentNode}}r=r.return}Dt((function(){var r=i,o=It(n),a=[];e:{var s=br.get(e);if(void 0!==s){var l=Qt,c=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":l=fn;break;case"focusin":c="focus",l=on;break;case"focusout":c="blur",l=on;break;case"beforeblur":case"afterblur":l=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=gn;break;case hr:case fr:case mr:l=an;break;case xr:l=yn;break;case"scroll":case"scrollend":l=en;break;case"wheel":l=vn;break;case"copy":case"cut":case"paste":l=sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=mn;break;case"toggle":case"beforetoggle":l=xn}var u=0!==(4&t),d=!u&&("scroll"===e||"scrollend"===e),p=u?null!==s?s+"Capture":null:s;u=[];for(var h,f=r;null!==f;){var m=f;if(h=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===h||null===p||null!=(m=Lt(f,p))&&u.push(Ru(f,m,h)),d)break;f=f.return}0<u.length&&(s=new l(s,c,null,n,o),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Ot||!(c=n.relatedTarget||n.fromElement)||!Ye(c)&&!c[Ve])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ye(c):null)&&(d=L(c),u=c.tag,c!==d||5!==u&&27!==u&&6!==u)&&(c=null)):(l=null,c=r),l!==c)){if(u=nn,m="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=mn,m="onPointerLeave",p="onPointerEnter",f="pointer"),d=null==l?s:Ke(l),h=null==c?s:Ke(c),(s=new u(m,f+"leave",l,n,o)).target=d,s.relatedTarget=h,m=null,Ye(o)===r&&((u=new u(p,f+"enter",c,n,o)).target=h,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(p=c,f=0,h=u=l;h;h=Lu(h))f++;for(h=0,m=p;m;m=Lu(m))h++;for(;0<f-h;)u=Lu(u),f--;for(;0<h-f;)p=Lu(p),h--;for(;f--;){if(u===p||null!==p&&u===p.alternate)break e;u=Lu(u),p=Lu(p)}u=null}else u=null;null!==l&&Fu(a,s,l,u,!1),null!==c&&null!==d&&Fu(a,d,c,u,!0)}if("select"===(l=(s=r?Ke(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Ln;else if(In(s))if(Fn)g=Yn;else{g=qn;var y=Wn}else!(l=s.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Tt(r.elementType)&&(g=Ln):g=Gn;switch(g&&(g=g(e,r))?_n(a,g,n,o):(y&&y(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&vt(s,"number",s.value)),y=r?Ke(r):window,e){case"focusin":(In(y)||"true"===y.contentEditable)&&(rr=y,or=r,ir=null);break;case"focusout":ir=or=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,sr(a,n,o);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(a,n,o)}var v;if(wn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else jn?Nn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(En&&"ko"!==n.locale&&(jn||"onCompositionStart"!==x?"onCompositionEnd"===x&&jn&&(v=zt()):(Bt="value"in(Vt=o)?Vt.value:Vt.textContent,jn=!0)),0<(y=Du(r,x)).length&&(x=new ln(x,e,null,n,o),a.push({event:x,listeners:y}),v?x.data=v:null!==(v=An(n))&&(x.data=v))),(v=Sn?function(e,t){switch(e){case"compositionend":return An(t);case"keypress":return 32!==t.which?null:(Tn=!0,Cn);case"textInput":return(e=t.data)===Cn&&Tn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!wn&&Nn(e,t)?(e=zt(),Ht=Bt=Vt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=Du(r,"onBeforeInput")).length&&(y=new ln("onBeforeInput","beforeinput",null,n,o),a.push({event:y,listeners:x}),y.data=v)),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var i=ku((o[Ue]||null).action),a=r.submitter;a&&null!==(t=(t=a[Ue]||null)?ku(t.formAction):a.getAttribute("formAction"))&&(i=t,a=null);var s=new Qt("action","action",null,r,o);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==fu){var e=a?Su(o,a):new FormData(o);da(n,{pending:!0,data:e,method:o.method,action:i},null,e)}}else"function"===typeof i&&(s.preventDefault(),e=a?Su(o,a):new FormData(o),da(n,{pending:!0,data:e,method:o.method,action:i},i,e))},currentTarget:o}]})}}(a,e,r,n,o)}Au(a,t)}))}function Ru(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Du(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5!==(o=o.tag)&&26!==o&&27!==o||null===i||(null!=(o=Lt(e,n))&&r.unshift(Ru(e,o,i)),null!=(o=Lt(e,t))&&r.push(Ru(e,o,i))),e=e.return}return r}function Lu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Fu(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,o?null!=(c=Lt(n,i))&&a.unshift(Ru(n,c,l)):o||null!=(c=Lt(n,i))&&a.push(Ru(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Uu=/\r\n?/g,Vu=/\u0000|\uFFFD/g;function Bu(e){return("string"===typeof e?e:""+e).replace(Uu,"\n").replace(Vu,"")}function Hu(e,t){return t=Bu(t),Bu(e)===t}function zu(){}function Wu(e,t,n,r,o,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":st(e,"class",r);break;case"tabIndex":st(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":st(e,n,r);break;case"style":Ct(e,r,i);break;case"data":if("object"!==t){st(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=jt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&Wu(e,t,"name",o.name,o,null),Wu(e,t,"formEncType",o.formEncType,o,null),Wu(e,t,"formMethod",o.formMethod,o,null),Wu(e,t,"formTarget",o.formTarget,o,null)):(Wu(e,t,"encType",o.encType,o,null),Wu(e,t,"method",o.method,o,null),Wu(e,t,"target",o.target,o,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=jt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=zu);break;case"onScroll":null!=r&&ju("scroll",e);break;case"onScrollEnd":null!=r&&ju("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=jt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":ju("beforetoggle",e),ju("toggle",e),at(e,"popover",r);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":at(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&at(e,n=Nt.get(n)||n,r)}}function qu(e,t,n,r,o,i){switch(n){case"style":Ct(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&ju("scroll",e);break;case"onScrollEnd":null!=r&&ju("scrollend",e);break;case"onClick":null!=r&&(e.onclick=zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"===typeof(i=null!=(i=e[Ue]||null)?i[n]:null)&&e.removeEventListener(t,i,o),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):at(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function Gu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ju("error",e),ju("load",e);var r,o=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":o=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Wu(e,t,r,s,n,null)}}return i&&Wu(e,t,"srcSet",n.srcSet,n,null),void(o&&Wu(e,t,"src",n.src,n,null));case"input":ju("invalid",e);var l=r=s=i=null,c=null,u=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":i=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:Wu(e,t,o,d,n,null)}}return yt(e,r,l,c,u,s,i,!1),void dt(e);case"select":for(i in ju("invalid",e),o=s=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":o=l;default:Wu(e,t,i,l,n,null)}return t=r,n=s,e.multiple=!!o,void(null!=t?xt(e,!!o,t,!1):null!=n&&xt(e,!!o,n,!0));case"textarea":for(s in ju("invalid",e),r=i=o=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":o=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Wu(e,t,s,l,n,null)}return wt(e,o,i,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))if("selected"===c)e.selected=o&&"function"!==typeof o&&"symbol"!==typeof o;else Wu(e,t,c,o,n,null);return;case"dialog":ju("cancel",e),ju("close",e);break;case"iframe":case"object":ju("load",e);break;case"video":case"audio":for(o=0;o<Tu.length;o++)ju(Tu[o],e);break;case"image":ju("error",e),ju("load",e);break;case"details":ju("toggle",e);break;case"embed":case"source":case"link":ju("error",e),ju("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Wu(e,t,u,o,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(o=n[d])&&qu(e,t,d,o,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(o=n[l])&&Wu(e,t,l,o,n,null))}var Yu=null,Ju=null;function Ku(e){return 9===e.nodeType?e:e.ownerDocument}function Xu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $u(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Qu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zu=null;var ed="function"===typeof setTimeout?setTimeout:void 0,td="function"===typeof clearTimeout?clearTimeout:void 0,nd="function"===typeof Promise?Promise:void 0,rd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nd?function(e){return nd.resolve(null).then(e).catch(od)}:ed;function od(e){setTimeout((function(){throw e}))}function id(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void mp(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);mp(t)}function ad(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ad(n),Ge(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function sd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function ld(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function cd(e,t,n){switch(t=Ku(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}var ud=new Map,dd=new Set;function pd(e){return"function"===typeof e.getRootNode?e.getRootNode():e.ownerDocument}var hd=H.d;H.d={f:function(){var e=hd.f(),t=Fc();return e||t},r:function(e){var t=Je(e);null!==t&&5===t.tag&&"form"===t.type?ha(t):hd.r(e)},D:function(e){hd.D(e),md("dns-prefetch",e,null)},C:function(e,t){hd.C(e,t),md("preconnect",e,t)},L:function(e,t,n){hd.L(e,t,n);var r=fd;if(r&&e&&t){var o='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(o+='[imagesizes="'+mt(n.imageSizes)+'"]')):o+='[href="'+mt(e)+'"]';var i=o;switch(t){case"style":i=yd(e);break;case"script":i=bd(e)}ud.has(i)||(e=I({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),ud.set(i,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(vd(i))||"script"===t&&r.querySelector(wd(i))||(Gu(t=r.createElement("link"),"link",e),$e(t),r.head.appendChild(t)))}},m:function(e,t){hd.m(e,t);var n=fd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',i=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=bd(e)}if(!ud.has(i)&&(e=I({rel:"modulepreload",href:e},t),ud.set(i,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(wd(i)))return}Gu(r=n.createElement("link"),"link",e),$e(r),n.head.appendChild(r)}}},X:function(e,t){hd.X(e,t);var n=fd;if(n&&e){var r=Xe(n).hoistableScripts,o=bd(e),i=r.get(o);i||((i=n.querySelector(wd(o)))||(e=I({src:e,async:!0},t),(t=ud.get(o))&&Cd(e,t),$e(i=n.createElement("script")),Gu(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}},S:function(e,t,n){hd.S(e,t,n);var r=fd;if(r&&e){var o=Xe(r).hoistableStyles,i=yd(e);t=t||"default";var a=o.get(i);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(vd(i)))s.loading=5;else{e=I({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ud.get(i))&&Ed(e,n);var l=a=r.createElement("link");$e(l),Gu(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){s.loading|=1})),l.addEventListener("error",(function(){s.loading|=2})),s.loading|=4,Sd(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},o.set(i,a)}}},M:function(e,t){hd.M(e,t);var n=fd;if(n&&e){var r=Xe(n).hoistableScripts,o=bd(e),i=r.get(o);i||((i=n.querySelector(wd(o)))||(e=I({src:e,async:!0,type:"module"},t),(t=ud.get(o))&&Cd(e,t),$e(i=n.createElement("script")),Gu(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}}};var fd="undefined"===typeof document?null:document;function md(e,t,n){var r=fd;if(r&&"string"===typeof t&&t){var o=mt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"===typeof n&&(o+='[crossorigin="'+n+'"]'),dd.has(o)||(dd.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(Gu(t=r.createElement("link"),"link",e),$e(t),r.head.appendChild(t)))}}function gd(e,t,n,r){var o,i,s,l,c=(c=$.current)?pd(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=yd(n.href),(r=(n=Xe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=yd(n.href);var u=Xe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(vd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),ud.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ud.set(e,n),u||(o=c,i=e,s=n,l=d.state,o.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=o.createElement("link"),l.preload=i,i.addEventListener("load",(function(){return l.loading|=1})),i.addEventListener("error",(function(){return l.loading|=2})),Gu(i,"link",s),$e(i),o.head.appendChild(i))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=bd(n),(r=(n=Xe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function yd(e){return'href="'+mt(e)+'"'}function vd(e){return'link[rel="stylesheet"]['+e+"]"}function xd(e){return I({},e,{"data-precedence":e.precedence,precedence:null})}function bd(e){return'[src="'+mt(e)+'"]'}function wd(e){return"script[async]"+e}function kd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,$e(r),r;var o=I({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return $e(r=(e.ownerDocument||e).createElement("style")),Gu(r,"style",o),Sd(r,n.precedence,e),t.instance=r;case"stylesheet":o=yd(n.href);var i=e.querySelector(vd(o));if(i)return t.state.loading|=4,t.instance=i,$e(i),i;r=xd(n),(o=ud.get(o))&&Ed(r,o),$e(i=(e.ownerDocument||e).createElement("link"));var s=i;return s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),Gu(i,"link",r),t.state.loading|=4,Sd(i,n.precedence,e),t.instance=i;case"script":return i=bd(n.src),(o=e.querySelector(wd(i)))?(t.instance=o,$e(o),o):(r=n,(o=ud.get(i))&&Cd(r=I({},n),o),$e(o=(e=e.ownerDocument||e).createElement("script")),Gu(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Sd(r,n.precedence,e));return t.instance}function Sd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,i=o,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)i=s;else if(i!==o)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ed(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Cd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Td=null;function Nd(e,t,n){if(null===Td){var r=new Map,o=Td=new Map;o.set(n,r)}else(r=(o=Td).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var i=n[o];if(!(i[qe]||i[Fe]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var a=i.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(i):r.set(a,[i])}}return r}function Ad(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function jd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Od=null;function Id(){}function _d(){if(this.count--,0===this.count)if(this.stylesheets)Md(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Pd=null;function Md(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Pd=new Map,t.forEach(Rd,e),Pd=null,_d.call(e))}function Rd(e,t){if(!(4&t.state.loading)){var n=Pd.get(e);if(n)var r=n.get(null);else{n=new Map,Pd.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<o.length;i++){var a=o[i];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(o=t.instance).getAttribute("data-precedence"),(i=n.get(a)||r)===r&&n.set(null,o),n.set(a,o),this.count++,r=_d.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),i?i.parentNode.insertBefore(o,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var Dd={$$typeof:g,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function Ld(e,t,n,r,o,i,a,s){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ie(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ie(0),this.hiddenUpdates=Ie(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Fd(e,t,n,r,o,i,a,s,l,c,u,d){return e=new Ld(e,t,n,a,s,l,c,d),t=1,!0===i&&(t|=24),i=Rl(3,null,null,t),e.current=i,i.stateNode=e,(t=Bo()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},js(i),e}function Ud(e){return e?e=_r:_r}function Vd(e,t,n,r,o,i){o=Ud(o),null===r.context?r.context=o:r.pendingContext=o,(r=Is(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=_s(e,r,t))&&(_c(n,0,t),Ps(n,e,t))}function Bd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hd(e,t){Bd(e,t),(e=e.alternate)&&Bd(e,t)}function zd(e){if(13===e.tag){var t=jr(e,67108864);null!==t&&_c(t,0,67108864),Hd(e,67108864)}}var Wd=!0;function qd(e,t,n,r){var o=O.T;O.T=null;var i=H.p;try{H.p=2,Yd(e,t,n,r)}finally{H.p=i,O.T=o}}function Gd(e,t,n,r){var o=O.T;O.T=null;var i=H.p;try{H.p=8,Yd(e,t,n,r)}finally{H.p=i,O.T=o}}function Yd(e,t,n,r){if(Wd){var o=Jd(r);if(null===o)Mu(e,t,r,Kd,n),ap(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Zd=sp(Zd,e,t,n,r,o),!0;case"dragenter":return ep=sp(ep,e,t,n,r,o),!0;case"mouseover":return tp=sp(tp,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return np.set(i,sp(np.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,rp.set(i,sp(rp.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(ap(e,r),4&t&&-1<ip.indexOf(e)){for(;null!==o;){var i=Je(o);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var a=Ce(i.pendingLanes);if(0!==a){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-be(a);s.entanglements[1]|=l,a&=~l}mu(i),0===(6&ec)&&(bc=le()+500,gu(0,!1))}}break;case 13:null!==(s=jr(i,2))&&_c(s,0,2),Fc(),Hd(i,2)}if(null===(i=Jd(r))&&Mu(e,t,r,Kd,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Mu(e,t,r,null,n)}}function Jd(e){return Xd(e=It(e))}var Kd=null;function Xd(e){if(Kd=null,null!==(e=Ye(e))){var t=L(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=F(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Kd=e,null}function $d(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case pe:case he:return 32;case fe:return 268435456;default:return 32}default:return 32}}var Qd=!1,Zd=null,ep=null,tp=null,np=new Map,rp=new Map,op=[],ip="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ap(e,t){switch(e){case"focusin":case"focusout":Zd=null;break;case"dragenter":case"dragleave":ep=null;break;case"mouseover":case"mouseout":tp=null;break;case"pointerover":case"pointerout":np.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rp.delete(t.pointerId)}}function sp(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=Je(t))&&zd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function lp(e){var t=Ye(e.target);if(null!==t){var n=L(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=F(n)))return e.blockedOn=t,void function(e,t){var n=H.p;try{return H.p=e,t()}finally{H.p=n}}(e.priority,(function(){if(13===n.tag){var e=Oc(),t=jr(n,e);null!==t&&_c(t,0,e),Hd(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function cp(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jd(e.nativeEvent);if(null!==n)return null!==(t=Je(n))&&zd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ot=r,n.target.dispatchEvent(r),Ot=null,t.shift()}return!0}function up(e,t,n){cp(e)&&n.delete(t)}function dp(){Qd=!1,null!==Zd&&cp(Zd)&&(Zd=null),null!==ep&&cp(ep)&&(ep=null),null!==tp&&cp(tp)&&(tp=null),np.forEach(up),rp.forEach(up)}function pp(e,t){e.blockedOn===t&&(e.blockedOn=null,Qd||(Qd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dp)))}var hp=null;function fp(e){hp!==e&&(hp=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){hp===e&&(hp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if("function"!==typeof r){if(null===Xd(r||n))continue;break}var i=Je(n);null!==i&&(e.splice(t,3),t-=3,da(i,{pending:!0,data:o,method:n.method,action:r},r,o))}})))}function mp(e){function t(t){return pp(t,e)}null!==Zd&&pp(Zd,e),null!==ep&&pp(ep,e),null!==tp&&pp(tp,e),np.forEach(t),rp.forEach(t);for(var n=0;n<op.length;n++){var r=op[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<op.length&&null===(n=op[0]).blockedOn;)lp(n),null===n.blockedOn&&op.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],i=n[r+1],a=o[Ue]||null;if("function"===typeof i)a||fp(n);else if(a){var s=null;if(i&&i.hasAttribute("formAction")){if(o=i,a=i[Ue]||null)s=a.formAction;else if(null!==Xd(o))continue}else s=a.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),fp(n)}}}function gp(e){this._internalRoot=e}function yp(e){this._internalRoot=e}yp.prototype.render=gp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Vd(t.current,Oc(),e,t,null,null)},yp.prototype.unmount=gp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;0===e.tag&&tu(),Vd(e.current,2,null,e,null,null),Fc(),t[Ve]=null}},yp.prototype.unstable_scheduleHydration=function(e){if(e){var t=De();e={blockedOn:null,target:e,priority:t};for(var n=0;n<op.length&&0!==t&&t<op[n].priority;n++);op.splice(n,0,e),0===n&&lp(e)}};var vp=o.version;if("19.0.0"!==vp)throw Error(a(527,vp,"19.0.0"));H.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=L(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return U(o),e;if(i===r)return U(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?V(e):null)?null:e.stateNode};var xp={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:O,findFiberByHostInstance:Ye,reconcilerVersion:"19.0.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bp.isDisabled&&bp.supportsFiber)try{ye=bp.inject(xp),ve=bp}catch(kp){}}t.createRoot=function(e,t){if(!s(e))throw Error(a(299));var n=!1,r="",o=Ra,i=Da,l=La;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Fd(e,1,!1,null,0,n,r,o,i,l,0,null),e[Ve]=t.current,_u(8===e.nodeType?e.parentNode:e),new gp(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(a(299));var r=!1,o="",i=Ra,l=Da,c=La,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Fd(e,1,!0,t,0,r,o,i,l,c,0,u)).context=Ud(null),n=t.current,(o=Is(r=Oc())).callback=null,_s(n,o,r),t.current.lanes=r,_e(t,r),mu(t),e[Ve]=t.current,_u(e),new yp(t)},t.version="19.0.0"},672:(e,t,n)=>{var r=n(43);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(o(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),o="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:i}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:o,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.0.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(e,t,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:o,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=o,t.jsxs=o},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=x.prototype=new v;b.constructor=x,m(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,k={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function E(e,t,r,o,i,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(){}function j(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case p:return j((u=e._init)(e._payload),t,o,i,a)}}if(u)return a=a(e),u=""===i?"."+N(e,0):i,w(a)?(o="",null!=u&&(o=u.replace(T,"$&/")+"/"),j(a,t,o,"",(function(e){return e}))):null!=a&&(C(a)&&(l=a,c=o+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+u,a=E(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var d,f=""===i?".":i+":";if(w(e))for(var m=0;m<e.length;m++)u+=j(i=e[m],t,o,s=f+N(i,m),a);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=h&&d[h]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(i=e.next()).done;)u+=j(i=i.value,t,o,s=f+N(i,m++),a);else if("object"===s){if("function"===typeof e.then)return j(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(A,A):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function O(e,t,n){if(null==e)return e;var r=[],o=0;return j(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var _="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function P(){}t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=a,t.PureComponent=x,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),o=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(o=""+t.key),t)!S.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var a=Array(i),s=0;s<i;s++)a[s]=arguments[s+2];r.children=a}return E(e.type,o,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,o={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var a=arguments.length-2;if(1===a)o.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];o.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===o[r]&&(o[r]=a[r]);return E(e,i,void 0,0,0,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),o=k.S;null!==o&&o(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(P,_)}catch(i){_(i)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return k.H.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.0.0"},43:(e,t,n)=>{e.exports=n(288)},579:(e,t,n)=>{e.exports=n(799)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,p=null,h=3,f=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,I();else{var t=r(u);null!==t&&_(w,t.startTime-e)}}var k,S=!1,E=-1,C=5,T=-1;function N(){return!(t.unstable_now()-T<C)}function A(){if(S){var e=t.unstable_now();T=e;var n=!0;try{e:{m=!1,g&&(g=!1,v(E),E=-1),f=!0;var i=h;try{t:{for(b(e),p=r(c);null!==p&&!(p.expirationTime>e&&N());){var a=p.callback;if("function"===typeof a){p.callback=null,h=p.priorityLevel;var s=a(p.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){p.callback=s,b(e),n=!0;break t}p===r(c)&&o(c),b(e)}else o(c);p=r(c)}if(null!==p)n=!0;else{var l=r(u);null!==l&&_(w,l.startTime-e),n=!1}}break e}finally{p=null,h=i,f=!1}n=void 0}}finally{n?k():S=!1}}}if("function"===typeof x)k=function(){x(A)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,O=j.port2;j.port1.onmessage=A,k=function(){O.postMessage(null)}}else k=function(){y(A,0)};function I(){S||(S=!0,k())}function _(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,I())},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(v(E),E=-1):g=!0,_(w,i-a))):(e.sortIndex=s,n(c,e),m||f||(m=!0,I())),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},853:(e,t,n)=>{e.exports=n(896)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".f295da13.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="frontend:";n.l=(r,o,i,a)=>{if(e[r])e[r].push(o);else{var s,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[o];var p=(t,n)=>{s.onerror=s.onload=null,clearTimeout(h);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(n))),t)return t(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise(((n,r)=>o=e[t]=[n,r]));r.push(o[2]=i);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,o[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var o,i,a=r[0],s=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)l(n)}for(t&&t(r);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkfrontend=self.webpackChunkfrontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),o=n(391);function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function l(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(175);const d=["sri"],p=["page"],h=["page","matches"],f=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var y,v=e=>{throw TypeError(e)},x=(e,t,n)=>(((e,t,n)=>{t.has(e)||v("Cannot "+n)})(e,t,"read from private field"),n?n.call(e):t.get(e)),b="popstate";function w(){return A((function(e,t){let{pathname:n="/",search:r="",hash:o=""}=N(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),C("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:T(t))}),(function(e,t){S("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push(".concat(JSON.stringify(t),")"))}),arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function k(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function S(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function E(e,t){return{usr:e.state,key:e.key,idx:t}}function C(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return u(u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?N(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function T(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function N(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function A(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,s="POP",l=null,c=d();function d(){return(a.state||{idx:null}).idx}function p(){s="POP";let e=d(),t=null==e?null:e-c;c=e,l&&l({action:s,location:f.location,delta:t})}function h(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:T(e);return n=n.replace(/ $/,"%20"),k(t,"No window.location.(origin|href) available to create URL for href: ".concat(n)),new URL(n,t)}null==c&&(c=0,a.replaceState(u(u({},a.state),{},{idx:c}),""));let f={get action(){return s},get location(){return e(o,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(b,p),l=e,()=>{o.removeEventListener(b,p),l=null}},createHref:e=>t(o,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s="PUSH";let r=C(f.location,e,t);n&&n(r,e),c=d()+1;let u=E(r,c),p=f.createHref(r);try{a.pushState(u,"",p)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;o.location.assign(p)}i&&l&&l({action:s,location:f.location,delta:1})},replace:function(e,t){s="REPLACE";let r=C(f.location,e,t);n&&n(r,e),c=d();let o=E(r,c),u=f.createHref(r);a.replaceState(o,"",u),i&&l&&l({action:s,location:f.location,delta:0})},go:e=>a.go(e)};return f}var j=class{constructor(e){var t,n,r;if(t=this,n=y,r=new Map,n.has(t)?v("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(t):n.set(t,r),e)for(let[o,i]of e)this.set(o,i)}get(e){if(x(this,y).has(e))return x(this,y).get(e);if(void 0!==e.defaultValue)return e.defaultValue;throw new Error("No value found for context")}set(e,t){x(this,y).set(e,t)}};y=new WeakMap;var O=new Set(["lazy","caseSensitive","path","id","index","children"]);var I=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e.map(((e,o)=>{let i=[...n,String(o)],a="string"===typeof e.id?e.id:i.join("-");if(k(!0!==e.index||!e.children,"Cannot specify children on an index route"),k(!r[a],'Found a route id collision on id "'.concat(a,"\".  Route id's must be globally unique within Data Router usages")),function(e){return!0===e.index}(e)){let n=u(u(u({},e),t(e)),{},{id:a});return r[a]=n,n}{let n=u(u(u({},e),t(e)),{},{id:a,children:void 0});return r[a]=n,e.children&&(n.children=_(e.children,t,i,r)),n}}))}function P(e,t){return M(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function M(e,t,n,r){let o=X(("string"===typeof t?N(t):t).pathname||"/",n);if(null==o)return null;let i=D(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let a=null;for(let s=0;null==a&&s<i.length;++s){let e=K(o);a=G(i[s],e,r)}return a}function R(e,t){let{route:n,pathname:r,params:o}=e;return{id:n.id,pathname:r,params:o,data:t[n.id],handle:n.handle}}function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=(e,o,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};a.relativePath.startsWith("/")&&(k(a.relativePath.startsWith(r),'Absolute route path "'.concat(a.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),a.relativePath=a.relativePath.slice(r.length));let s=te([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(k(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(s,'".')),D(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:q(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of L(e.path))o(e,t,r);else o(e,t)})),t}function L(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let a=L(r.join("/")),s=[];return s.push(...a.map((e=>""===e?i:[i,e].join("/")))),o&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}var F=/^:[\w-]+$/,U=3,V=2,B=1,H=10,z=-2,W=e=>"*"===e;function q(e,t){let n=e.split("/"),r=n.length;return n.some(W)&&(r+=z),t&&(r+=V),n.filter((e=>!W(e))).reduce(((e,t)=>e+(F.test(t)?U:""===t?B:H)),r)}function G(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,o={},i="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=Y({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=Y({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(o,u.params),a.push({params:o,pathname:te([i,u.pathname]),pathnameBase:ne(te([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=te([i,u.pathnameBase]))}return a}function Y(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=J(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=s[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:a,pattern:e}}function J(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];S("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function K(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return S(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function X(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function $(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function Q(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function Z(e){let t=Q(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function ee(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=N(e):(r=u({},e),k(!r.pathname||!r.pathname.includes("?"),$("?","pathname","search",r)),k(!r.pathname||!r.pathname.includes("#"),$("#","pathname","hash",r)),k(!r.search||!r.search.includes("#"),$("#","search","hash",r)));let i,a=""===e||""===r.pathname,s=a?"/":r.pathname;if(null==s)i=n;else{let e=t.length-1;if(!o&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:o=""}="string"===typeof e?N(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:re(r),hash:oe(o)}}(r,i),c=s&&"/"!==s&&s.endsWith("/"),d=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var te=e=>e.join("/").replace(/\/\/+/g,"/"),ne=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),re=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",oe=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var ie=class{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ae(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var se=["POST","PUT","PATCH","DELETE"],le=new Set(se),ce=["GET",...se],ue=new Set(ce),de=new Set([301,302,303,307,308]),pe=new Set([307,308]),he={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fe={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},me={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ge=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ye=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),ve="remix-router-transitions",xe=Symbol("ResetLoaderData");function be(e){const t=e.window?e.window:"undefined"!==typeof window?window:void 0,n="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement;k(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r,o,i,a=e.hydrationRouteProperties||[],s=e.mapRouteProperties||ye,l={},c=_(e.routes,s,void 0,l),d=e.basename||"/",p=e.dataStrategy||_e,h=u({unstable_middleware:!1},e.future),f=null,m=new Set,g=null,y=null,v=null,x=null!=e.hydrationData,b=P(c,e.history.location,d),w=!1,E=null;if(null==b&&!e.patchRoutesOnNavigation){let t=$e(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=Xe(c);b=n,E={[r.id]:t}}if(b&&!e.hydrationData){Re(b,c,e.history.location.pathname).active&&(b=null)}if(b)if(b.some((e=>e.route.lazy)))o=!1;else if(b.some((e=>e.route.loader))){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null;if(n){let e=b.findIndex((e=>void 0!==n[e.route.id]));o=b.slice(0,e+1).every((e=>!Ee(e.route,t,n)))}else o=b.every((e=>!Ee(e.route,t,n)))}else o=!0;else{o=!1,b=[];let t=Re(null,c,e.history.location.pathname);t.active&&t.matches&&(w=!0,b=t.matches)}let T,N,A={historyAction:e.history.action,location:e.history.location,matches:b,initialized:o,navigation:he,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||E,fetchers:new Map,blockers:new Map},O="POP",I=!1,D=!1,L=new Map,F=null,U=!1,V=!1,B=new Set,H=new Map,z=0,W=-1,q=new Map,G=new Set,Y=new Map,J=new Map,K=new Set,$=new Map,Q=null;function Z(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};A=u(u({},A),e);let n=[],r=[];A.fetchers.forEach(((e,t)=>{"idle"===e.state&&(K.has(t)?n.push(t):r.push(t))})),K.forEach((e=>{A.fetchers.has(e)||H.has(e)||n.push(e)})),[...m].forEach((e=>e(A,{deletedFetchers:n,viewTransitionOpts:t.viewTransitionOpts,flushSync:!0===t.flushSync}))),n.forEach((e=>de(e))),r.forEach((e=>A.fetchers.delete(e)))}function ee(t,n){var o,i,a;let s,{flushSync:l}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=null!=A.actionData&&null!=A.navigation.formMethod&&at(A.navigation.formMethod)&&"loading"===A.navigation.state&&!0!==(null===(o=t.state)||void 0===o?void 0:o._isRedirect);s=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:d?A.actionData:null;let p=n.loaderData?Ye(A.loaderData,n.loaderData,n.matches||[],n.errors):A.loaderData,h=A.blockers;h.size>0&&(h=new Map(h),h.forEach(((e,t)=>h.set(t,me))));let f,m=!0===I||null!=A.navigation.formMethod&&at(A.navigation.formMethod)&&!0!==(null===(i=t.state)||void 0===i?void 0:i._isRedirect);if(r&&(c=r,r=void 0),U||"POP"===O||("PUSH"===O?e.history.push(t,t.state):"REPLACE"===O&&e.history.replace(t,t.state)),"POP"===O){let e=L.get(A.location.pathname);e&&e.has(t.pathname)?f={currentLocation:A.location,nextLocation:t}:L.has(t.pathname)&&(f={currentLocation:t,nextLocation:A.location})}else if(D){let e=L.get(A.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),L.set(A.location.pathname,e)),f={currentLocation:A.location,nextLocation:t}}Z(u(u({},n),{},{actionData:s,loaderData:p,historyAction:O,location:t,initialized:!0,navigation:he,revalidation:"idle",restoreScrollPosition:Me(t,n.matches||A.matches),preventScrollReset:m,blockers:h}),{viewTransitionOpts:f,flushSync:!0===l}),O="POP",I=!1,D=!1,U=!1,V=!1,null===(a=Q)||void 0===a||a.resolve(),Q=null}async function te(t,n,o){T&&T.abort(),T=null,O=t,U=!0===(o&&o.startUninterruptedRevalidation),function(e,t){if(g&&v){let n=Pe(e,t);g[n]=v()}}(A.location,A.matches),I=!0===(o&&o.preventScrollReset),D=!0===(o&&o.enableViewTransition);let i=r||c,p=o&&o.overrideNavigation,h=null!==o&&void 0!==o&&o.initialHydration&&A.matches&&A.matches.length>0&&!w?A.matches:P(i,n,d),f=!0===(o&&o.flushSync);if(h&&A.initialized&&!V&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(A.location,n)&&!(o&&o.submission&&at(o.submission.formMethod)))return void ee(n,{matches:h},{flushSync:f});let m=Re(h,i,n.pathname);if(m.active&&m.matches&&(h=m.matches),!h){let{error:e,notFoundMatches:t,route:r}=Ie(n.pathname);return void ee(n,{matches:t,loaderData:{},errors:{[r.id]:e}},{flushSync:f})}T=new AbortController;let y,x=He(e.history,n,T.signal,o&&o.submission),b=new j(e.unstable_getContext?await e.unstable_getContext():void 0);if(o&&o.pendingError)y=[Ke(h).route.id,{type:"error",error:o.pendingError}];else if(o&&o.submission&&at(o.submission.formMethod)){let t=await async function(e,t,n,r,o,i,c){let u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};se();let p,h=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);if(Z({navigation:h},{flushSync:!0===u.flushSync}),i){let n=await De(r,t.pathname,e.signal);if("aborted"===n.type)return{shortCircuited:!0};if("error"===n.type){let e=Ke(n.partialMatches).route.id;return{matches:n.partialMatches,pendingActionResult:[e,{type:"error",error:n.error}]}}if(!n.matches){let{notFoundMatches:e,error:n,route:r}=Ie(t.pathname);return{matches:e,pendingActionResult:[r.id,{type:"error",error:n}]}}r=n.matches}let f=lt(r,t);if(f.route.action||f.route.lazy){let t=Le(s,l,e,r,f,c?[]:a,o),n=await oe(e,t,o,null);if(p=n[f.route.id],!p)for(let e of r)if(n[e.route.id]){p=n[e.route.id];break}if(e.signal.aborted)return{shortCircuited:!0}}else p={type:"error",error:$e(405,{method:e.method,pathname:t.pathname,routeId:f.route.id})};if(nt(p)){let t;if(u&&null!=u.replace)t=u.replace;else{t=Be(p.response.headers.get("Location"),new URL(e.url),d)===A.location.pathname+A.location.search}return await re(e,p,!0,{submission:n,replace:t}),{shortCircuited:!0}}if(tt(p)){let e=Ke(r,f.route.id);return!0!==(u&&u.replace)&&(O="PUSH"),{matches:r,pendingActionResult:[e.route.id,p]}}return{matches:r,pendingActionResult:[f.route.id,p]}}(x,n,o.submission,h,b,m.active,o&&!0===o.initialHydration,{replace:o.replace,flushSync:f});if(t.shortCircuited)return;if(t.pendingActionResult){let[e,r]=t.pendingActionResult;if(tt(r)&&ae(r.error)&&404===r.error.status)return T=null,void ee(n,{matches:t.matches,loaderData:{},errors:{[e]:r.error}})}h=t.matches||h,y=t.pendingActionResult,p=ut(n,o.submission),f=!1,m.active=!1,x=He(e.history,x.url,x.signal)}let{shortCircuited:k,matches:S,loaderData:E,errors:C}=await async function(t,n,o,i,p,h,f,m,g,y,v,x){let b=h||ut(n,f),w=f||m||ct(b),k=!U&&!y;if(p){if(k){let e=ne(x);Z(u({navigation:b},void 0!==e?{actionData:e}:{}),{flushSync:v})}let e=await De(o,n.pathname,t.signal);if("aborted"===e.type)return{shortCircuited:!0};if("error"===e.type){let t=Ke(e.partialMatches).route.id;return{matches:e.partialMatches,loaderData:{},errors:{[t]:e.error}}}if(!e.matches){let{error:e,notFoundMatches:t,route:r}=Ie(n.pathname);return{matches:t,loaderData:{},errors:{[r.id]:e}}}o=e.matches}let S=r||c,{dsMatches:E,revalidatingFetchers:C}=Se(t,i,s,l,e.history,A,o,w,n,y?[]:a,!0===y,V,B,K,Y,G,S,d,x);if(W=++z,!e.dataStrategy&&!E.some((e=>e.shouldLoad))&&0===C.length){let e=Ce();return ee(n,u(u({matches:o,loaderData:{},errors:x&&tt(x[1])?{[x[0]]:x[1].error}:null},Je(x)),e?{fetchers:new Map(A.fetchers)}:{}),{flushSync:v}),{shortCircuited:!0}}if(k){let e={};if(!p){e.navigation=b;let t=ne(x);void 0!==t&&(e.actionData=t)}C.length>0&&(e.fetchers=function(e){return e.forEach((e=>{let t=A.fetchers.get(e.key),n=dt(void 0,t?t.data:void 0);A.fetchers.set(e.key,n)})),new Map(A.fetchers)}(C)),Z(e,{flushSync:v})}C.forEach((e=>{xe(e.key),e.controller&&H.set(e.key,e.controller)}));let N=()=>C.forEach((e=>xe(e.key)));T&&T.signal.addEventListener("abort",N);let{loaderResults:j,fetcherResults:O}=await ie(E,C,t,i);if(t.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",N);C.forEach((e=>H.delete(e.key)));let I=Qe(j);if(I)return await re(t,I.result,!0,{replace:g}),{shortCircuited:!0};if(I=Qe(O),I)return G.add(I.key),await re(t,I.result,!0,{replace:g}),{shortCircuited:!0};let{loaderData:_,errors:P}=Ge(A,o,j,x,C,O);y&&A.errors&&(P=u(u({},A.errors),P));let M=Ce(),R=Ne(W),D=M||R||C.length>0;return u({matches:o,loaderData:_,errors:P},D?{fetchers:new Map(A.fetchers)}:{})}(x,n,h,b,m.active,p,o&&o.submission,o&&o.fetcherSubmission,o&&o.replace,o&&!0===o.initialHydration,f,y);k||(T=null,ee(n,u(u({matches:S||h},Je(y)),{},{loaderData:E,errors:C})))}function ne(e){return e&&!tt(e[1])?{[e[0]]:e[1].data}:A.actionData?0===Object.keys(A.actionData).length?null:A.actionData:void 0}async function re(r,o,i){let{submission:a,fetcherSubmission:s,preventScrollReset:l,replace:c}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};o.response.headers.has("X-Remix-Revalidate")&&(V=!0);let p=o.response.headers.get("Location");k(p,"Expected a Location header on the redirect Response"),p=Be(p,new URL(r.url),d);let h=C(A.location,p,{_isRedirect:!0});if(n){let n=!1;if(o.response.headers.has("X-Remix-Reload-Document"))n=!0;else if(ge.test(p)){const r=e.history.createURL(p);n=r.origin!==t.location.origin||null==X(r.pathname,d)}if(n)return void(c?t.location.replace(p):t.location.assign(p))}T=null;let f=!0===c||o.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:m,formAction:g,formEncType:y}=A.navigation;!a&&!s&&m&&g&&y&&(a=ct(A.navigation));let v=a||s;if(pe.has(o.response.status)&&v&&at(v.formMethod))await te(f,h,{submission:u(u({},v),{},{formAction:p}),preventScrollReset:l||I,enableViewTransition:i?D:void 0});else{let e=ut(h,a);await te(f,h,{overrideNavigation:e,fetcherSubmission:s,preventScrollReset:l||I,enableViewTransition:i?D:void 0})}}async function oe(e,t,n,r){let o,i={};try{o=await Fe(p,e,t,r,n,!1)}catch(a){return t.filter((e=>e.shouldLoad)).forEach((e=>{i[e.route.id]={type:"error",error:a}})),i}for(let[s,l]of Object.entries(o))if(et(l)){let n=l.result;i[s]={type:"redirect",response:Ve(n,e,s,t,d)}}else i[s]=await Ue(l);return i}async function ie(e,t,n,r){let o=oe(n,e,r,null),i=Promise.all(t.map((async e=>{if(e.matches&&e.match&&e.request&&e.controller){let t=(await oe(e.request,e.matches,r,e.key))[e.match.route.id];return{[e.key]:t}}return Promise.resolve({[e.key]:{type:"error",error:$e(404,{pathname:e.path})}})})));return{loaderResults:await o,fetcherResults:(await i).reduce(((e,t)=>Object.assign(e,t)),{})}}function se(){V=!0,Y.forEach(((e,t)=>{H.has(t)&&B.add(t),xe(t)}))}function le(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};A.fetchers.set(e,t),Z({fetchers:new Map(A.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function ce(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=Ke(A.matches,t);de(e),Z({errors:{[o.route.id]:n},fetchers:new Map(A.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function ue(e){return J.set(e,(J.get(e)||0)+1),K.has(e)&&K.delete(e),A.fetchers.get(e)||fe}function de(e){let t=A.fetchers.get(e);!H.has(e)||t&&"loading"===t.state&&q.has(e)||xe(e),Y.delete(e),q.delete(e),G.delete(e),K.delete(e),B.delete(e),A.fetchers.delete(e)}function xe(e){let t=H.get(e);t&&(t.abort(),H.delete(e))}function be(e){for(let t of e){let e=pt(ue(t).data);A.fetchers.set(t,e)}}function Ce(){let e=[],t=!1;for(let n of G){let r=A.fetchers.get(n);k(r,"Expected fetcher: ".concat(n)),"loading"===r.state&&(G.delete(n),e.push(n),t=!0)}return be(e),t}function Ne(e){let t=[];for(let[n,r]of q)if(r<e){let e=A.fetchers.get(n);k(e,"Expected fetcher: ".concat(n)),"loading"===e.state&&(xe(n),q.delete(n),t.push(n))}return be(t),t.length>0}function Ae(e){A.blockers.delete(e),$.delete(e)}function je(e,t){let n=A.blockers.get(e)||me;k("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: ".concat(n.state," -> ").concat(t.state));let r=new Map(A.blockers);r.set(e,t),Z({blockers:r})}function Oe(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===$.size)return;$.size>1&&S(!1,"A router only supports one blocker at a time");let o=Array.from($.entries()),[i,a]=o[o.length-1],s=A.blockers.get(i);return s&&"proceeding"===s.state?void 0:a({currentLocation:t,nextLocation:n,historyAction:r})?i:void 0}function Ie(e){let t=$e(404,{pathname:e}),n=r||c,{matches:o,route:i}=Xe(n);return{notFoundMatches:o,route:i,error:t}}function Pe(e,t){if(y){return y(e,t.map((e=>R(e,A.loaderData))))||e.key}return e.key}function Me(e,t){if(g){let n=Pe(e,t),r=g[n];if("number"===typeof r)return r}return null}function Re(t,n,r){if(e.patchRoutesOnNavigation){if(!t){return{active:!0,matches:M(n,r,d,!0)||[]}}if(Object.keys(t[0].params).length>0){return{active:!0,matches:M(n,r,d,!0)}}}return{active:!1,matches:null}}async function De(t,n,o,i){if(!e.patchRoutesOnNavigation)return{type:"success",matches:t};let a=t;for(;;){let t=null==r,p=r||c,h=l;try{await e.patchRoutesOnNavigation({signal:o,path:n,matches:a,fetcherKey:i,patch:(e,t)=>{o.aborted||Te(e,t,p,h,s)}})}catch(u){return{type:"error",error:u,partialMatches:a}}finally{t&&!o.aborted&&(c=[...c])}if(o.aborted)return{type:"aborted"};let f=P(p,n,d);if(f)return{type:"success",matches:f};let m=M(p,n,d,!0);if(!m||a.length===m.length&&a.every(((e,t)=>e.route.id===m[t].route.id)))return{type:"success",matches:null};a=m}}return i={get basename(){return d},get future(){return h},get state(){return A},get routes(){return c},get window(){return t},initialize:function(){if(f=e.history.listen((t=>{let{action:n,location:r,delta:o}=t;if(N)return N(),void(N=void 0);S(0===$.size||null!=o,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let i=Oe({currentLocation:A.location,nextLocation:r,historyAction:n});if(i&&null!=o){let t=new Promise((e=>{N=e}));return e.history.go(-1*o),void je(i,{state:"blocked",location:r,proceed(){je(i,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),t.then((()=>e.history.go(o)))},reset(){let e=new Map(A.blockers);e.set(i,me),Z({blockers:e})}})}return te(n,r)})),n){!function(e,t){try{let n=e.sessionStorage.getItem(ve);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(n){}}(t,L);let e=()=>function(e,t){if(t.size>0){let r={};for(let[e,n]of t)r[e]=[...n];try{e.sessionStorage.setItem(ve,JSON.stringify(r))}catch(n){S(!1,"Failed to save applied view transitions in sessionStorage (".concat(n,")."))}}}(t,L);t.addEventListener("pagehide",e),F=()=>t.removeEventListener("pagehide",e)}return A.initialized||te("POP",A.location,{initialHydration:!0}),i},subscribe:function(e){return m.add(e),()=>m.delete(e)},enableScrollRestoration:function(e,t,n){if(g=e,v=t,y=n||null,!x&&A.navigation===he){x=!0;let e=Me(A.location,A.matches);null!=e&&Z({restoreScrollPosition:e})}return()=>{g=null,v=null,y=null}},navigate:async function t(n,r){if("number"===typeof n)return void e.history.go(n);let o=we(A.location,A.matches,d,n,null===r||void 0===r?void 0:r.fromRouteId,null===r||void 0===r?void 0:r.relative),{path:i,submission:a,error:s}=ke(!1,o,r),l=A.location,c=C(A.location,i,r&&r.state);c=u(u({},c),e.history.encodeLocation(c));let p=r&&null!=r.replace?r.replace:void 0,h="PUSH";!0===p?h="REPLACE":!1===p||null!=a&&at(a.formMethod)&&a.formAction===A.location.pathname+A.location.search&&(h="REPLACE");let f=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,m=!0===(r&&r.flushSync),g=Oe({currentLocation:l,nextLocation:c,historyAction:h});g?je(g,{state:"blocked",location:c,proceed(){je(g,{state:"proceeding",proceed:void 0,reset:void 0,location:c}),t(n,r)},reset(){let e=new Map(A.blockers);e.set(g,me),Z({blockers:e})}}):await te(h,c,{submission:a,pendingError:s,preventScrollReset:f,replace:r&&r.replace,enableViewTransition:r&&r.viewTransition,flushSync:m})},fetch:async function(t,n,o,i){xe(t);let u=!0===(i&&i.flushSync),p=r||c,h=we(A.location,A.matches,d,o,n,null===i||void 0===i?void 0:i.relative),f=P(p,h,d),m=Re(f,p,h);if(m.active&&m.matches&&(f=m.matches),!f)return void ce(t,n,$e(404,{pathname:h}),{flushSync:u});let{path:g,submission:y,error:v}=ke(!0,h,i);if(v)return void ce(t,n,v,{flushSync:u});let x=lt(f,g),b=new j(e.unstable_getContext?await e.unstable_getContext():void 0),w=!0===(i&&i.preventScrollReset);y&&at(y.formMethod)?await async function(t,n,o,i,u,p,h,f,m,g){function y(e){if(!e.route.action&&!e.route.lazy){let e=$e(405,{method:g.formMethod,pathname:o,routeId:n});return ce(t,n,e,{flushSync:f}),!0}return!1}if(se(),Y.delete(t),!h&&y(i))return;let v=A.fetchers.get(t);le(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(g,v),{flushSync:f});let x=new AbortController,b=He(e.history,o,x.signal,g);if(h){let e=await De(u,o,b.signal,t);if("aborted"===e.type)return;if("error"===e.type)return void ce(t,n,e.error,{flushSync:f});if(!e.matches)return void ce(t,n,$e(404,{pathname:o}),{flushSync:f});if(y(i=lt(u=e.matches,o)))return}H.set(t,x);let w=z,S=Le(s,l,b,u,i,a,p),E=await oe(b,S,p,t),C=E[i.route.id];if(b.signal.aborted)return void(H.get(t)===x&&H.delete(t));if(K.has(t)){if(nt(C)||tt(C))return void le(t,pt(void 0))}else{if(nt(C))return H.delete(t),W>w?void le(t,pt(void 0)):(G.add(t),le(t,dt(g)),re(b,C,!1,{fetcherSubmission:g,preventScrollReset:m}));if(tt(C))return void ce(t,n,C.error)}let N=A.navigation.location||A.location,j=He(e.history,N,x.signal),I=r||c,_="idle"!==A.navigation.state?P(I,A.navigation.location,d):A.matches;k(_,"Didn't find any matches after fetcher action");let M=++z;q.set(t,M);let R=dt(g,C.data);A.fetchers.set(t,R);let{dsMatches:D,revalidatingFetchers:L}=Se(j,p,s,l,e.history,A,_,g,N,a,!1,V,B,K,Y,G,I,d,[i.route.id,C]);L.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=A.fetchers.get(t),r=dt(void 0,n?n.data:void 0);A.fetchers.set(t,r),xe(t),e.controller&&H.set(t,e.controller)})),Z({fetchers:new Map(A.fetchers)});let F=()=>L.forEach((e=>xe(e.key)));x.signal.addEventListener("abort",F);let{loaderResults:U,fetcherResults:J}=await ie(D,L,j,p);if(x.signal.aborted)return;x.signal.removeEventListener("abort",F),q.delete(t),H.delete(t),L.forEach((e=>H.delete(e.key)));let X=Qe(U);if(X)return re(j,X.result,!1,{preventScrollReset:m});if(X=Qe(J),X)return G.add(X.key),re(j,X.result,!1,{preventScrollReset:m});let{loaderData:$,errors:Q}=Ge(A,_,U,void 0,L,J);if(A.fetchers.has(t)){let e=pt(C.data);A.fetchers.set(t,e)}Ne(M),"loading"===A.navigation.state&&M>W?(k(O,"Expected pending action"),T&&T.abort(),ee(A.navigation.location,{matches:_,loaderData:$,errors:Q,fetchers:new Map(A.fetchers)})):(Z({errors:Q,loaderData:Ye(A.loaderData,$,_,Q),fetchers:new Map(A.fetchers)}),V=!1)}(t,n,g,x,f,b,m.active,u,w,y):(Y.set(t,{routeId:n,path:g}),await async function(t,n,r,o,i,c,u,d,p,h){let f=A.fetchers.get(t);le(t,dt(h,f?f.data:void 0),{flushSync:d});let m=new AbortController,g=He(e.history,r,m.signal);if(u){let e=await De(i,r,g.signal,t);if("aborted"===e.type)return;if("error"===e.type)return void ce(t,n,e.error,{flushSync:d});if(!e.matches)return void ce(t,n,$e(404,{pathname:r}),{flushSync:d});o=lt(i=e.matches,r)}H.set(t,m);let y=z,v=Le(s,l,g,i,o,a,c),x=await oe(g,v,c,t),b=x[o.route.id];H.get(t)===m&&H.delete(t);if(g.signal.aborted)return;if(K.has(t))return void le(t,pt(void 0));if(nt(b))return W>y?void le(t,pt(void 0)):(G.add(t),void await re(g,b,!1,{preventScrollReset:p}));if(tt(b))return void ce(t,n,b.error);le(t,pt(b.data))}(t,n,g,x,f,b,m.active,u,w,y))},revalidate:function(){Q||(Q=function(){let e,t,n=new Promise(((r,o)=>{e=async e=>{r(e);try{await n}catch(t){}},t=async e=>{o(e);try{await n}catch(t){}}}));return{promise:n,resolve:e,reject:t}}()),se(),Z({revalidation:"loading"});let e=Q.promise;return"submitting"===A.navigation.state?e:"idle"===A.navigation.state?(te(A.historyAction,A.location,{startUninterruptedRevalidation:!0}),e):(te(O||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:!0===D}),e)},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:ue,deleteFetcher:function(e){let t=(J.get(e)||0)-1;t<=0?(J.delete(e),K.add(e)):J.set(e,t),Z({fetchers:new Map(A.fetchers)})},dispose:function(){f&&f(),F&&F(),m.clear(),T&&T.abort(),A.fetchers.forEach(((e,t)=>de(t))),A.blockers.forEach(((e,t)=>Ae(t)))},getBlocker:function(e,t){let n=A.blockers.get(e)||me;return $.get(e)!==t&&$.set(e,t),n},deleteBlocker:Ae,patchRoutes:function(e,t){let n=null==r;Te(e,t,r||c,l,s),n&&(c=[...c],Z({}))},_internalFetchControllers:H,_internalSetRoutes:function(e){l={},r=_(e,s,void 0,l)}},i}function we(e,t,n,r,o,i){let a,s;if(o){a=[];for(let e of t)if(a.push(e),e.route.id===o){s=e;break}}else a=t,s=t[t.length-1];let l=ee(r||".",Z(a),X(e.pathname,n)||e.pathname,"path"===i);if(null==r&&(l.search=e.search,l.hash=e.hash),(null==r||""===r||"."===r)&&s){let e=st(l.search);if(s.route.index&&!e)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!s.route.index&&e){let e=new URLSearchParams(l.search),t=e.getAll("index");e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();l.search=n?"?".concat(n):""}}return"/"!==n&&(l.pathname="/"===l.pathname?n:te([n,l.pathname])),T(l)}function ke(e,t,n){if(!n||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(n))return{path:t};if(n.formMethod&&!it(n.formMethod))return{path:t,error:$e(405,{method:n.formMethod})};let r,o,i=()=>({path:t,error:$e(400,{type:"invalid-body"})}),a=(n.formMethod||"get").toUpperCase(),s=Ze(t);if(void 0!==n.body){if("text/plain"===n.formEncType){if(!at(a))return i();let e="string"===typeof n.body?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,"\n")}),""):String(n.body);return{path:t,submission:{formMethod:a,formAction:s,formEncType:n.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===n.formEncType){if(!at(a))return i();try{let e="string"===typeof n.body?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:a,formAction:s,formEncType:n.formEncType,formData:void 0,json:e,text:void 0}}}catch(u){return i()}}}if(k("function"===typeof FormData,"FormData is not available in this environment"),n.formData)r=ze(n.formData),o=n.formData;else if(n.body instanceof FormData)r=ze(n.body),o=n.body;else if(n.body instanceof URLSearchParams)r=n.body,o=We(r);else if(null==n.body)r=new URLSearchParams,o=new FormData;else try{r=new URLSearchParams(n.body),o=We(r)}catch(u){return i()}let l={formMethod:a,formAction:s,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:o,json:void 0,text:void 0};if(at(l.formMethod))return{path:t,submission:l};let c=N(t);return e&&c.search&&st(c.search)&&r.append("index",""),c.search="?".concat(r),{path:T(c),submission:l}}function Se(e,t,n,r,o,i,a,s,l,c,d,p,h,f,m,g,y,v,x){var b;let w,k=x?tt(x[1])?x[1].error:x[1].data:void 0,S=o.createURL(i.location),E=o.createURL(l);if(d&&i.errors){let e=Object.keys(i.errors)[0];w=a.findIndex((t=>t.route.id===e))}else if(x&&tt(x[1])){let e=x[0];w=a.findIndex((t=>t.route.id===e))-1}let C=x?x[1].statusCode:void 0,T=C&&C>=400,N=u(u({currentUrl:S,currentParams:(null===(b=i.matches[0])||void 0===b?void 0:b.params)||{},nextUrl:E,nextParams:a[0].params},s),{},{actionResult:k,actionStatus:C}),A=a.map(((o,a)=>{let{route:s}=o,l=null;if(null!=w&&a>w?l=!1:s.lazy?l=!0:null==s.loader?l=!1:d?l=Ee(s,i.loaderData,i.errors):function(e,t,n){let r=!t||n.route.id!==t.route.id,o=!e.hasOwnProperty(n.route.id);return r||o}(i.loaderData,i.matches[a],o)&&(l=!0),null!==l)return De(n,r,e,o,c,t,l);let h=!T&&(p||S.pathname+S.search===E.pathname+E.search||S.search!==E.search||function(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}(i.matches[a],o)),f=u(u({},N),{},{defaultShouldRevalidate:h}),m=Ce(o,f);return De(n,r,e,o,c,t,m,f)})),j=[];return m.forEach(((e,s)=>{if(d||!a.some((t=>t.route.id===e.routeId))||f.has(s))return;let l=P(y,e.path,v);if(!l)return void j.push({key:s,routeId:e.routeId,path:e.path,matches:null,match:null,request:null,controller:null});if(g.has(s))return;let m=i.fetchers.get(s),x=lt(l,e.path),b=new AbortController,w=He(o,e.path,b.signal),k=null;if(h.has(s))h.delete(s),k=Le(n,r,w,l,x,c,t);else if(m&&"idle"!==m.state&&void 0===m.data)p&&(k=Le(n,r,w,l,x,c,t));else{let e=u(u({},N),{},{defaultShouldRevalidate:!T&&p});Ce(x,e)&&(k=Le(n,r,w,l,x,c,t,e))}k&&j.push({key:s,routeId:e.routeId,path:e.path,matches:k,match:x,request:w,controller:b})})),{dsMatches:A,revalidatingFetchers:j}}function Ee(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=null!=t&&void 0!==t[e.id],o=null!=n&&void 0!==n[e.id];return!(!r&&o)&&("function"===typeof e.loader&&!0===e.loader.hydrate||!r&&!o)}function Ce(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}function Te(e,t,n,r,o){var i;let a;if(e){let t=r[e];k(t,"No route found to patch children into: routeId = ".concat(e)),t.children||(t.children=[]),a=t.children}else a=n;let s=_(t.filter((e=>!a.some((t=>Ne(e,t))))),o,[e||"_","patch",String((null===(i=a)||void 0===i?void 0:i.length)||"0")],r);a.push(...s)}function Ne(e,t){return"id"in e&&"id"in t&&e.id===t.id||e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive&&(!(e.children&&0!==e.children.length||t.children&&0!==t.children.length)||e.children.every(((e,n)=>{var r;return null===(r=t.children)||void 0===r?void 0:r.some((t=>Ne(e,t)))})))}var Ae=new WeakMap,je=e=>{let{key:t,route:n,manifest:r,mapRouteProperties:o}=e,i=r[n.id];if(k(i,"No route found in manifest"),!i.lazy||"object"!==typeof i.lazy)return;let a=i.lazy[t];if(!a)return;let s=Ae.get(i);s||(s={},Ae.set(i,s));let l=s[t];if(l)return l;let c=(async()=>{let e=function(e){return O.has(e)}(t),n=void 0!==i[t]&&"hasErrorBoundary"!==t;if(e)S(!e,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),s[t]=Promise.resolve();else if(n)S(!1,'Route "'.concat(i.id,'" has a static property "').concat(t,'" defined. The lazy property will be ignored.'));else{let e=await a();null!=e&&(Object.assign(i,{[t]:e}),Object.assign(i,o(i)))}"object"===typeof i.lazy&&(i.lazy[t]=void 0,Object.values(i.lazy).every((e=>void 0===e))&&(i.lazy=void 0))})();return s[t]=c,c},Oe=new WeakMap;async function Ie(e){let t=e.matches.filter((e=>e.shouldLoad)),n={};return(await Promise.all(t.map((e=>e.resolve())))).forEach(((e,r)=>{n[t[r].route.id]=e})),n}async function _e(e){return e.matches.some((e=>e.route.unstable_middleware))?Pe(e,!1,(()=>Ie(e)),((e,t)=>({[t]:{type:"error",result:e}}))):Ie(e)}async function Pe(e,t,n,r){let{matches:o,request:i,params:a,context:s}=e,l={handlerResult:void 0};try{let e=o.flatMap((e=>e.route.unstable_middleware?e.route.unstable_middleware.map((t=>[e.route.id,t])):[])),r=await Me({request:i,params:a,context:s},e,t,l,n);return t?r:l.handlerResult}catch(c){if(!l.middlewareError)throw c;let e=await r(l.middlewareError.error,l.middlewareError.routeId);return t||!l.handlerResult?e:Object.assign(l.handlerResult,e)}}async function Me(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,{request:a}=e;if(a.signal.aborted){if(a.signal.reason)throw a.signal.reason;throw new Error("Request aborted without an `AbortSignal.reason`: ".concat(a.method," ").concat(a.url))}let s=t[i];if(!s)return r.handlerResult=await o(),r.handlerResult;let l,[c,u]=s,d=!1,p=async()=>{if(d)throw new Error("You may only call `next()` once per middleware");d=!0;let a=await Me(e,t,n,r,o,i+1);if(n)return l=a,l};try{let t=await u({request:e.request,params:e.params,context:e.context},p);return d?void 0===t?l:t:p()}catch(h){throw r.middlewareError?r.middlewareError.error!==h&&(r.middlewareError={routeId:c,error:h}):r.middlewareError={routeId:c,error:h},h}}function Re(e,t,n,r,o){let i=je({key:"unstable_middleware",route:r.route,manifest:t,mapRouteProperties:e}),a=function(e,t,n,r,o){var i;let a=n[e.id];if(k(a,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if("function"===typeof e.lazy){let t=Oe.get(a);if(t)return{lazyRoutePromise:t,lazyHandlerPromise:t};let n=(async()=>{k("function"===typeof e.lazy,"No lazy route function found");let t=await e.lazy(),n={};for(let e in t){let r=t[e];if(void 0===r)continue;let i=(o=e,I.has(o)),s=void 0!==a[e]&&"hasErrorBoundary"!==e;i?S(!i,"Route property "+e+" is not a supported property to be returned from a lazy route function. This property will be ignored."):s?S(!s,'Route "'.concat(a.id,'" has a static property "').concat(e,'" defined but its lazy function is also returning a value for this property. The lazy route property "').concat(e,'" will be ignored.')):n[e]=r}var o;Object.assign(a,n),Object.assign(a,u(u({},r(a)),{},{lazy:void 0}))})();return Oe.set(a,n),n.catch((()=>{})),{lazyRoutePromise:n,lazyHandlerPromise:n}}let s,l=Object.keys(e.lazy),c=[];for(let u of l){if(o&&o.includes(u))continue;let i=je({key:u,route:e,manifest:n,mapRouteProperties:r});i&&(c.push(i),u===t&&(s=i))}let d=c.length>0?Promise.all(c).then((()=>{})):void 0;return null===d||void 0===d||d.catch((()=>{})),null===(i=s)||void 0===i||i.catch((()=>{})),{lazyRoutePromise:d,lazyHandlerPromise:s}}(r.route,at(n.method)?"action":"loader",t,e,o);return{middleware:i,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function De(e,t,n,r,o,i,a){let s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=!1,c=Re(e,t,n,r,o);return u(u({},r),{},{_lazyPromises:c,shouldLoad:a,unstable_shouldRevalidateArgs:s,unstable_shouldCallHandler:e=>(l=!0,s?Ce(r,"boolean"===typeof e?u(u({},s),{},{defaultShouldRevalidate:e}):s):a),resolve:e=>l||a||e&&"GET"===n.method&&(r.route.lazy||r.route.loader)?async function(e){let t,n,{request:r,match:o,lazyHandlerPromise:i,lazyRoutePromise:a,handlerOverride:s,scopedContext:l}=e,c=at(r.method),u=c?"action":"loader",d=e=>{let t,i=new Promise(((e,n)=>t=n));n=()=>t(),r.signal.addEventListener("abort",n);let a=t=>"function"!==typeof e?Promise.reject(new Error('You cannot call the handler for a route which defines a boolean "'.concat(u,'" [routeId: ').concat(o.route.id,"]"))):e({request:r,params:o.params,context:l},...void 0!==t?[t]:[]),c=(async()=>{try{return{type:"data",result:await(s?s((e=>a(e))):a())}}catch(e){return{type:"error",result:e}}})();return Promise.race([c,i])};try{let e=c?o.route.action:o.route.loader;if(i||a)if(e){let n,[r]=await Promise.all([d(e).catch((e=>{n=e})),i,a]);if(void 0!==n)throw n;t=r}else{await i;let e=c?o.route.action:o.route.loader;if(!e){if("action"===u){let e=new URL(r.url),t=e.pathname+e.search;throw $e(405,{method:r.method,pathname:t,routeId:o.route.id})}return{type:"data",result:void 0}}[t]=await Promise.all([d(e),a])}else{if(!e){let e=new URL(r.url);throw $e(404,{pathname:e.pathname+e.search})}t=await d(e)}}catch(p){return{type:"error",result:p}}finally{n&&r.signal.removeEventListener("abort",n)}return t}({request:n,match:r,lazyHandlerPromise:null===c||void 0===c?void 0:c.handler,lazyRoutePromise:null===c||void 0===c?void 0:c.route,handlerOverride:e,scopedContext:i}):Promise.resolve({type:"data",result:void 0})})}function Le(e,t,n,r,o,i,a){let s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return r.map((r=>r.route.id!==o.route.id?u(u({},r),{},{shouldLoad:!1,unstable_shouldRevalidateArgs:s,unstable_shouldCallHandler:()=>!1,_lazyPromises:Re(e,t,n,r,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}):De(e,t,n,r,i,a,!0,s)))}async function Fe(e,t,n,r,o,i){n.some((e=>{var t;return null===(t=e._lazyPromises)||void 0===t?void 0:t.middleware}))&&await Promise.all(n.map((e=>{var t;return null===(t=e._lazyPromises)||void 0===t?void 0:t.middleware})));let a={request:t,params:n[0].params,context:o,matches:n},s=i?()=>{throw new Error("You cannot call `unstable_runClientMiddleware()` from a static handler `dataStrategy`. Middleware is run outside of `dataStrategy` during SSR in order to bubble up the Response.  You can enable middleware via the `respond` API in `query`/`queryRoute`")}:e=>{let t=a;return Pe(t,!1,(()=>e(u(u({},t),{},{fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}))),((e,t)=>({[t]:{type:"error",result:e}})))},l=await e(u(u({},a),{},{fetcherKey:r,unstable_runClientMiddleware:s}));try{await Promise.all(n.flatMap((e=>{var t,n;return[null===(t=e._lazyPromises)||void 0===t?void 0:t.handler,null===(n=e._lazyPromises)||void 0===n?void 0:n.route]})))}catch(c){}return l}async function Ue(e){let{result:t,type:n}=e;if(ot(t)){let e;try{let n=t.headers.get("Content-Type");e=n&&/\bapplication\/json\b/.test(n)?null==t.body?null:await t.json():await t.text()}catch(c){return{type:"error",error:c}}return"error"===n?{type:"error",error:new ie(t.status,t.statusText,e),statusCode:t.status,headers:t.headers}:{type:"data",data:e,statusCode:t.status,headers:t.headers}}var r,o,i,a,s,l;return"error"===n?rt(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:null===(i=t.init)||void 0===i?void 0:i.status,headers:null!==(a=t.init)&&void 0!==a&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new ie((null===(r=t.init)||void 0===r?void 0:r.status)||500,void 0,t.data),statusCode:ae(t)?t.status:void 0,headers:null!==(o=t.init)&&void 0!==o&&o.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:ae(t)?t.status:void 0}:rt(t)?{type:"data",data:t.data,statusCode:null===(s=t.init)||void 0===s?void 0:s.status,headers:null!==(l=t.init)&&void 0!==l&&l.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function Ve(e,t,n,r,o){let i=e.headers.get("Location");if(k(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!ge.test(i)){let a=r.slice(0,r.findIndex((e=>e.route.id===n))+1);i=we(new URL(t.url),a,o,i),e.headers.set("Location",i)}return e}function Be(e,t,n){if(ge.test(e)){let r=e,o=r.startsWith("//")?new URL(t.protocol+r):new URL(r),i=null!=X(o.pathname,n);if(o.origin===t.origin&&i)return o.pathname+o.search+o.hash}return e}function He(e,t,n,r){let o=e.createURL(Ze(t)).toString(),i={signal:n};if(r&&at(r.formMethod)){let{formMethod:e,formEncType:t}=r;i.method=e.toUpperCase(),"application/json"===t?(i.headers=new Headers({"Content-Type":t}),i.body=JSON.stringify(r.json)):"text/plain"===t?i.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?i.body=ze(r.formData):i.body=r.formData}return new Request(o,i)}function ze(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"===typeof r?r:r.name);return t}function We(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function qe(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={},s=null,l=!1,c={},u=n&&tt(n[1])?n[1].error:void 0;return e.forEach((n=>{if(!(n.route.id in t))return;let d=n.route.id,p=t[d];if(k(!nt(p),"Cannot handle redirect results in processLoaderData"),tt(p)){let t=p.error;if(void 0!==u&&(t=u,u=void 0),s=s||{},i)s[d]=t;else{let n=Ke(e,d);null==s[n.route.id]&&(s[n.route.id]=t)}o||(a[d]=xe),l||(l=!0,r=ae(p.error)?p.error.status:500),p.headers&&(c[d]=p.headers)}else a[d]=p.data,p.statusCode&&200!==p.statusCode&&!l&&(r=p.statusCode),p.headers&&(c[d]=p.headers)})),void 0!==u&&n&&(s={[n[0]]:u},a[n[0]]=void 0),{loaderData:a,errors:s,statusCode:r||200,loaderHeaders:c}}function Ge(e,t,n,r,o,i){let{loaderData:a,errors:s}=qe(t,n,r);return o.filter((e=>!e.matches||e.matches.some((e=>e.shouldLoad)))).forEach((t=>{let{key:n,match:r,controller:o}=t,a=i[n];if(k(a,"Did not find corresponding fetcher result"),!o||!o.signal.aborted)if(tt(a)){let t=Ke(e.matches,null===r||void 0===r?void 0:r.route.id);s&&s[t.route.id]||(s=u(u({},s),{},{[t.route.id]:a.error})),e.fetchers.delete(n)}else if(nt(a))k(!1,"Unhandled fetcher revalidation redirect");else{let t=pt(a.data);e.fetchers.set(n,t)}})),{loaderData:a,errors:s}}function Ye(e,t,n,r){let o=Object.entries(t).filter((e=>{let[,t]=e;return t!==xe})).reduce(((e,t)=>{let[n,r]=t;return e[n]=r,e}),{});for(let i of n){let n=i.route.id;if(!t.hasOwnProperty(n)&&e.hasOwnProperty(n)&&i.route.loader&&(o[n]=e[n]),r&&r.hasOwnProperty(n))break}return o}function Je(e){return e?tt(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Ke(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function Xe(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function $e(e){let{pathname:t,routeId:n,method:r,type:o,message:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a="Unknown Server Error",s="Unknown @remix-run/router error";return 400===e?(a="Bad Request",r&&t&&n?s="You made a ".concat(r,' request to "').concat(t,'" but did not provide a `loader` for route "').concat(n,'", so there is no way to handle the request.'):"invalid-body"===o&&(s="Unable to encode submission body")):403===e?(a="Forbidden",s='Route "'.concat(n,'" does not match URL "').concat(t,'"')):404===e?(a="Not Found",s='No route matches URL "'.concat(t,'"')):405===e&&(a="Method Not Allowed",r&&t&&n?s="You made a ".concat(r.toUpperCase(),' request to "').concat(t,'" but did not provide an `action` for route "').concat(n,'", so there is no way to handle the request.'):r&&(s='Invalid request method "'.concat(r.toUpperCase(),'"'))),new ie(e||500,a,new Error(s),!0)}function Qe(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[e,r]=t[n];if(nt(r))return{key:e,result:r}}}function Ze(e){return T(u(u({},"string"===typeof e?N(e):e),{},{hash:""}))}function et(e){return ot(e.result)&&de.has(e.result.status)}function tt(e){return"error"===e.type}function nt(e){return"redirect"===(e&&e.type)}function rt(e){return"object"===typeof e&&null!=e&&"type"in e&&"data"in e&&"init"in e&&"DataWithResponseInit"===e.type}function ot(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function it(e){return ue.has(e.toUpperCase())}function at(e){return le.has(e.toUpperCase())}function st(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function lt(e,t){let n="string"===typeof t?N(t).search:t.search;if(e[e.length-1].route.index&&st(n||""))return e[e.length-1];let r=Q(e);return r[r.length-1]}function ct(e){let{formMethod:t,formAction:n,formEncType:r,text:o,formData:i,json:a}=e;if(t&&n&&r)return null!=o?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:o}:null!=i?{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0}:void 0!==a?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}:void 0}function ut(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function dt(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function pt(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}var ht=r.createContext(null);ht.displayName="DataRouter";var ft=r.createContext(null);ft.displayName="DataRouterState";var mt=r.createContext({isTransitioning:!1});mt.displayName="ViewTransition";var gt=r.createContext(new Map);gt.displayName="Fetchers";var yt=r.createContext(null);yt.displayName="Await";var vt=r.createContext(null);vt.displayName="Navigation";var xt=r.createContext(null);xt.displayName="Location";var bt=r.createContext({outlet:null,matches:[],isDataRoute:!1});bt.displayName="Route";var wt=r.createContext(null);wt.displayName="RouteError";function kt(){return null!=r.useContext(xt)}function St(){return k(kt(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(xt).location}var Et="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ct(e){r.useContext(vt).static||r.useLayoutEffect(e)}function Tt(){let{isDataRoute:e}=r.useContext(bt);return e?function(){let{router:e}=Rt("useNavigate"),t=Lt("useNavigate"),n=r.useRef(!1);Ct((()=>{n.current=!0}));let o=r.useCallback((async function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};S(n.current,Et),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,u({fromRouteId:t},o)))}),[e,t]);return o}():function(){k(kt(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(ht),{basename:t,navigator:n}=r.useContext(vt),{matches:o}=r.useContext(bt),{pathname:i}=St(),a=JSON.stringify(Z(o)),s=r.useRef(!1);Ct((()=>{s.current=!0}));let l=r.useCallback((function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(S(s.current,Et),!s.current)return;if("number"===typeof r)return void n.go(r);let l=ee(r,JSON.parse(a),i,"path"===o.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:te([t,l.pathname])),(o.replace?n.replace:n.push)(l,o.state,o)}),[t,n,a,i,e]);return l}()}r.createContext(null);function Nt(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(bt),{pathname:o}=St(),i=JSON.stringify(Z(n));return r.useMemo((()=>ee(e,JSON.parse(i),o,"path"===t)),[e,i,o,t])}function At(e,t,n,o){k(kt(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=r.useContext(vt),{matches:s}=r.useContext(bt),l=s[s.length-1],c=l?l.params:{},d=l?l.pathname:"/",p=l?l.pathnameBase:"/",h=l&&l.route;{let e=h&&h.path||"";Vt(d,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,m=St();if(t){var g;let e="string"===typeof t?N(t):t;k("/"===p||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(p)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(p,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=m;let y=f.pathname||"/",v=y;if("/"!==p){let e=p.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=!a&&n&&n.matches&&n.matches.length>0?n.matches:P(e,{pathname:v});S(h||null!=x,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),S(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let b=Pt(x&&x.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:te([p,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:te([p,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n,o);return t&&b?r.createElement(xt.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},b):b}function jt(){let e=Ft(),t=ae(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o},a={padding:"2px 4px",backgroundColor:o},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:a},"ErrorBoundary")," or"," ",r.createElement("code",{style:a},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:i},n):null,s)}var Ot=r.createElement(jt,null),It=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(bt.Provider,{value:this.props.routeContext},r.createElement(wt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _t(e){let{routeContext:t,match:n,children:o}=e,i=r.useContext(ht);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(bt.Provider,{value:t},o)}function Pt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let o=e,i=null===n||void 0===n?void 0:n.errors;if(null!=i){let e=o.findIndex((e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id])));k(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),o=o.slice(0,Math.min(o.length,e+1))}let a=!1,s=-1;if(n)for(let r=0;r<o.length;r++){let e=o[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(s=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){a=!0,o=s>=0?o.slice(0,s+1):[o[0]];break}}}return o.reduceRight(((e,l,c)=>{let u,d=!1,p=null,h=null;n&&(u=i&&l.route.id?i[l.route.id]:void 0,p=l.route.errorElement||Ot,a&&(s<0&&0===c?(Vt("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,h=null):s===c&&(d=!0,h=l.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,c+1)),m=()=>{let t;return t=u?p:d?h:l.route.Component?r.createElement(l.route.Component,null):l.route.element?l.route.element:e,r.createElement(_t,{match:l,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?r.createElement(It,{location:n.location,revalidation:n.revalidation,component:p,error:u,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()}),null)}function Mt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Rt(e){let t=r.useContext(ht);return k(t,Mt(e)),t}function Dt(e){let t=r.useContext(ft);return k(t,Mt(e)),t}function Lt(e){let t=function(e){let t=r.useContext(bt);return k(t,Mt(e)),t}(e),n=t.matches[t.matches.length-1];return k(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ft(){var e;let t=r.useContext(wt),n=Dt("useRouteError"),o=Lt("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[o]}var Ut={};function Vt(e,t,n){t||Ut[e]||(Ut[e]=!0,S(!1,n))}var Bt={};function Ht(e,t){e||Bt[t]||(Bt[t]=!0,console.warn(t))}function zt(e){let t={hasErrorBoundary:e.hasErrorBoundary||null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&(e.element&&S(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:r.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&S(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:r.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&S(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:r.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var Wt=["HydrateFallback","hydrateFallbackElement"];var qt=class{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}};function Gt(e){let{router:t,flushSync:n}=e,[o,i]=r.useState(t.state),[a,s]=r.useState(),[l,c]=r.useState({isTransitioning:!1}),[u,d]=r.useState(),[p,h]=r.useState(),[f,m]=r.useState(),g=r.useRef(new Map),y=r.useCallback(((e,o)=>{let{deletedFetchers:a,flushSync:l,viewTransitionOpts:f}=o;e.fetchers.forEach(((e,t)=>{void 0!==e.data&&g.current.set(t,e.data)})),a.forEach((e=>g.current.delete(e))),Ht(!1===l||null!=n,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let y=null!=t.window&&null!=t.window.document&&"function"===typeof t.window.document.startViewTransition;if(Ht(null==f||y,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),f&&y){if(n&&l){n((()=>{p&&(u&&u.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:f.currentLocation,nextLocation:f.nextLocation})}));let r=t.window.document.startViewTransition((()=>{n((()=>i(e)))}));return r.finished.finally((()=>{n((()=>{d(void 0),h(void 0),s(void 0),c({isTransitioning:!1})}))})),void n((()=>h(r)))}p?(u&&u.resolve(),p.skipTransition(),m({state:e,currentLocation:f.currentLocation,nextLocation:f.nextLocation})):(s(e),c({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}))}else n&&l?n((()=>i(e))):r.startTransition((()=>i(e)))}),[t.window,n,p,u]);r.useLayoutEffect((()=>t.subscribe(y)),[t,y]),r.useEffect((()=>{l.isTransitioning&&!l.flushSync&&d(new qt)}),[l]),r.useEffect((()=>{if(u&&a&&t.window){let e=a,n=u.promise,o=t.window.document.startViewTransition((async()=>{r.startTransition((()=>i(e))),await n}));o.finished.finally((()=>{d(void 0),h(void 0),s(void 0),c({isTransitioning:!1})})),h(o)}}),[a,u,t.window]),r.useEffect((()=>{u&&a&&o.location.key===a.location.key&&u.resolve()}),[u,p,o.location,a]),r.useEffect((()=>{!l.isTransitioning&&f&&(s(f.state),c({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),m(void 0))}),[l.isTransitioning,f]);let v=r.useMemo((()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:e=>t.navigate(e),push:(e,n,r)=>t.navigate(e,{state:n,preventScrollReset:null===r||void 0===r?void 0:r.preventScrollReset}),replace:(e,n,r)=>t.navigate(e,{replace:!0,state:n,preventScrollReset:null===r||void 0===r?void 0:r.preventScrollReset})})),[t]),x=t.basename||"/",b=r.useMemo((()=>({router:t,navigator:v,static:!1,basename:x})),[t,v,x]);return r.createElement(r.Fragment,null,r.createElement(ht.Provider,{value:b},r.createElement(ft.Provider,{value:o},r.createElement(gt.Provider,{value:g.current},r.createElement(mt.Provider,{value:l},r.createElement(Jt,{basename:x,location:o.location,navigationType:o.historyAction,navigator:v},r.createElement(Yt,{routes:t.routes,future:t.future,state:o})))))),null)}var Yt=r.memo((function(e){let{routes:t,future:n,state:r}=e;return At(t,void 0,r,n)}));function Jt(e){let{basename:t="/",children:n=null,location:o,navigationType:i="POP",navigator:a,static:s=!1}=e;k(!kt(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=r.useMemo((()=>({basename:l,navigator:a,static:s,future:{}})),[l,a,s]);"string"===typeof o&&(o=N(o));let{pathname:u="/",search:d="",hash:p="",state:h=null,key:f="default"}=o,m=r.useMemo((()=>{let e=X(u,l);return null==e?null:{location:{pathname:e,search:d,hash:p,state:h,key:f},navigationType:i}}),[l,u,d,p,h,f,i]);return S(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(p,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:r.createElement(vt.Provider,{value:c},r.createElement(xt.Provider,{children:n,value:m}))}r.Component;var Kt="get",Xt="application/x-www-form-urlencoded";function $t(e){return null!=e&&"string"===typeof e.tagName}var Qt=null;var Zt=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function en(e){return null==e||Zt.has(e)?e:(S(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Xt,'"')),null)}function tn(e,t){let n,r,o,i,a;if($t(s=e)&&"form"===s.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?X(a,t):null,n=e.getAttribute("method")||Kt,o=en(e.getAttribute("enctype"))||Xt,i=new FormData(e)}else if(function(e){return $t(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return $t(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||a.getAttribute("action");if(r=s?X(s,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Kt,o=en(e.getAttribute("formenctype"))||en(a.getAttribute("enctype"))||Xt,i=new FormData(a,e),!function(){if(null===Qt)try{new FormData(document.createElement("form"),0),Qt=!1}catch(e){Qt=!0}return Qt}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";i.append("".concat(e,"x"),"0"),i.append("".concat(e,"y"),"0")}else t&&i.append(t,r)}}else{if($t(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kt,r=null,o=Xt,a=e}var s;return i&&"text/plain"===o&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:a}}function nn(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function rn(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function on(e){return null!=e&&"string"===typeof e.page}function an(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function sn(e,t,n,r,o,i){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter(((e,t)=>a(e,t)||s(e,t))):"data"===i?t.filter(((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,i)||s(t,i))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function ln(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o})).flat(1),[...new Set(r)];var r}function cn(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,o)=>{if(t&&!on(o)&&"script"===o.as&&o.href&&r.has(o.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(o));return n.has(i)||(n.add(i),e.push({key:i,link:o})),e}),[])}function un(e){return{__html:e}}Symbol("SingleFetchRedirect");var dn=new Set([100,101,204,205]);function pn(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===X(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):n.pathname="".concat(n.pathname.replace(/\/$/,""),".data"),n}r.Component;function hn(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let o,i=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(ae(t))return r.createElement(fn,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),i);if(t instanceof Error)o=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);o=new Error(e)}return r.createElement(fn,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},o.stack),i)}function fn(e){var t;let{title:n,renderScripts:o,isOutsideRemixApp:i,children:a}=e,{routeModules:s}=xn();return null!==(t=s.root)&&void 0!==t&&t.Layout&&!i?a:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,o?r.createElement(Tn,null):null)))}function mn(e){return!0===e}function gn(){let e=r.useContext(ht);return nn(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function yn(){let e=r.useContext(ft);return nn(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var vn=r.createContext(void 0);function xn(){let e=r.useContext(vn);return nn(e,"You must render this element inside a <HydratedRouter> element"),e}function bn(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function wn(e,t,n){if(n&&!Cn)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function kn(e){let{page:t}=e,n=i(e,p),{router:o}=gn(),a=r.useMemo((()=>P(o.routes,t,o.basename)),[o.routes,t,o.basename]);return a?r.createElement(En,u({page:t,matches:a},n)):null}function Sn(e){let{manifest:t,routeModules:n}=xn(),[o,i]=r.useState([]);return r.useEffect((()=>{let r=!1;return async function(e,t,n){return cn((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await rn(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(an).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?u(u({},e),{},{rel:"prefetch",as:"style"}):u(u({},e),{},{rel:"prefetch"}))))}(e,t,n).then((e=>{r||i(e)})),()=>{r=!0}}),[e,t,n]),o}function En(e){let{page:t,matches:n}=e,o=i(e,h),a=St(),{manifest:s,routeModules:l}=xn(),{basename:c}=gn(),{loaderData:d,matches:p}=yn(),f=r.useMemo((()=>sn(t,n,p,s,a,"data")),[t,n,p,s,a]),m=r.useMemo((()=>sn(t,n,p,s,a,"assets")),[t,n,p,s,a]),g=r.useMemo((()=>{if(t===a.pathname+a.search+a.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{var n;let o=s.routes[t.route.id];o&&o.hasLoader&&(!f.some((e=>e.route.id===t.route.id))&&t.route.id in d&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||o.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let o=pn(t,c);return r&&e.size>0&&o.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[o.pathname+o.search]}),[c,d,a,s,f,n,t,l]),y=r.useMemo((()=>ln(m,s)),[m,s]),v=Sn(m);return r.createElement(r.Fragment,null,g.map((e=>r.createElement("link",u({key:e,rel:"prefetch",as:"fetch",href:e},o)))),y.map((e=>r.createElement("link",u({key:e,rel:"modulepreload",href:e},o)))),v.map((e=>{let{key:t,link:n}=e;return r.createElement("link",u({key:t},n))})))}vn.displayName="FrameworkContext";var Cn=!1;function Tn(e){let{manifest:t,serverHandoffString:n,isSpaMode:o,ssr:a,renderMeta:s}=xn(),{router:l,static:c,staticContext:p}=gn(),{matches:h}=yn(),f=mn(a);s&&(s.didRenderScripts=!0);let m=wn(h,null,o);r.useEffect((()=>{Cn=!0}),[]);let g=r.useMemo((()=>{var o;let a=p?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",s=c?"".concat(null!==(o=t.hmr)&&void 0!==o&&o.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(f?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(m.map(((e,n)=>{let r="route".concat(n),o=t.routes[e.route.id];nn(o,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:i,clientLoaderModule:a,clientMiddlewareModule:s,hydrateFallbackModule:l,module:c}=o,u=[...i?[{module:i,varName:"".concat(r,"_clientAction")}]:[],...a?[{module:a,varName:"".concat(r,"_clientLoader")}]:[],...s?[{module:s,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map((e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";'))).join("\n"),"const ".concat(r," = {").concat(u.map((e=>"...".concat(e.varName))).join(","),"};")].join("\n")})).join("\n"),"\n  ").concat(f?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=i(e,d),o=new Set(t.state.matches.map((e=>e.route.id))),a=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(a.pop();a.length>0;)s.push("/".concat(a.join("/"))),a.pop();s.forEach((e=>{let n=P(t.routes,e,t.basename);n&&n.forEach((e=>o.add(e.route.id)))}));let l=[...o].reduce(((e,t)=>Object.assign(e,{[t]:r.routes[t]})),{});return u(u({},r),{},{routes:l,sri:!!n||void 0})}(t,l),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(m.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:un(a),type:void 0})),r.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:un(s),type:"module",async:!0})))}),[]),y=Cn?[]:(v=t.entry.imports.concat(ln(m,t,{includeHydrateFallback:!0})),[...new Set(v)]);var v;let x="object"===typeof t.sri?t.sri:{};return Cn?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,f?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:x[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:x[t.entry.module],suppressHydrationWarning:!0}),y.map((t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:x[t],suppressHydrationWarning:!0}))),g)}function Nn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var An="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{An&&(window.__reactRouterVersion="7.5.1")}catch(Xw){}function jn(){var e;let t=null===(e=window)||void 0===e?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=u(u({},t),{},{errors:On(t.errors)})),t}function On(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,o]of t)if(o&&"RouteErrorResponse"===o.__type)n[r]=new ie(o.status,o.statusText,o.data,!0===o.internal);else if(o&&"Error"===o.__type){if(o.__subType){let e=window[o.__subType];if("function"===typeof e)try{let t=new e(o.message);t.stack="",n[r]=t}catch(Xw){}}if(null==n[r]){let e=new Error(o.message);e.stack="",n[r]=e}}else n[r]=o;return n}var In=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_n=r.forwardRef((function(e,t){let n,{onClick:o,discover:a="render",prefetch:s="none",relative:l,reloadDocument:c,replace:d,state:p,target:h,to:m,preventScrollReset:g,viewTransition:y}=e,v=i(e,f),{basename:x}=r.useContext(vt),b="string"===typeof m&&In.test(m),w=!1;if("string"===typeof m&&b&&(n=m,An))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=X(t.pathname,x);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:w=!0}catch(Xw){S(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let E=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};k(kt(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=r.useContext(vt),{hash:i,pathname:a,search:s}=Nt(e,{relative:t}),l=a;return"/"!==n&&(l="/"===a?n:te([n,a])),o.createHref({pathname:l,search:s,hash:i})}(m,{relative:l}),[C,N,A]=function(e,t){let n=r.useContext(vn),[o,i]=r.useState(!1),[a,s]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:p}=t,h=r.useRef(null);r.useEffect((()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{s(e.isIntersecting)}))}),{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}}),[e]),r.useEffect((()=>{if(o){let e=setTimeout((()=>{s(!0)}),100);return()=>{clearTimeout(e)}}}),[o]);let f=()=>{i(!0)},m=()=>{i(!1),s(!1)};return n?"intent"!==e?[a,h,{}]:[a,h,{onFocus:bn(l,f),onBlur:bn(c,m),onMouseEnter:bn(u,f),onMouseLeave:bn(d,m),onTouchStart:bn(p,f)}]:[!1,h,{}]}(s,v),j=function(e){let{target:t,replace:n,state:o,preventScrollReset:i,relative:a,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=Tt(),c=St(),u=Nt(e,{relative:a});return r.useCallback((r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:T(c)===T(u);l(e,{replace:t,state:o,preventScrollReset:i,relative:a,viewTransition:s})}}),[c,l,u,n,o,t,e,i,a,s])}(m,{replace:d,state:p,target:h,preventScrollReset:g,relative:l,viewTransition:y});let O=r.createElement("a",u(u(u({},v),A),{},{href:n||E,onClick:w||c?o:function(e){o&&o(e),e.defaultPrevented||j(e)},ref:Nn(t,N),target:h,"data-discover":b||"render"!==a?void 0:"true"}));return C&&!b?r.createElement(r.Fragment,null,O,r.createElement(kn,{page:E})):O}));_n.displayName="Link";var Pn=r.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:o=!1,className:a="",end:s=!1,style:l,to:c,viewTransition:d,children:p}=e,h=i(e,m),f=Nt(c,{relative:h.relative}),g=St(),y=r.useContext(ft),{navigator:v,basename:x}=r.useContext(vt),b=null!=y&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(mt);k(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Dn("useViewTransitionState"),i=Nt(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=X(n.currentLocation.pathname,o)||n.currentLocation.pathname,s=X(n.nextLocation.pathname,o)||n.nextLocation.pathname;return null!=Y(i.pathname,s)||null!=Y(i.pathname,a)}(f)&&!0===d,w=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,S=g.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;o||(S=S.toLowerCase(),E=E?E.toLowerCase():null,w=w.toLowerCase()),E&&x&&(E=X(E,x)||E);const C="/"!==w&&w.endsWith("/")?w.length-1:w.length;let T,N=S===w||!s&&S.startsWith(w)&&"/"===S.charAt(C),A=null!=E&&(E===w||!s&&E.startsWith(w)&&"/"===E.charAt(w.length)),j={isActive:N,isPending:A,isTransitioning:b},O=N?n:void 0;T="function"===typeof a?a(j):[a,N?"active":null,A?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let I="function"===typeof l?l(j):l;return r.createElement(_n,u(u({},h),{},{"aria-current":O,className:T,ref:t,style:I,to:c,viewTransition:d}),"function"===typeof p?p(j):p)}));Pn.displayName="NavLink";var Mn=r.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:o,navigate:a,reloadDocument:s,replace:l,state:c,method:d=Kt,action:p,onSubmit:h,relative:f,preventScrollReset:m,viewTransition:y}=e,v=i(e,g),x=Un(),b=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(vt),o=r.useContext(bt);k(o,"useFormAction must be used inside a RouteContext");let[i]=o.matches.slice(-1),a=u({},Nt(e||".",{relative:t})),s=St();if(null==e){a.search=s.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();a.search=n?"?".concat(n):""}}e&&"."!==e||!i.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:te([n,a.pathname]));return T(a)}(p,{relative:f}),w="get"===d.toLowerCase()?"get":"post",S="string"===typeof p&&In.test(p);return r.createElement("form",u(u({ref:t,method:w,action:b,onSubmit:s?h:e=>{if(h&&h(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;x(t||e.currentTarget,{fetcherKey:o,method:n,navigate:a,replace:l,state:c,relative:f,preventScrollReset:m,viewTransition:y})}},v),{},{"data-discover":S||"render"!==n?void 0:"true"}))}));function Rn(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Dn(e){let t=r.useContext(ht);return k(t,Rn(e)),t}Mn.displayName="Form";var Ln=0,Fn=()=>"__".concat(String(++Ln),"__");function Un(){let{router:e}=Dn("useSubmit"),{basename:t}=r.useContext(vt),n=Lt("useRouteId");return r.useCallback((async function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:a,encType:s,formData:l,body:c}=tn(r,t);if(!1===o.navigate){let t=o.fetcherKey||Fn();await e.fetch(t,n,o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||a,formEncType:o.encType||s,flushSync:o.flushSync})}else await e.navigate(o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||a,formEncType:o.encType||s,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})}),[e,t,n])}new TextEncoder;var Vn=n(950);function Bn(e){return r.createElement(Gt,u({flushSync:Vn.flushSync},e))}var Hn=n(579);const zn=(0,r.createContext)(),Wn={businus:{name:"Busin.US",colors:{"brand-primary":"#4f46e5","brand-secondary":"#7c3aed","dark-bg":"#111827","dark-surface":"#1f2937","dark-border":"#374151","dark-text-primary":"#f9fafb","dark-text-secondary":"#9ca3af"}},dark:{name:"Dark",colors:{"brand-primary":"#3b82f6","brand-secondary":"#8b5cf6","dark-bg":"#0f172a","dark-surface":"#1e293b","dark-border":"#334155","dark-text-primary":"#f1f5f9","dark-text-secondary":"#94a3b8"}},light:{name:"Light",colors:{"brand-primary":"#3b82f6","brand-secondary":"#8b5cf6","dark-bg":"#f8fafc","dark-surface":"#f1f5f9","dark-border":"#cbd5e1","dark-text-primary":"#0f172a","dark-text-secondary":"#64748b"}},neoBrutalism:{name:"Neo Brutalism",colors:{"brand-primary":"#ff6b6b","brand-secondary":"#4ecdc4","dark-bg":"#ffd166","dark-surface":"#06d6a0","dark-border":"#118ab2","dark-text-primary":"#073b4c","dark-text-secondary":"#118ab2"}},blackAndWhite:{name:"Black & White",colors:{"brand-primary":"#000000","brand-secondary":"#000000","dark-bg":"#ffffff","dark-surface":"#ffffff","dark-border":"#000000","dark-text-primary":"#000000","dark-text-secondary":"#000000"}},businGreen:{name:"Busin.US Green",colors:{"brand-primary":"#14b8a6","brand-secondary":"#34d399","dark-bg":"#0f172a","dark-surface":"#1e293b","dark-border":"#334155","dark-text-primary":"#f1f5f9","dark-text-secondary":"#94a3b8"}}},qn=e=>{let{children:t}=e;const[n,o]=(0,r.useState)("businus");(0,r.useEffect)((()=>{const e=localStorage.getItem("workflow-theme")||"businus";o(e)}),[]);return(0,Hn.jsx)(zn.Provider,{value:{currentTheme:n,setTheme:e=>{o(e),localStorage.setItem("workflow-theme",e);const t=Wn[e];t&&Object.entries(t.colors).forEach((e=>{let[t,n]=e;document.documentElement.style.setProperty("--".concat(t),n)}))},themes:Wn},children:t})};function Gn(e,t){-1===e.indexOf(t)&&e.push(t)}function Yn(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Jn{constructor(){this.subscriptions=[]}add(e){return Gn(this.subscriptions,e),()=>Yn(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let o=0;o<r;o++){const r=this.subscriptions[o];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Kn(e,t){return t?e*(1e3/t):0}const Xn={},$n=e=>e,Qn=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Zn={value:null,addProjectionMetrics:null};function er(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Qn.reduce(((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,o=!1,i=!1;const a=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){a.has(t)&&(u.schedule(t),e()),l++,t(s)}const u={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&o?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),a.delete(e)},process:e=>{s=e,o?i=!0:(o=!0,[n,r]=[r,n],n.forEach(c),t&&Zn.value&&Zn.value.frameloop[t].push(l),l=0,n.clear(),o=!1,i&&(i=!1,u.process(e)))}};return u}(i,t?n:void 0),e)),{}),{setup:s,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:p,render:h,postRender:f}=a,m=()=>{const i=Xn.useManualTiming?o.timestamp:performance.now();n=!1,Xn.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(i-o.timestamp,40),1)),o.timestamp=i,o.isProcessing=!0,s.process(o),l.process(o),c.process(o),u.process(o),d.process(o),p.process(o),h.process(o),f.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(m))},g=Qn.reduce(((t,i)=>{const s=a[i];return t[i]=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,o.isProcessing||e(m)),s.schedule(t,i,a)},t}),{});return{schedule:g,cancel:e=>{for(let t=0;t<Qn.length;t++)a[Qn[t]].cancel(e)},state:o,steps:a}}const{schedule:tr,cancel:nr,state:rr,steps:or}=er("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:$n,!0);let ir;function ar(){ir=void 0}const sr={now:()=>(void 0===ir&&sr.set(rr.isProcessing||Xn.useManualTiming?rr.timestamp:performance.now()),ir),set:e=>{ir=e,queueMicrotask(ar)}},lr={current:void 0};class cr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=sr.now();var n;if((this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev)&&(null===(n=this.events.change)||void 0===n||n.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=sr.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Jn);const n=this.events[e].add(t);return"change"===e?()=>{n(),tr.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return lr.current&&lr.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=sr.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Kn(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ur(e,t){return new cr(e,t)}function dr(e,t){let n;const r=()=>{const{currentTime:r}=t,o=(null===r?0:r.value)/100;n!==o&&e(o),n=o};return tr.preUpdate(r,!0),()=>nr(r)}function pr(e){let t;return()=>(void 0===t&&(t=e()),t)}const hr=pr((()=>void 0!==window.ScrollTimeline));function fr(e){return"object"===typeof e&&null!==e}function mr(e){return fr(e)&&"ownerSVGElement"in e}function gr(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){var r;let o=document;t&&(o=t.current);const i=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:o.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const yr=new WeakMap;let vr;const xr=(e,t,n)=>(r,o)=>o&&o[0]?o[0][e+"Size"]:mr(r)&&"getBBox"in r?r.getBBox()[t]:r[n],br=xr("inline","width","offsetWidth"),wr=xr("block","height","offsetHeight");function kr(e){var t;let{target:n,borderBoxSize:r}=e;null===(t=yr.get(n))||void 0===t||t.forEach((e=>{e(n,{get width(){return br(n,r)},get height(){return wr(n,r)}})}))}function Sr(e){e.forEach(kr)}function Er(e,t){vr||"undefined"!==typeof ResizeObserver&&(vr=new ResizeObserver(Sr));const n=gr(e);return n.forEach((e=>{var n;let r=yr.get(e);r||(r=new Set,yr.set(e,r)),r.add(t),null===(n=vr)||void 0===n||n.observe(e)})),()=>{n.forEach((e=>{const n=yr.get(e);var r;(null===n||void 0===n||n.delete(t),null!==n&&void 0!==n&&n.size)||(null===(r=vr)||void 0===r||r.unobserve(e))}))}}const Cr=new Set;let Tr;function Nr(e){return Cr.add(e),Tr||(Tr=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Cr.forEach((t=>t(e)))},window.addEventListener("resize",Tr)),()=>{Cr.delete(e),Cr.size||"function"!==typeof Tr||(window.removeEventListener("resize",Tr),Tr=void 0)}}const Ar=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},jr={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Or(e,t,n,r){const o=n[t],{length:i,position:a}=jr[t],s=o.current,l=n.time;o.current=e["scroll".concat(a)],o.scrollLength=e["scroll".concat(i)]-e["client".concat(i)],o.offset.length=0,o.offset[0]=0,o.offset[1]=o.scrollLength,o.progress=Ar(0,o.scrollLength,o.current);const c=r-l;o.velocity=c>50?0:Kn(o.current-s,c)}const Ir=(e,t)=>n=>t(e(n)),_r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Ir)},Pr=(e,t,n)=>n>t?t:n<e?e:n,Mr=e=>t=>"string"===typeof t&&t.startsWith(e),Rr=Mr("--"),Dr=Mr("var(--"),Lr=e=>!!Dr(e)&&Fr.test(e.split("/*")[0].trim()),Fr=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i,Ur={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},Vr=u(u({},Ur),{},{transform:e=>Pr(0,1,e)}),Br=u(u({},Ur),{},{default:1}),Hr=e=>Math.round(1e5*e)/1e5,zr=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const Wr=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,qr=(e,t)=>n=>Boolean("string"===typeof n&&Wr.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Gr=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[o,i,a,s]=r.match(zr);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},Yr=u(u({},Ur),{},{transform:e=>Math.round((e=>Pr(0,255,e))(e))}),Jr={test:qr("rgb","red"),parse:Gr("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:o=1}=e;return"rgba("+Yr.transform(t)+", "+Yr.transform(n)+", "+Yr.transform(r)+", "+Hr(Vr.transform(o))+")"}};const Kr={test:qr("#"),parse:function(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}},transform:Jr.transform},Xr=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),$r=Xr("deg"),Qr=Xr("%"),Zr=Xr("px"),eo=Xr("vh"),to=Xr("vw"),no=(()=>u(u({},Qr),{},{parse:e=>Qr.parse(e)/100,transform:e=>Qr.transform(100*e)}))(),ro={test:qr("hsl","hue"),parse:Gr("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:o=1}=e;return"hsla("+Math.round(t)+", "+Qr.transform(Hr(n))+", "+Qr.transform(Hr(r))+", "+Hr(Vr.transform(o))+")"}},oo={test:e=>Jr.test(e)||Kr.test(e)||ro.test(e),parse:e=>Jr.test(e)?Jr.parse(e):ro.test(e)?ro.parse(e):Kr.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?Jr.transform(e):ro.transform(e),getAnimatableNone:e=>{const t=oo.parse(e);return t.alpha=0,oo.transform(t)}},io=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const ao="number",so="color",lo=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function co(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let i=0;const a=t.replace(lo,(e=>(oo.test(e)?(r.color.push(i),o.push(so),n.push(oo.parse(e))):e.startsWith("var(")?(r.var.push(i),o.push("var"),n.push(e)):(r.number.push(i),o.push(ao),n.push(parseFloat(e))),++i,"${}"))).split("${}");return{values:n,split:a,indexes:r,types:o}}function uo(e){return co(e).values}function po(e){const{split:t,types:n}=co(e),r=t.length;return e=>{let o="";for(let i=0;i<r;i++)if(o+=t[i],void 0!==e[i]){const t=n[i];o+=t===ao?Hr(e[i]):t===so?oo.transform(e[i]):e[i]}return o}}const ho=e=>"number"===typeof e?0:oo.test(e)?oo.getAnimatableNone(e):e;const fo={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(zr))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(io))||void 0===n?void 0:n.length)||0)>0},parse:uo,createTransformer:po,getAnimatableNone:function(e){const t=uo(e);return po(e)(t.map(ho))}};function mo(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function go(e,t){return n=>n>0?t:e}const yo=(e,t,n)=>e+(t-e)*n,vo=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},xo=[Kr,Jr,ro];function bo(e){const t=(n=e,xo.find((e=>e.test(n))));var n;if(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),!Boolean(t))return!1;let r=t.parse(e);return t===ro&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:o}=e;t/=360,n/=100,r/=100;let i=0,a=0,s=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,o=2*r-e;i=mo(o,e,t+1/3),a=mo(o,e,t),s=mo(o,e,t-1/3)}else i=a=s=r;return{red:Math.round(255*i),green:Math.round(255*a),blue:Math.round(255*s),alpha:o}}(r)),r}const wo=(e,t)=>{const n=bo(e),r=bo(t);if(!n||!r)return go(e,t);const o=u({},n);return e=>(o.red=vo(n.red,r.red,e),o.green=vo(n.green,r.green,e),o.blue=vo(n.blue,r.blue,e),o.alpha=yo(n.alpha,r.alpha,e),Jr.transform(o))},ko=new Set(["none","hidden"]);function So(e,t){return n=>yo(e,t,n)}function Eo(e){return"number"===typeof e?So:"string"===typeof e?Lr(e)?go:oo.test(e)?wo:No:Array.isArray(e)?Co:"object"===typeof e?oo.test(e)?wo:To:go}function Co(e,t){const n=[...e],r=n.length,o=e.map(((e,n)=>Eo(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=o[t](e);return n}}function To(e,t){const n=u(u({},e),t),r={};for(const o in n)void 0!==e[o]&&void 0!==t[o]&&(r[o]=Eo(e[o])(e[o],t[o]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const No=(e,t)=>{const n=fo.createTransformer(t),r=co(e),o=co(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?ko.has(e)&&!o.values.length||ko.has(t)&&!r.values.length?function(e,t){return ko.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):_r(Co(function(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){var o;const a=t.types[i],s=e.indexes[a][r[a]],l=null!==(o=e.values[s])&&void 0!==o?o:0;n[i]=l,r[a]++}return n}(r,o),o.values),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),go(e,t))};function Ao(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return yo(e,t,n);return Eo(e)(e,t)}function jo(e,t){let{clamp:n=!0,ease:r,mixer:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length;if(t.length,1===i)return()=>t[0];if(2===i&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=function(e,t,n){const r=[],o=n||Xn.mix||Ao,i=e.length-1;for(let a=0;a<i;a++){let n=o(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||$n:t;n=_r(e,n)}r.push(n)}return r}(t,r,o),l=s.length,c=n=>{if(a&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const o=Ar(e[r],e[r+1],n);return s[r](o)};return n?t=>c(Pr(e[0],e[i-1],t)):c}function Oo(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=Ar(0,t,r);e.push(yo(n,1,o))}}(t,e.length-1),t}function Io(e){return fr(e)&&"offsetHeight"in e}const _o={start:0,center:.5,end:1};function Po(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=0;if(e in _o&&(e=_o[e]),"string"===typeof e){const t=parseFloat(e);e.endsWith("px")?r=t:e.endsWith("%")?e=t/100:e.endsWith("vw")?r=t/100*document.documentElement.clientWidth:e.endsWith("vh")?r=t/100*document.documentElement.clientHeight:e=t}return"number"===typeof e&&(r=t*e),n+r}const Mo=[0,0];function Ro(e,t,n,r){let o=Array.isArray(e)?e:Mo,i=0,a=0;return"number"===typeof e?o=[e,e]:"string"===typeof e&&(o=(e=e.trim()).includes(" ")?e.split(" "):[e,_o[e]?e:"0"]),i=Po(o[0],n,r),a=Po(o[1],t),i-a}const Do={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},Lo={x:0,y:0};function Fo(e,t,n){const{offset:r=Do.All}=n,{target:o=e,axis:i="y"}=n,a="y"===i?"height":"width",s=o!==e?function(e,t){const n={x:0,y:0};let r=e;for(;r&&r!==t;)if(Io(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if("svg"===r.tagName){const e=r.getBoundingClientRect();r=r.parentElement;const t=r.getBoundingClientRect();n.x+=e.left-t.left,n.y+=e.top-t.top}else{if(!(r instanceof SVGGraphicsElement))break;{const{x:e,y:t}=r.getBBox();n.x+=e,n.y+=t;let o=null,i=r.parentNode;for(;!o;)"svg"===i.tagName&&(o=i),i=r.parentNode;r=o}}return n}(o,e):Lo,l=o===e?{width:e.scrollWidth,height:e.scrollHeight}:function(e){return"getBBox"in e&&"svg"!==e.tagName?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}(o),c={width:e.clientWidth,height:e.clientHeight};t[i].offset.length=0;let u=!t[i].interpolate;const d=r.length;for(let p=0;p<d;p++){const e=Ro(r[p],c[a],l[a],s[i]);u||e===t[i].interpolatorOffsets[p]||(u=!0),t[i].offset[p]=e}u&&(t[i].interpolate=jo(t[i].offset,Oo(r),{clamp:!1}),t[i].interpolatorOffsets=[...t[i].offset]),t[i].progress=Pr(0,1,t[i].interpolate(t[i].current))}function Uo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{measure:t=>{!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2?arguments[2]:void 0;if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let r=t;for(;r&&r!==e;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}(e,r.target,n),function(e,t,n){Or(e,"x",t,n),Or(e,"y",t,n),t.time=n}(e,n,t),(r.offset||r.target)&&Fo(e,n,r)},notify:()=>t(n)}}const Vo=["container"],Bo=new WeakMap,Ho=new WeakMap,zo=new WeakMap,Wo=e=>e===document.scrollingElement?window:e;function qo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{container:n=document.scrollingElement}=t,r=i(t,Vo);if(!n)return $n;let o=zo.get(n);o||(o=new Set,zo.set(n,o));const a=Uo(n,e,{time:0,x:{current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0},y:{current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}},r);if(o.add(a),!Bo.has(n)){const e=()=>{for(const e of o)e.measure(rr.timestamp);tr.preUpdate(t)},t=()=>{for(const e of o)e.notify()},r=()=>tr.read(e);Bo.set(n,r);const i=Wo(n);window.addEventListener("resize",r,{passive:!0}),n!==document.documentElement&&Ho.set(n,(l=r,"function"===typeof(s=n)?Nr(s):Er(s,l))),i.addEventListener("scroll",r,{passive:!0}),r()}var s,l;const c=Bo.get(n);return tr.read(c,!1,!0),()=>{nr(c);const e=zo.get(n);if(!e)return;if(e.delete(a),e.size)return;const t=Bo.get(n);var r;(Bo.delete(n),t)&&(Wo(n).removeEventListener("scroll",t),null===(r=Ho.get(n))||void 0===r||r(),window.removeEventListener("resize",t))}}const Go=["source","container"],Yo=new Map;function Jo(e){var t,n,r,o;let{source:a,container:s}=e,l=i(e,Go);const{axis:c}=l;a&&(s=a);const d=null!==(t=Yo.get(s))&&void 0!==t?t:new Map;Yo.set(s,d);const p=null!==(n=l.target)&&void 0!==n?n:"self",h=null!==(r=d.get(p))&&void 0!==r?r:{},f=c+(null!==(o=l.offset)&&void 0!==o?o:[]).join(",");return h[f]||(h[f]=!l.target&&hr()?new ScrollTimeline({source:s,axis:c}):function(e){const t={value:0},n=qo((n=>{t.value=100*n[e.axis].progress}),e);return{currentTime:t,cancel:n}}(u({container:s},l))),h[f]}const Ko=["axis","container"];function Xo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{axis:n="y",container:r=document.scrollingElement}=t,o=i(t,Ko);if(!r)return $n;const a=u({axis:n,container:r},o);return"function"===typeof e?function(e,t){return function(e){return 2===e.length}(e)?qo((n=>{e(n[t.axis].progress,n)}),t):dr(e,Jo(t))}(e,a):function(e,t){const n=Jo(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:e=>(e.pause(),dr((t=>{e.time=e.duration*t}),n))})}(e,a)}function $o(e){const t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}const Qo="undefined"!==typeof window,Zo=Qo?r.useLayoutEffect:r.useEffect,ei=["container","target"],ti=()=>({scrollX:ur(0),scrollY:ur(0),scrollXProgress:ur(0),scrollYProgress:ur(0)}),ni=e=>!!e&&!e.current;const ri=(0,r.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function oi(e,t){const n=function(e){const t=$o((()=>ur(e))),{isStatic:n}=(0,r.useContext)(ri);if(n){const[,n]=(0,r.useState)(e);(0,r.useEffect)((()=>t.on("change",n)),[])}return t}(t()),o=()=>n.set(t());return o(),Zo((()=>{const t=()=>tr.preRender(o,!1,!0),n=e.map((e=>e.on("change",t)));return()=>{n.forEach((e=>e())),nr(o)}})),n}function ii(e,t,n,r){if("function"===typeof e)return function(e){lr.current=[],e();const t=oi(lr.current,e);return lr.current=void 0,t}(e);const o="function"===typeof t?t:function(){const e=!Array.isArray(arguments.length<=0?void 0:arguments[0]),t=e?0:-1,n=0+t<0||arguments.length<=0+t?void 0:arguments[0+t],r=jo(1+t<0||arguments.length<=1+t?void 0:arguments[1+t],2+t<0||arguments.length<=2+t?void 0:arguments[2+t],3+t<0||arguments.length<=3+t?void 0:arguments[3+t]);return e?r(n):r}(t,n,r);return Array.isArray(e)?ai(e,o):ai([e],(e=>{let[t]=e;return o(t)}))}function ai(e,t){const n=$o((()=>[]));return oi(e,(()=>{n.length=0;const r=e.length;for(let t=0;t<r;t++)n[t]=e[t].get();return t(n)}))}const si=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],li=(()=>new Set(si))(),ci=e=>180*e/Math.PI,ui=e=>{const t=ci(Math.atan2(e[1],e[0]));return pi(t)},di={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:ui,rotateZ:ui,skewX:e=>ci(Math.atan(e[1])),skewY:e=>ci(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},pi=e=>((e%=360)<0&&(e+=360),e),hi=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),fi=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),mi={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hi,scaleY:fi,scale:e=>(hi(e)+fi(e))/2,rotateX:e=>pi(ci(Math.atan2(e[6],e[5]))),rotateY:e=>pi(ci(Math.atan2(-e[2],e[0]))),rotateZ:ui,rotate:ui,skewX:e=>ci(Math.atan(e[4])),skewY:e=>ci(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function gi(e){return e.includes("scale")?1:0}function yi(e,t){if(!e||"none"===e)return gi(t);const n=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let r,o;if(n)r=mi,o=n;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);r=di,o=t}if(!o)return gi(t);const i=r[t],a=o[1].split(",").map(vi);return"function"===typeof i?i(a):a[i]}function vi(e){return parseFloat(e.trim())}function xi(e){let{top:t,left:n,right:r,bottom:o}=e;return{x:{min:n,max:r},y:{min:t,max:o}}}function bi(e){return void 0===e||1===e}function wi(e){let{scale:t,scaleX:n,scaleY:r}=e;return!bi(t)||!bi(n)||!bi(r)}function ki(e){return wi(e)||Si(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Si(e){return Ei(e.x)||Ei(e.y)}function Ei(e){return e&&"0%"!==e}function Ci(e,t,n){return n+t*(e-n)}function Ti(e,t,n,r,o){return void 0!==o&&(e=Ci(e,o,r)),Ci(e,n,r)+t}function Ni(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;e.min=Ti(e.min,t,n,r,o),e.max=Ti(e.max,t,n,r,o)}function Ai(e,t){let{x:n,y:r}=t;Ni(e.x,n.translate,n.scale,n.originPoint),Ni(e.y,r.translate,r.scale,r.originPoint)}const ji=.999999999999,Oi=1.0000000000001;function Ii(e,t){e.min=e.min+t,e.max=e.max+t}function _i(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;Ni(e,t,n,yo(e.min,e.max,o),r)}function Pi(e,t){_i(e.x,t.x,t.scaleX,t.scale,t.originX),_i(e.y,t.y,t.scaleY,t.scale,t.originY)}function Mi(e,t){return xi(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Ri=new Set(["width","height","top","left","right","bottom",...si]),Di=e=>t=>t.test(e),Li=[Ur,Zr,Qr,$r,to,eo,{test:e=>"auto"===e,parse:e=>e}],Fi=e=>Li.find(Di(e)),Ui=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),Vi=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function Bi(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');const[r,o]=function(e){const t=Vi.exec(e);if(!t)return[,];const[,n,r,o]=t;return["--".concat(null!==n&&void 0!==n?n:r),o]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return Ui(e)?parseFloat(e):e}return Lr(o)?Bi(o,t,n+1):o}const Hi=e=>e===Ur||e===Zr,zi=new Set(["x","y","z"]),Wi=si.filter((e=>!zi.has(e)));const qi={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:o="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(o)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:o="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(o)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return yi(n,"x")},y:(e,t)=>{let{transform:n}=t;return yi(n,"y")}};qi.translateX=qi.x,qi.translateY=qi.y;const Gi=new Set;let Yi=!1,Ji=!1,Ki=!1;function Xi(){if(Ji){const e=Array.from(Gi).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return Wi.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{var n;let[r,o]=t;null===(n=e.getValue(r))||void 0===n||n.set(o)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}Ji=!1,Yi=!1,Gi.forEach((e=>e.complete(Ki))),Gi.clear()}function $i(){Gi.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(Ji=!0)}))}class Qi{constructor(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=o,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(Gi.add(this),Yi||(Yi=!0,tr.read($i),tr.resolveKeyframes(Xi))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const o=null===r||void 0===r?void 0:r.get(),i=e[e.length-1];if(void 0!==o)e[0]=o;else if(n&&t){const r=n.readValue(t,i);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=i),r&&void 0===o&&r.set(e[0])}!function(e){for(let n=1;n<e.length;n++){var t;null!==(t=e[n])&&void 0!==t||(e[n]=e[n-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Gi.delete(this)}cancel(){"scheduled"===this.state&&(Gi.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const Zi=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);const ea=new Set(["brightness","contrast","saturate","opacity"]);function ta(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(zr)||[];if(!r)return e;const o=n.replace(r,"");let i=ea.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const na=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,ra=u(u({},fo),{},{getAnimatableNone:e=>{const t=e.match(na);return t?t.map(ta).join(" "):e}}),oa=u(u({},Ur),{},{transform:Math.round}),ia=u(u({borderWidth:Zr,borderTopWidth:Zr,borderRightWidth:Zr,borderBottomWidth:Zr,borderLeftWidth:Zr,borderRadius:Zr,radius:Zr,borderTopLeftRadius:Zr,borderTopRightRadius:Zr,borderBottomRightRadius:Zr,borderBottomLeftRadius:Zr,width:Zr,maxWidth:Zr,height:Zr,maxHeight:Zr,top:Zr,right:Zr,bottom:Zr,left:Zr,padding:Zr,paddingTop:Zr,paddingRight:Zr,paddingBottom:Zr,paddingLeft:Zr,margin:Zr,marginTop:Zr,marginRight:Zr,marginBottom:Zr,marginLeft:Zr,backgroundPositionX:Zr,backgroundPositionY:Zr},{rotate:$r,rotateX:$r,rotateY:$r,rotateZ:$r,scale:Br,scaleX:Br,scaleY:Br,scaleZ:Br,skew:$r,skewX:$r,skewY:$r,distance:Zr,translateX:Zr,translateY:Zr,translateZ:Zr,x:Zr,y:Zr,z:Zr,perspective:Zr,transformPerspective:Zr,opacity:Vr,originX:no,originY:no,originZ:Zr}),{},{zIndex:oa,fillOpacity:Vr,strokeOpacity:Vr,numOctaves:oa}),aa=u(u({},ia),{},{color:oo,backgroundColor:oo,outlineColor:oo,fill:oo,stroke:oo,borderColor:oo,borderTopColor:oo,borderRightColor:oo,borderBottomColor:oo,borderLeftColor:oo,filter:ra,WebkitFilter:ra}),sa=e=>aa[e];function la(e,t){let n=sa(e);return n!==ra&&(n=fo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const ca=new Set(["auto","none","0"]);class ua extends Qi{constructor(e,t,n,r,o){super(e,t,n,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let s=0;s<e.length;s++){let n=e[s];if("string"===typeof n&&(n=n.trim(),Lr(n))){const r=Bi(n,t.current);void 0!==r&&(e[s]=r),s===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!Ri.has(n)||2!==e.length)return;const[r,o]=e,i=Fi(r),a=Fi(o);if(i!==a)if(Hi(i)&&Hi(a))for(let s=0;s<e.length;s++){const t=e[s];"string"===typeof t&&(e[s]=parseFloat(t))}else qi[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let o=0;o<e.length;o++)(null===e[o]||("number"===typeof(r=e[o])?0===r:null===r||"none"===r||"0"===r||Zi(r)))&&n.push(o);var r;n.length&&function(e,t,n){let r,o=0;for(;o<e.length&&!r;){const t=e[o];"string"===typeof t&&!ca.has(t)&&co(t).values.length&&(r=e[o]),o++}if(r&&n)for(const i of t)e[i]=la(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qi[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=qi[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach((e=>{let[n,r]=e;t.getValue(n).set(r)})),this.resolveNoneKeyframes()}}const da=e=>Boolean(e&&e.getVelocity),pa=[...Li,oo,fo],{schedule:ha,cancel:fa}=er(queueMicrotask,!1),ma={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ga={};for(const Qw in ma)ga[Qw]={isEnabled:e=>ma[Qw].some((t=>!!e[t]))};const ya=()=>({x:{min:0,max:0},y:{min:0,max:0}}),va={current:null},xa={current:!1};const ba=new WeakMap;function wa(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function ka(e){return"string"===typeof e||Array.isArray(e)}const Sa=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ea=["initial",...Sa];function Ca(e){return wa(e.animate)||Ea.some((t=>ka(e[t])))}function Ta(e){return Boolean(Ca(e)||e.variants)}function Na(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function Aa(e,t,n,r){if("function"===typeof t){const[o,i]=Na(r);t=t(void 0!==n?n:e.custom,o,i)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[o,i]=Na(r);t=t(void 0!==n?n:e.custom,o,i)}return t}const ja=["willChange"],Oa=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ia{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:a,visualState:s}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Qi,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=sr.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,tr.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=s;this.latestValues=c,this.baseTarget=u({},c),this.initialValues=n.initial?u({},c):{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=l,this.blockInitialAnimation=Boolean(a),this.isControllingVariants=Ca(n),this.isVariantNode=Ta(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const p=this.scrapeMotionValuesFromProps(n,{},this),{willChange:h}=p,f=i(p,ja);for(const i in f){const e=f[i];void 0!==c[i]&&da(e)&&e.set(c[i])}}mount(e){this.current=e,ba.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),xa.current||function(){if(xa.current=!0,Qo)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>va.current=e.matches;e.addEventListener("change",t),t()}else va.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||va.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),nr(this.notifyUpdate),nr(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=li.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&tr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()}));let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),o&&o(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in ga){const t=ga[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Oa.length;n++){const t=Oa[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const o=t[r],i=n[r];if(da(o))e.addValue(r,o);else if(da(i))e.addValue(r,ur(o,{owner:e}));else if(i!==o)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(o):t.hasAnimated||t.set(o)}else{const t=e.getStaticValue(r);e.addValue(r,ur(void 0!==t?t:o,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=ur(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var o;return void 0!==r&&null!==r&&("string"===typeof r&&(Ui(r)||Zi(r))?r=parseFloat(r):(o=r,!pa.find(Di(o))&&fo.test(t)&&(r=la(e,t))),this.setBaseTarget(e,da(r)?r.get():r)),da(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){var r;const o=Aa(this.props,t,null===(r=this.presenceContext)||void 0===r?void 0:r.custom);o&&(n=o[e])}if(t&&void 0!==n)return n;const o=this.getBaseTargetFromProps(this.props,e);return void 0===o||da(o)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:o}on(e,t){return this.events[e]||(this.events[e]=new Jn),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}scheduleRenderMicrotask(){ha.render(this.render)}}class _a extends Ia{constructor(){super(...arguments),this.KeyframeResolver=ua}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;da(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent="".concat(e))})))}}const Pa=(e,t)=>t&&"number"===typeof e?t.transform(e):e,Ma={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ra=si.length;function Da(e,t,n){const{style:r,vars:o,transformOrigin:i}=e;let a=!1,s=!1;for(const l in t){const e=t[l];if(li.has(l))a=!0;else if(Rr(l))o[l]=e;else{const t=Pa(e,ia[l]);l.startsWith("origin")?(s=!0,i[l]=t):r[l]=t}}if(t.transform||(a||n?r.transform=function(e,t,n){let r="",o=!0;for(let i=0;i<Ra;i++){const a=si[i],s=e[a];if(void 0===s)continue;let l=!0;if(l="number"===typeof s?s===(a.startsWith("scale")?1:0):0===parseFloat(s),!l||n){const e=Pa(s,ia[a]);l||(o=!1,r+="".concat(Ma[a]||a,"(").concat(e,") ")),n&&(t[a]=e)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),s){const{originX:e="50%",originY:t="50%",originZ:n=0}=i;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}function La(e,t,n,r){let{style:o,vars:i}=t;const a=e.style;let s;for(s in o)a[s]=o[s];for(s in null===r||void 0===r||r.applyProjectionStyles(a,n),i)a.setProperty(s,i[s])}const Fa={};function Ua(e,t){let{layout:n,layoutId:r}=t;return li.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Fa[e]||"opacity"===e)}function Va(e,t,n){const{style:r}=e,o={};for(const a in r){var i;(da(r[a])||t.style&&da(t.style[a])||Ua(a,e)||void 0!==(null===n||void 0===n||null===(i=n.getValue(a))||void 0===i?void 0:i.liveStyle))&&(o[a]=r[a])}return o}class Ba extends _a{constructor(){super(...arguments),this.type="html",this.renderInstance=La}readValueFromInstance(e,t){var n,r;if(li.has(t))return null!==(n=this.projection)&&void 0!==n&&n.isProjecting?gi(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return yi(n,t)})(e,t);{const n=(r=e,window.getComputedStyle(r)),o=(Rr(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof o?o.trim():o}}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Mi(e,n)}build(e,t,n){Da(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Va(e,t,n)}}const Ha=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),za={offset:"stroke-dashoffset",array:"stroke-dasharray"},Wa={offset:"strokeDashoffset",array:"strokeDasharray"};const qa=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"];function Ga(e,t,n,r,o){let{attrX:a,attrY:s,attrScale:l,pathLength:c,pathSpacing:u=1,pathOffset:d=0}=t;if(Da(e,i(t,qa),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:h}=e;var f,m;(p.transform&&(h.transform=p.transform,delete p.transform),h.transform||p.transformOrigin)&&(h.transformOrigin=null!==(f=p.transformOrigin)&&void 0!==f?f:"50% 50%",delete p.transformOrigin);h.transform&&(h.transformBox=null!==(m=null===o||void 0===o?void 0:o.transformBox)&&void 0!==m?m:"fill-box",delete p.transformBox);void 0!==a&&(p.x=a),void 0!==s&&(p.y=s),void 0!==l&&(p.scale=l),void 0!==c&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const i=o?za:Wa;e[i.offset]=Zr.transform(-r);const a=Zr.transform(t),s=Zr.transform(n);e[i.array]="".concat(a," ").concat(s)}(p,c,u,d,!1)}const Ya=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Ja=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Ka(e,t,n){const r=Va(e,t,n);for(const o in e)if(da(e[o])||da(t[o])){r[-1!==si.indexOf(o)?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o]=e[o]}return r}class Xa extends _a{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ya}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(li.has(t)){const e=sa(t);return e&&e.default||0}return t=Ya.has(t)?t:Ha(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Ka(e,t,n)}build(e,t,n){Ga(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){La(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(Ya.has(o)?o:Ha(o),t.attrs[o])}(e,t,0,r)}mount(e){this.isSVGTag=Ja(e.tagName),super.mount(e)}}const $a=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Qa(e){return"string"===typeof e&&!e.includes("-")&&!!($a.indexOf(e)>-1||/[A-Z]/.test(e))}const Za=(e,t)=>Qa(e)?new Xa(t):new Ba(t,{allowProjection:e!==r.Fragment}),es=(0,r.createContext)({}),ts=(0,r.createContext)({strict:!1}),ns=(0,r.createContext)({});function rs(e){const{initial:t,animate:n}=function(e,t){if(Ca(e)){const{initial:t,animate:n}=e;return{initial:!1===t||ka(t)?t:void 0,animate:ka(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,r.useContext)(ns));return(0,r.useMemo)((()=>({initial:t,animate:n})),[os(t),os(n)])}function os(e){return Array.isArray(e)?e.join(" "):e}const is=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function as(e,t,n){for(const r in t)da(t[r])||Ua(r,n)||(e[r]=t[r])}function ss(e,t){const n={};return as(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,r.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return Da(e,t,n),Object.assign({},e.vars,e.style)}),[t])}(e,t)),n}function ls(e,t){const n={},r=ss(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const cs=()=>u(u({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}});function us(e,t,n,o){const i=(0,r.useMemo)((()=>{const n=cs();return Ga(n,t,Ja(o),e.transformTemplate,e.style),u(u({},n.attrs),{},{style:u({},n.style)})}),[t]);if(e.style){const t={};as(t,e.style,e),i.style=u(u({},t),i.style)}return i}const ds=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ps(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ds.has(e)}let hs=e=>!ps(e);try{"function"===typeof(fs=require("@emotion/is-prop-valid").default)&&(hs=e=>e.startsWith("on")?!ps(e):fs(e))}catch($w){}var fs;function ms(e,t,n,o,i){let{latestValues:a}=o,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const l=(Qa(e)?us:ls)(t,a,i,e),c=function(e,t,n){const r={};for(const o in e)"values"===o&&"object"===typeof e.values||(hs(o)||!0===n&&ps(o)||!t&&!ps(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}(t,"string"===typeof e,s),d=e!==r.Fragment?u(u(u({},c),l),{},{ref:n}):{},{children:p}=t,h=(0,r.useMemo)((()=>da(p)?p.get():p),[p]);return(0,r.createElement)(e,u(u({},d),{},{children:h}))}const gs=(0,r.createContext)(null);function ys(e){return da(e)?e.get():e}const vs=["transitionEnd","transition"];function xs(e,t,n,r){const o={},a=r(e,{});for(const i in a)o[i]=ys(a[i]);let{initial:s,animate:l}=e;const c=Ca(e),u=Ta(e);t&&u&&!c&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===l&&(l=t.animate));let d=!!n&&!1===n.initial;d=d||!1===s;const p=d?l:s;if(p&&"boolean"!==typeof p&&!wa(p)){const t=Array.isArray(p)?p:[p];for(let n=0;n<t.length;n++){const r=Aa(e,t[n]);if(r){const{transitionEnd:e,transition:t}=r,n=i(r,vs);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(o[r]=e)}for(const r in e)o[r]=e[r]}}}return o}const bs=e=>(t,n)=>{const o=(0,r.useContext)(ns),i=(0,r.useContext)(gs),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:o,createRenderState:i}=e;return{latestValues:xs(t,n,r,o),renderState:i()}}(e,t,o,i);return n?a():$o(a)},ws=bs({scrapeMotionValuesFromProps:Va,createRenderState:is}),ks=bs({scrapeMotionValuesFromProps:Ka,createRenderState:cs});const Ss=Symbol.for("motionComponentSymbol");function Es(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Cs(e,t,n){return(0,r.useCallback)((r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):Es(n)&&(n.current=r))}),[t])}const Ts="data-"+Ha("framerAppearId"),Ns=(0,r.createContext)({});function As(e,t,n,o,i){var a,s,l,c;const{visualElement:u}=(0,r.useContext)(ns),d=(0,r.useContext)(ts),p=(0,r.useContext)(gs),h=(0,r.useContext)(ri).reducedMotion,f=(0,r.useRef)(null);o=o||d.renderer,!f.current&&o&&(f.current=o(e,{visualState:t,parent:u,props:n,presenceContext:p,blockInitialAnimation:!!p&&!1===p.initial,reducedMotionConfig:h}));const m=f.current,g=(0,r.useContext)(Ns);!m||m.projection||!i||"html"!==m.type&&"svg"!==m.type||function(e,t,n,r){const{layoutId:o,layout:i,drag:a,dragConstraints:s,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:js(e.parent)),e.projection.setOptions({layoutId:o,layout:i,alwaysMeasureLayout:Boolean(a)||s&&Es(s),visualElement:e,animationType:"string"===typeof i?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}(f.current,n,i,g);const y=(0,r.useRef)(!1);(0,r.useInsertionEffect)((()=>{m&&y.current&&m.update(n,p)}));const v=n[Ts],x=(0,r.useRef)(Boolean(v)&&!(null!==(a=(s=window).MotionHandoffIsComplete)&&void 0!==a&&a.call(s,v))&&(null===(l=(c=window).MotionHasOptimisedAnimation)||void 0===l?void 0:l.call(c,v)));return Zo((()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),x.current&&m.animationState&&m.animationState.animateChanges())})),(0,r.useEffect)((()=>{m&&(!x.current&&m.animationState&&m.animationState.animateChanges(),x.current&&(queueMicrotask((()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,v)})),x.current=!1))})),m}function js(e){if(e)return!1!==e.options.allowProjection?e.projection:js(e.parent)}function Os(e){var t,n;let{forwardMotionProps:o=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;i&&function(e){for(const t in e)ga[t]=u(u({},ga[t]),e[t])}(i);const s=Qa(e)?ks:ws;function l(t,n){let i;const l=u(u(u({},(0,r.useContext)(ri)),t),{},{layoutId:Is(t)}),{isStatic:c}=l,d=rs(t),p=s(t,c);if(!c&&Qo){!function(){(0,r.useContext)(ts).strict;0}();const t=function(e){const{drag:t,layout:n}=ga;if(!t&&!n)return{};const r=u(u({},t),n);return{MeasureLayout:null!==t&&void 0!==t&&t.isEnabled(e)||null!==n&&void 0!==n&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);i=t.MeasureLayout,d.visualElement=As(e,p,l,a,t.ProjectionNode)}return(0,Hn.jsxs)(ns.Provider,{value:d,children:[i&&d.visualElement?(0,Hn.jsx)(i,u({visualElement:d.visualElement},l)):null,ms(e,t,Cs(p,d.visualElement,n),p,c,o)]})}l.displayName="motion.".concat("string"===typeof e?e:"create(".concat(null!==(t=null!==(n=e.displayName)&&void 0!==n?n:e.name)&&void 0!==t?t:"",")"));const c=(0,r.forwardRef)(l);return c[Ss]=e,c}function Is(e){let{layoutId:t}=e;const n=(0,r.useContext)(es).id;return n&&void 0!==t?n+"-"+t:t}function _s(e,t){if("undefined"===typeof Proxy)return Os;const n=new Map,r=(n,r)=>Os(n,r,e,t);return new Proxy(((e,t)=>r(e,t)),{get:(o,i)=>"create"===i?r:(n.has(i)||n.set(i,Os(i,void 0,e,t)),n.get(i))})}function Ps(e,t,n){const r=e.getProps();return Aa(r,t,void 0!==n?n:r.custom,e)}function Ms(e,t){var n,r;return null!==(n=null!==(r=null===e||void 0===e?void 0:e[t])&&void 0!==r?r:null===e||void 0===e?void 0:e.default)&&void 0!==n?n:e}const Rs=e=>Array.isArray(e),Ds=["transitionEnd","transition"];function Ls(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ur(n))}function Fs(e,t){let n=Ps(e,t)||{},{transitionEnd:r={},transition:o={}}=n,a=i(n,Ds);a=u(u({},a),r);for(const i in a){Ls(e,i,(s=a[i],Rs(s)?s[s.length-1]||0:s))}var s}function Us(e,t){const n=e.getValue("willChange");if(r=n,Boolean(da(r)&&r.add))return n.add(t);if(!n&&Xn.WillChange){const n=new Xn.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}function Vs(e){return e.props[Ts]}function Bs(e){e.duration=0,e.type}const Hs=e=>1e3*e,zs=e=>e/1e3,Ws={layout:0,mainThread:0,waapi:0},qs=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return tr.update(t,e)},stop:()=>nr(t),now:()=>rr.isProcessing?rr.timestamp:sr.now()}},Gs=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const o=Math.max(Math.round(t/n),2);for(let i=0;i<o;i++)r+=Math.round(1e4*e(i/(o-1)))/1e4+", ";return"linear(".concat(r.substring(0,r.length-2),")")},Ys=2e4;function Js(e){let t=0;let n=e.next(t);for(;!n.done&&t<Ys;)t+=50,n=e.next(t);return t>=Ys?1/0:t}function Ks(e,t,n){const r=Math.max(t-5,0);return Kn(n-e(r),t-r)}const Xs={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$s=.001;function Qs(e){let t,n,{duration:r=Xs.duration,bounce:o=Xs.bounce,velocity:i=Xs.velocity,mass:a=Xs.mass}=e;Hs(Xs.maxDuration);let s=1-o;s=Pr(Xs.minDamping,Xs.maxDamping,s),r=Pr(Xs.minDuration,Xs.maxDuration,zs(r)),s<1?(t=e=>{const t=e*s,n=t*r,o=t-i,a=el(e,s),l=Math.exp(-n);return $s-o/a*l},n=e=>{const n=e*s*r,o=n*i+i,a=Math.pow(s,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=el(Math.pow(e,2),s);return(-t(e)+$s>0?-1:1)*((o-a)*l)/c}):(t=e=>Math.exp(-e*r)*((e-i)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(i-e)));const l=function(e,t,n){let r=n;for(let o=1;o<Zs;o++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=Hs(r),isNaN(l))return{stiffness:Xs.stiffness,damping:Xs.damping,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*s*Math.sqrt(a*e),duration:r}}}const Zs=12;function el(e,t){return e*Math.sqrt(1-t*t)}const tl=["duration","bounce"],nl=["stiffness","damping","mass"];function rl(e,t){return t.some((t=>void 0!==e[t]))}function ol(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xs.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xs.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],s={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:p,velocity:h,isResolvedFromDuration:f}=function(e){let t=u({velocity:Xs.velocity,stiffness:Xs.stiffness,damping:Xs.damping,mass:Xs.mass,isResolvedFromDuration:!1},e);if(!rl(e,nl)&&rl(e,tl))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),o=r*r,i=2*Pr(.05,1,1-(e.bounce||0))*Math.sqrt(o);t=u(u({},t),{},{mass:Xs.mass,stiffness:o,damping:i})}else{const n=Qs(e);t=u(u(u({},t),n),{},{mass:Xs.mass}),t.isResolvedFromDuration=!0}return t}(u(u({},n),{},{velocity:-zs(n.velocity||0)})),m=h||0,g=c/(2*Math.sqrt(l*d)),y=a-i,v=zs(Math.sqrt(l/d)),x=Math.abs(y)<5;let b;if(r||(r=x?Xs.restSpeed.granular:Xs.restSpeed.default),o||(o=x?Xs.restDelta.granular:Xs.restDelta.default),g<1){const e=el(v,g);b=t=>{const n=Math.exp(-g*v*t);return a-n*((m+g*v*y)/e*Math.sin(e*t)+y*Math.cos(e*t))}}else if(1===g)b=e=>a-Math.exp(-v*e)*(y+(m+v*y)*e);else{const e=v*Math.sqrt(g*g-1);b=t=>{const n=Math.exp(-g*v*t),r=Math.min(e*t,300);return a-n*((m+g*v*y)*Math.sinh(r)+e*y*Math.cosh(r))/e}}const w={calculatedDuration:f&&p||null,next:e=>{const t=b(e);if(f)s.done=e>=p;else{let n=0===e?m:0;g<1&&(n=0===e?Hs(m):Ks(b,e,t));const i=Math.abs(n)<=r,l=Math.abs(a-t)<=o;s.done=i&&l}return s.value=s.done?a:t,s},toString:()=>{const e=Math.min(Js(w),Ys),t=Gs((t=>w.next(e*t).value),e,30);return e+"ms "+t},toTransition:()=>{}};return w}function il(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:o=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const p=t[0],h={done:!1,value:p},f=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=p+m,y=void 0===s?g:s(g);y!==g&&(m=y-p);const v=e=>-m*Math.exp(-e/o),x=e=>y+v(e),b=e=>{const t=v(e),n=x(e);h.done=Math.abs(t)<=u,h.value=h.done?y:n};let w,k;const S=e=>{var t;(t=h.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(w=e,k=ol({keyframes:[h.value,f(h.value)],velocity:Ks(x,e,h.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return k||void 0!==w||(t=!0,b(e),S(e)),void 0!==w&&e>=w?k.next(e-w):(!t&&b(e),h)}}}ol.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)(u(u({},e),{},{keyframes:[0,t]})),r=Math.min(Js(n),Ys);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:zs(r)}}(e,100,ol);return e.ease=t.ease,e.duration=Hs(t.duration),e.type="keyframes",e};const al=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function sl(e,t,n,r){if(e===t&&n===r)return $n;const o=t=>function(e,t,n,r,o){let i,a,s=0;do{a=t+(n-t)/2,i=al(a,r,o)-e,i>0?n=a:t=a}while(Math.abs(i)>1e-7&&++s<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:al(o(e),t,r)}const ll=sl(.42,0,1,1),cl=sl(0,0,.58,1),ul=sl(.42,0,.58,1),dl=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,pl=e=>t=>1-e(1-t),hl=sl(.33,1.53,.69,.99),fl=pl(hl),ml=dl(fl),gl=e=>(e*=2)<1?.5*fl(e):.5*(2-Math.pow(2,-10*(e-1))),yl=e=>1-Math.sin(Math.acos(e)),vl=pl(yl),xl=dl(yl),bl=e=>Array.isArray(e)&&"number"===typeof e[0],wl={linear:$n,easeIn:ll,easeInOut:ul,easeOut:cl,circIn:yl,circInOut:xl,circOut:vl,backIn:fl,backInOut:ml,backOut:hl,anticipate:gl},kl=e=>{if(bl(e)){e.length;const[t,n,r,o]=e;return sl(t,n,r,o)}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),wl[e]):e};function Sl(e){let{duration:t=300,keyframes:n,times:r,ease:o="easeInOut"}=e;const i=(e=>Array.isArray(e)&&"number"!==typeof e[0])(o)?o.map(kl):kl(o),a={done:!1,value:n[0]},s=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:Oo(n),t),l=jo(s,n,{ease:Array.isArray(i)?i:(c=n,u=i,c.map((()=>u||ul)).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}const El=e=>null!==e;function Cl(e,t,n){let{repeat:r,repeatType:o="loop"}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const a=e.filter(El),s=i<0||r&&"loop"!==o&&r%2===1?0:a.length-1;return s&&void 0!==n?n:a[s]}const Tl={decay:il,inertia:il,tween:Sl,keyframes:Sl,spring:ol};function Nl(e){"string"===typeof e.type&&(e.type=Tl[e.type])}class Al{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise((e=>{this.resolve=e}))}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const jl=e=>e/100;class Ol extends Al{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==sr.now()&&this.tick(sr.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(e=(t=this.options).onStop)||void 0===e||e.call(t))},Ws.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;Nl(e);const{type:t=Sl,repeat:n=0,repeatDelay:r=0,repeatType:o,velocity:i=0}=e;let{keyframes:a}=e;const s=t||Sl;s!==Sl&&"number"!==typeof a[0]&&(this.mixKeyframes=_r(jl,Ao(a[0],a[1])),a=[0,100]);const l=s(u(u({},e),{},{keyframes:a}));"mirror"===o&&(this.mirroredGenerator=s(u(u({},e),{},{keyframes:[...a].reverse(),velocity:-i}))),null===l.calculatedDuration&&(l.calculatedDuration=Js(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:r,mixKeyframes:o,mirroredGenerator:i,resolvedDuration:a,calculatedDuration:s}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:d,repeatDelay:p,type:h,onUpdate:f,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let v=this.currentTime,x=n;if(u){const e=Math.min(this.currentTime,r)/a;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===d?(n=1-n,p&&(n-=p/a)):"mirror"===d&&(x=i)),v=Pr(0,1,n)*a}const b=y?{done:!1,value:c[0]}:x.next(v);o&&(b.value=o(b.value));let{done:w}=b;y||null===s||(w=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const k=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return k&&h!==il&&(b.value=Cl(c,this.options,m,this.speed)),f&&f(b.value),k&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return zs(this.calculatedDuration)}get time(){return zs(this.currentTime)}set time(e){var t;e=Hs(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(sr.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=zs(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=qs,startTime:r}=this.options;this.driver||(this.driver=n((e=>this.tick(e)))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const o=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=o):null!==this.holdTime?this.startTime=o-this.holdTime:this.startTime||(this.startTime=null!==r&&void 0!==r?r:o),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(sr.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,Ws.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}const Il={};function _l(e,t){const n=pr(e);return()=>{var e;return null!==(e=Il[t])&&void 0!==e?e:n()}}const Pl=_l((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(Xw){return!1}return!0}),"linearEasing"),Ml=e=>{let[t,n,r,o]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(o,")")},Rl={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ml([0,.65,.55,1]),circOut:Ml([.55,0,1,.45]),backIn:Ml([.31,.01,.66,-.59]),backOut:Ml([.33,1.53,.69,.99])};function Dl(e,t){return e?"function"===typeof e?Pl()?Gs(e,t):"ease-out":bl(e)?Ml(e):Array.isArray(e)?e.map((e=>Dl(e,t)||Rl.easeOut)):Rl[e]:void 0}function Ll(e,t,n){let{delay:r=0,duration:o=300,repeat:i=0,repeatType:a="loop",ease:s="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const u={[t]:n};l&&(u.offset=l);const d=Dl(s,o);Array.isArray(d)&&(u.easing=d),Zn.value&&Ws.waapi++;const p={delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:"reverse"===a?"alternate":"normal"};c&&(p.pseudoElement=c);const h=e.animate(u,p);return Zn.value&&h.finished.finally((()=>{Ws.waapi--})),h}function Fl(e){return"function"===typeof e&&"applyToOptions"in e}const Ul=["type"];class Vl extends Al{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:s,onComplete:l}=e;this.isPseudoElement=Boolean(o),this.allowFlatten=a,this.options=e,e.type;const c=function(e){let{type:t}=e,n=i(e,Ul);return Fl(t)&&Pl()?t.applyToOptions(n):(null!==(r=n.duration)&&void 0!==r||(n.duration=300),null!==(o=n.ease)&&void 0!==o||(n.ease="easeOut"),n);var r,o}(e);this.animation=Ll(t,n,r,c,o),!1===c.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const e=Cl(r,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null===l||void 0===l||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(Xw){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(null===(e=(t=this.animation).commitStyles)||void 0===e||e.call(t))}get duration(){var e,t;const n=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return zs(Number(n))}get time(){return zs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Hs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;var r;this.allowFlatten&&(null===(r=this.animation.effect)||void 0===r||r.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&hr()?(this.animation.timeline=t,$n):n(this)}}const Bl={anticipate:gl,backInOut:ml,circInOut:xl};function Hl(e){"string"===typeof e.ease&&e.ease in Bl&&(e.ease=Bl[e.ease])}const zl=["motionValue","onUpdate","onComplete","element"];class Wl extends Vl{constructor(e){Hl(e),Nl(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const n=this.options,{motionValue:r,onUpdate:o,onComplete:a,element:s}=n,l=i(n,zl);if(!r)return;if(void 0!==e)return void r.set(e);const c=new Ol(u(u({},l),{},{autoplay:!1})),d=Hs(null!==(t=this.finishedTime)&&void 0!==t?t:this.time);r.setWithVelocity(c.sample(d-10).value,c.sample(d).value,10),c.stop()}}const ql=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!fo.test(e)&&"0"!==e||e.startsWith("url(")));const Gl=new Set(["opacity","clipPath","filter","transform"]),Yl=pr((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));const Jl=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class Kl extends Al{constructor(e){var t;let{autoplay:n=!0,delay:r=0,type:o="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:l="loop",keyframes:c,name:d,motionValue:p,element:h}=e,f=i(e,Jl);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=sr.now();const m=u({autoplay:n,delay:r,type:o,repeat:a,repeatDelay:s,repeatType:l,name:d,motionValue:p,element:h},f),g=(null===h||void 0===h?void 0:h.KeyframeResolver)||Qi;this.keyframeResolver=new g(c,((e,t,n)=>this.onKeyframesResolved(e,t,m,!n)),d,p,h),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:o,type:i,velocity:a,delay:s,isHandoff:l,onUpdate:c}=n;this.resolvedAt=sr.now(),function(e,t,n,r){const o=e[0];if(null===o)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],a=ql(o,t),s=ql(i,t);return"You are trying to animate ".concat(t,' from "').concat(o,'" to "').concat(i,'". "').concat(a?i:o,'" is not an animatable value.'),!(!a||!s)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||Fl(n))&&r)}(e,o,i,a)||(!Xn.instantAnimations&&s||null===c||void 0===c||c(Cl(e,n,t)),e[0]=e[e.length-1],Bs(n),n.repeat=0);const d=u(u({startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t},n),{},{keyframes:e}),p=!l&&function(e){var t;const{motionValue:n,name:r,repeatDelay:o,repeatType:i,damping:a,type:s}=e;if(!((null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Yl()&&r&&Gl.has(r)&&("transform"!==r||!c)&&!l&&!o&&"mirror"!==i&&0!==a&&"inertia"!==s}(d)?new Wl(u(u({},d),{},{element:d.motionValue.owner.current})):new Ol(d);p.finished.then((()=>this.notifyFinished())).catch($n),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then((()=>{}))}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),Ki=!0,$i(),Xi(),Ki=!1);return this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const Xl=e=>null!==e;const $l={type:"spring",stiffness:500,damping:25,restSpeed:10},Ql={type:"keyframes",duration:.8},Zl={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ec=(e,t)=>{let{keyframes:n}=t;return n.length>2?Ql:li.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:$l:Zl},tc=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const nc=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;return s=>{const l=Ms(r,e)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d-=Hs(c);const p=u(u({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},l),{},{delay:-d,onUpdate:e=>{t.set(e),l.onUpdate&&l.onUpdate(e)},onComplete:()=>{s(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:o});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:o,staggerDirection:a,repeat:s,repeatType:l,repeatDelay:c,from:u,elapsed:d}=e,p=i(e,tc);return!!Object.keys(p).length})(l)||Object.assign(p,ec(e,p)),p.duration&&(p.duration=Hs(p.duration)),p.repeatDelay&&(p.repeatDelay=Hs(p.repeatDelay)),void 0!==p.from&&(p.keyframes[0]=p.from);let h=!1;if((!1===p.type||0===p.duration&&!p.repeatDelay)&&(Bs(p),0===p.delay&&(h=!0)),(Xn.instantAnimations||Xn.skipAnimations)&&(h=!0,Bs(p),p.delay=0),p.allowFlatten=!l.type&&!l.ease,h&&!a&&void 0!==t.get()){const e=function(e,t,n){let{repeat:r,repeatType:o="loop"}=t;const i=e.filter(Xl),a=r&&"loop"!==o&&r%2===1?0:i.length-1;return a&&void 0!==n?n:i[a]}(p.keyframes,l);if(void 0!==e)return void tr.update((()=>{p.onUpdate(e),p.onComplete()}))}return l.isSync?new Ol(p):new Kl(p)}},rc=["transition","transitionEnd"];function oc(e,t){let{protectedKeys:n,needsAnimating:r}=e;const o=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,o}function ic(e,t){let{delay:n=0,transitionOverride:r,type:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:a=e.getDefaultTransition(),transitionEnd:s}=t,l=i(t,rc);r&&(a=r);const c=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const i in l){var p;const t=e.getValue(i,null!==(p=e.latestValues[i])&&void 0!==p?p:null),r=l[i];if(void 0===r||d&&oc(d,i))continue;const o=u({delay:n},Ms(a||{},i)),s=t.get();if(void 0!==s&&!t.isAnimating&&!Array.isArray(r)&&r===s&&!o.velocity)continue;let h=!1;if(window.MotionHandoffAnimation){const t=Vs(e);if(t){const e=window.MotionHandoffAnimation(t,i,tr);null!==e&&(o.startTime=e,h=!0)}}Us(e,i),t.start(nc(i,t,r,e.shouldReduceMotion&&Ri.has(i)?{type:!1}:o,e,h));const f=t.animation;f&&c.push(f)}return s&&Promise.all(c).then((()=>{tr.update((()=>{s&&Fs(e,s)}))})),c}function ac(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=Ps(e,t,"exit"===r.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=o||{};r.transitionOverride&&(i=r.transitionOverride);const a=o?()=>Promise.all(ic(e,o,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:o=0,staggerChildren:a,staggerDirection:s}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6?arguments[6]:void 0;const s=[],l=e.variantChildren.size,c=(l-1)*o,d="function"===typeof r,p=d?e=>r(e,l):1===i?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*o}:function(){return c-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*o};return Array.from(e.variantChildren).sort(sc).forEach(((e,o)=>{e.notify("AnimationStart",t),s.push(ac(e,t,u(u({},a),{},{delay:n+(d?0:r)+p(o)})).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(s)}(e,t,n,o,a,s,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[e,t]="beforeChildren"===l?[a,s]:[s,a];return e().then((()=>t()))}return Promise.all([a(),s(r.delay)])}function sc(e,t){return e.sortNodePosition(t)}function lc(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const o=t.map((t=>ac(e,t,r)));n=Promise.all(o)}else if("string"===typeof t)n=ac(e,t,r);else{const o="function"===typeof t?Ps(e,t,r.custom):t;n=Promise.all(ic(e,o,r))}return n.then((()=>{e.notify("AnimationComplete",t)}))}function cc(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const uc=Ea.length;function dc(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&dc(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<uc;n++){const r=Ea[n],o=e.props[r];(ka(o)||!1===o)&&(t[r]=o)}return t}const pc=["transition","transitionEnd"],hc=[...Sa].reverse(),fc=Sa.length;function mc(e){let t=function(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return lc(e,n,r)})))}(e),n=vc(),r=!0;const o=t=>(n,r)=>{var o;const a=Ps(e,r,"exit"===t?null===(o=e.presenceContext)||void 0===o?void 0:o.custom:void 0);if(a){const{transition:e,transitionEnd:t}=a,r=i(a,pc);n=u(u(u({},n),r),t)}return n};function a(i){const{props:a}=e,s=dc(e.parent)||{},l=[],c=new Set;let d={},p=1/0;for(let t=0;t<fc;t++){const h=hc[t],f=n[h],m=void 0!==a[h]?a[h]:s[h],g=ka(m),y=h===i?f.isActive:null;!1===y&&(p=t);let v=m===s[h]&&m!==a[h]&&g;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),f.protectedKeys=u({},d),!f.isActive&&null===y||!m&&!f.prevProp||wa(m)||"boolean"===typeof m)continue;const x=gc(f.prevProp,m);let b=x||h===i&&f.isActive&&!v&&g||t>p&&g,w=!1;const k=Array.isArray(m)?m:[m];let S=k.reduce(o(h),{});!1===y&&(S={});const{prevResolvedValues:E={}}=f,C=u(u({},E),S),T=t=>{b=!0,c.has(t)&&(w=!0,c.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in C){const t=S[e],n=E[e];if(d.hasOwnProperty(e))continue;let r=!1;r=Rs(t)&&Rs(n)?!cc(t,n):t!==n,r?void 0!==t&&null!==t?T(e):c.add(e):void 0!==t&&c.has(e)?T(e):f.protectedKeys[e]=!0}f.prevProp=m,f.prevResolvedValues=S,f.isActive&&(d=u(u({},d),S)),r&&e.blockInitialAnimation&&(b=!1);b&&(!(v&&x)||w)&&l.push(...k.map((e=>({animation:e,options:{type:h}}))))}if(c.size){const t={};if("boolean"!==typeof a.initial){const n=Ps(e,Array.isArray(a.initial)?a.initial[0]:a.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach((n=>{const r=e.getBaseTarget(n),o=e.getValue(n);o&&(o.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null})),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:a,setActive:function(t,r){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const i=a(t);for(const e in n)n[e].protectedKeys={};return i},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=vc(),r=!0}}}function gc(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!cc(t,e)}function yc(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vc(){return{animate:yc(!0),whileInView:yc(),whileHover:yc(),whileTap:yc(),whileDrag:yc(),whileFocus:yc(),exit:yc()}}class xc{constructor(e){this.isMounted=!1,this.node=e}update(){}}let bc=0;const wc={animation:{Feature:class extends xc{constructor(e){super(e),e.animationState||(e.animationState=mc(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();wa(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends xc{constructor(){super(...arguments),this.id=bc++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>{t(this.id)}))}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},kc={x:!1,y:!1};function Sc(){return kc.x||kc.y}function Ec(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Cc=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Tc(e){return{point:{x:e.pageX,y:e.pageY}}}function Nc(e,t,n,r){return Ec(e,t,(e=>t=>Cc(t)&&e(t,Tc(t)))(n),r)}function Ac(e){return e.max-e.min}function jc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=yo(t.min,t.max,e.origin),e.scale=Ac(n)/Ac(t),e.translate=yo(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function Oc(e,t,n,r){jc(e.x,t.x,n.x,r?r.originX:void 0),jc(e.y,t.y,n.y,r?r.originY:void 0)}function Ic(e,t,n){e.min=n.min+t.min,e.max=e.min+Ac(t)}function _c(e,t,n){e.min=t.min-n.min,e.max=e.min+Ac(t)}function Pc(e,t,n){_c(e.x,t.x,n.x),_c(e.y,t.y,n.y)}function Mc(e){return[e("x"),e("y")]}const Rc=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},Dc=(e,t)=>Math.abs(e-t);class Lc{constructor(e,t){let{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:o=!1,distanceThreshold:i=3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Vc(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Dc(e.x,t.x),r=Dc(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:o}=rr;this.history.push(u(u({},r),{},{timestamp:o}));const{onStart:i,onMove:a}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Fc(t,this.transformPagePoint),tr.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:o}=this.handlers;if(this.dragSnapToOrigin&&o&&o(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=Vc("pointercancel"===e.type?this.lastMoveEventInfo:Fc(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!Cc(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=r||window;const a=Fc(Tc(e),this.transformPagePoint),{point:s}=a,{timestamp:l}=rr;this.history=[u(u({},s),{},{timestamp:l})];const{onSessionStart:c}=t;c&&c(e,Vc(a,this.history)),this.removeListeners=_r(Nc(this.contextWindow,"pointermove",this.handlePointerMove),Nc(this.contextWindow,"pointerup",this.handlePointerUp),Nc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),nr(this.updatePoint)}}function Fc(e,t){return t?{point:t(e.point)}:e}function Uc(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Vc(e,t){let{point:n}=e;return{point:n,delta:Uc(n,Hc(t)),offset:Uc(n,Bc(t)),velocity:zc(t,.1)}}function Bc(e){return e[0]}function Hc(e){return e[e.length-1]}function zc(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=Hc(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Hs(t)));)n--;if(!r)return{x:0,y:0};const i=zs(o.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const a={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Wc(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function qc(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Gc=.35;function Yc(e,t,n){return{min:Jc(e,t),max:Jc(e,n)}}function Jc(e,t){return"number"===typeof e?e:e[t]||0}const Kc=new WeakMap;class Xc{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e){let{snapToCursor:t=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:o}=this.getProps();this.panSession=new Lc(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Tc(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:o}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(i=n)||"y"===i?kc[i]?null:(kc[i]=!0,()=>{kc[i]=!1}):kc.x||kc.y?null:(kc.x=kc.y=!0,()=>{kc.x=kc.y=!1}),!this.openDragLock))return;var i;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mc((e=>{let t=this.getAxisMotionValue(e).get()||0;if(Qr.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Ac(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),o&&tr.postRender((()=>o(e,t))),Us(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:o,onDrag:i}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&o&&o(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>Mc((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:o,distanceThreshold:n,contextWindow:Rc(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!r||!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&tr.postRender((()=>a(n,r)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!$c(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,t,n){let{min:r,max:o}=t;return void 0!==r&&e<r?e=n?yo(r,e,n.min):Math.max(e,r):void 0!==o&&e>o&&(e=n?yo(o,e,n.max):Math.min(e,o)),e}(i,this.constraints[e],this.elastic[e])),o.set(i)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,o=this.constraints;t&&Es(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:o,right:i}=t;return{x:Wc(e.x,r,i),y:Wc(e.y,n,o)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gc;return!1===e?e=0:!0===e&&(e=Gc),{x:Yc(e,"left","right"),y:Yc(e,"top","bottom")}}(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Mc((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Es(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=function(e,t,n){const r=Mi(e,n),{scroll:o}=t;return o&&(Ii(r.x,o.offset.x),Ii(r.y,o.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:qc(e.x,t.x),y:qc(e.y,t.y)}}(r.layout.layoutBox,o);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=xi(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),s=this.constraints||{},l=Mc((a=>{if(!$c(a,t,this.currentDirection))return;let l=s&&s[a]||{};i&&(l={min:0,max:0});const c=r?200:1e6,d=r?40:1e7,p=u(u({type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},o),l);return this.startAxisValueAnimation(a,p)}));return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Us(this.visualElement,e),n.start(nc(e,n,0,t,this.visualElement,!1))}stopAnimation(){Mc((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){Mc((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Mc((t=>{const{drag:n}=this.getProps();if(!$c(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t];o.set(e[t]-yo(n,i,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Es(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Mc((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=Ac(e),o=Ac(t);return o>r?n=Ar(t.min,t.max-r,e.min):r>o&&(n=Ar(e.min,e.max-o,t.min)),Pr(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Mc((t=>{if(!$c(t,e,null))return;const n=this.getAxisMotionValue(t),{min:o,max:i}=this.constraints[t];n.set(yo(o,i,r[t]))}))}addListeners(){if(!this.visualElement.current)return;Kc.set(this.visualElement,this);const e=Nc(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Es(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),tr.read(t);const o=Ec(window,"resize",(()=>this.scalePositionWithinConstraints())),i=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(Mc((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{o(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:i=Gc,dragMomentum:a=!0}=e;return u(u({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:o,dragElastic:i,dragMomentum:a})}}function $c(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Qc=e=>(t,n)=>{e&&tr.postRender((()=>e(t,n)))};function Zc(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,r.useContext)(gs);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:o,register:i}=t,a=(0,r.useId)();(0,r.useEffect)((()=>{if(e)return i(a)}),[e]);const s=(0,r.useCallback)((()=>e&&o&&o(a)),[a,o,e]);return!n&&o?[!1,s]:[!0]}const eu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tu(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const nu={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!Zr.test(e))return e;e=parseFloat(e)}const n=tu(e,t.target.x),r=tu(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},ru={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const o=e,i=fo.parse(e);if(i.length>5)return o;const a=fo.createTransformer(e),s="number"!==typeof i[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;i[0+s]/=l,i[1+s]/=c;const u=yo(l,c,.5);return"number"===typeof i[2+s]&&(i[2+s]/=u),"number"===typeof i[3+s]&&(i[3+s]/=u),a(i)}};let ou=!1;class iu extends r.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:o}=e;!function(e){for(const t in e)Fa[t]=e[t],Rr(t)&&(Fa[t].isCSSVariable=!0)}(su),o&&(t.group&&t.group.add(o),n&&n.register&&r&&n.register(o),ou&&o.root.didUpdate(),o.addEventListener("animationComplete",(()=>{this.safeToRemove()})),o.setOptions(u(u({},o.options),{},{onExitComplete:()=>this.safeToRemove()}))),eu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:o}=this.props,{projection:i}=n;return i?(i.isPresent=o,ou=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==o?i.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?i.promote():i.relegate()||tr.postRender((()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ha.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function au(e){const[t,n]=Zc(),o=(0,r.useContext)(es);return(0,Hn.jsx)(iu,u(u({},e),{},{layoutGroup:o,switchLayoutGroup:(0,r.useContext)(Ns),isPresent:t,safeToRemove:n}))}const su={borderRadius:u(u({},nu),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:nu,borderTopRightRadius:nu,borderBottomLeftRadius:nu,borderBottomRightRadius:nu,boxShadow:ru};const lu=(e,t)=>e.depth-t.depth;class cu{constructor(){this.children=[],this.isDirty=!1}add(e){Gn(this.children,e),this.isDirty=!0}remove(e){Yn(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(lu),this.isDirty=!1,this.children.forEach(e)}}function uu(e,t){const n=sr.now(),r=o=>{let{timestamp:i}=o;const a=i-n;a>=t&&(nr(r),e(a-t))};return tr.setup(r,!0),()=>nr(r)}const du=["TopLeft","TopRight","BottomLeft","BottomRight"],pu=du.length,hu=e=>"string"===typeof e?parseFloat(e):e,fu=e=>"number"===typeof e||Zr.test(e);function mu(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const gu=vu(0,.5,vl),yu=vu(.5,.95,$n);function vu(e,t,n){return r=>r<e?0:r>t?1:n(Ar(e,t,r))}function xu(e,t){e.min=t.min,e.max=t.max}function bu(e,t){xu(e.x,t.x),xu(e.y,t.y)}function wu(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ku(e,t,n,r,o){return e=Ci(e-=t,1/n,r),void 0!==o&&(e=Ci(e,1/o,r)),e}function Su(e,t,n,r,o){let[i,a,s]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;Qr.test(t)&&(t=parseFloat(t),t=yo(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let s=yo(i.min,i.max,r);e===i&&(s-=t),e.min=ku(e.min,t,n,s,o),e.max=ku(e.max,t,n,s,o)}(e,t[i],t[a],t[s],t.scale,r,o)}const Eu=["x","scaleX","originX"],Cu=["y","scaleY","originY"];function Tu(e,t,n,r){Su(e.x,t,Eu,n?n.x:void 0,r?r.x:void 0),Su(e.y,t,Cu,n?n.y:void 0,r?r.y:void 0)}function Nu(e){return 0===e.translate&&1===e.scale}function Au(e){return Nu(e.x)&&Nu(e.y)}function ju(e,t){return e.min===t.min&&e.max===t.max}function Ou(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Iu(e,t){return Ou(e.x,t.x)&&Ou(e.y,t.y)}function _u(e){return Ac(e.x)/Ac(e.y)}function Pu(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Mu{constructor(){this.members=[]}add(e){Gn(this.members,e),e.scheduleRender()}remove(e){if(Yn(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Ru={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},Du=["","X","Y","Z"];let Lu=0;function Fu(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Uu(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Vs(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",tr,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Uu(r)}function Vu(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:o,resetTransform:i}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Lu++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Zn.value&&(Ru.nodes=Ru.calculatedTargetDeltas=Ru.calculatedProjections=0),this.nodes.forEach(zu),this.nodes.forEach(Xu),this.nodes.forEach($u),this.nodes.forEach(Wu),Zn.addProjectionMetrics&&Zn.addProjectionMetrics(Ru)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new cu)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Jn),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=mr(e)&&!(mr(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:r,layout:o,visualElement:i}=this.options;if(i&&!i.current&&i.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(o||r)&&(this.isLayoutDirty=!0),t){let n,r=0;const o=()=>this.root.updateBlockedByResize=!1;tr.read((()=>{r=window.innerWidth})),t(e,(()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=uu(o,250),eu.hasAnimatedSinceResize&&(eu.hasAnimatedSinceResize=!1,this.nodes.forEach(Ku)))}))}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&i&&(r||o)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:o}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const a=this.options.transition||i.getDefaultTransition()||rd,{onLayoutAnimationStart:s,onLayoutAnimationComplete:l}=i.getProps(),c=!this.targetLayout||!Iu(this.targetLayout,o),d=!n&&r;if(this.options.layoutRoot||this.resumeFrom||d||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e=u(u({},Ms(a,"layout")),{},{onPlay:s,onComplete:l});(i.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,d)}else n||Ku(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=o}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),nr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Qu),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Uu(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let o=0;o<this.path.length;o++){const e=this.path[o];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Gu);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(Yu);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Ju),this.nodes.forEach(Bu),this.nodes.forEach(Hu)):this.nodes.forEach(Yu),this.clearAllSnapshots();const e=sr.now();rr.delta=Pr(0,1e3/60,e-rr.timestamp),rr.timestamp=e,rr.isProcessing=!0,or.update.process(rr),or.preRender.process(rr),or.render.process(rr),rr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ha.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qu),this.sharedNodes.forEach(Zu)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tr.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||Ac(this.snapshot.measuredBox.x)||Ac(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=o(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!Au(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,o=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||ki(this.latestValues)||o)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),ad((r=n).x),ad(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(ld))){const{scroll:e}=this.root;e&&(Ii(n.x,e.offset.x),Ii(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(bu(n,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:o,options:i}=t;t!==this.root&&o&&i.layoutScroll&&(o.wasRoot&&bu(n,e),Ii(n.x,o.offset.x),Ii(n.y,o.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};bu(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Pi(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),ki(e.latestValues)&&Pi(n,e.latestValues)}return ki(this.latestValues)&&Pi(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};bu(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!ki(e.latestValues))continue;wi(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};bu(r,e.measurePageBox()),Tu(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return ki(this.latestValues)&&Tu(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=u(u(u({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:o,layoutId:i}=this.options;if(this.layout&&(o||i)){if(this.resolvedRelativeTargetAt=rr.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Pc(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),bu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,s,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,s=this.relativeTarget,l=this.relativeParent.target,Ic(a.x,s.x,l.x),Ic(a.y,s.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):bu(this.target,this.layout.layoutBox),Ai(this.target,this.targetDelta)):bu(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Pc(this.relativeTargetOrigin,this.target,e.target),bu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Zn.value&&Ru.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!wi(this.parent.latestValues)&&!Si(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===rr.timestamp&&(r=!1),r)return;const{layout:o,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!o&&!i)return;bu(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,s=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=n.length;if(!o)return;let i,a;t.x=t.y=1;for(let s=0;s<o;s++){i=n[s],a=i.projectionDelta;const{visualElement:o}=i.options;o&&o.props.style&&"contents"===o.props.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Pi(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Ai(e,a)),r&&ki(i.latestValues)&&Pi(e,i.latestValues))}t.x<Oi&&t.x>ji&&(t.x=1),t.y<Oi&&t.y>ji&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(wu(this.prevProjectionDelta.x,this.projectionDelta.x),wu(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Oc(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===a&&this.treeScale.y===s&&Pu(this.projectionDelta.x,this.prevProjectionDelta.x)&&Pu(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Zn.value&&Ru.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},o=u({},this.latestValues),i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(s&&!c&&!0===this.options.crossfade&&!this.path.some(nd));let p;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,u,h,f,m,g;ed(i.x,e.x,n),ed(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pc(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),h=this.relativeTarget,f=this.relativeTargetOrigin,m=a,g=n,td(h.x,f.x,m.x,g),td(h.y,f.y,m.y,g),p&&(l=this.relativeTarget,u=p,ju(l.x,u.x)&&ju(l.y,u.y))&&(this.isProjectionDirty=!1),p||(p={x:{min:0,max:0},y:{min:0,max:0}}),bu(p,this.relativeTarget)),s&&(this.animationValues=o,function(e,t,n,r,o,i){var a,s;if(o)e.opacity=yo(0,null!==(a=n.opacity)&&void 0!==a?a:1,gu(r)),e.opacityExit=yo(null!==(s=t.opacity)&&void 0!==s?s:1,0,yu(r));else if(i){var l,c;e.opacity=yo(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(c=n.opacity)&&void 0!==c?c:1,r)}for(let u=0;u<pu;u++){const o="border".concat(du[u],"Radius");let i=mu(t,o),a=mu(n,o);void 0===i&&void 0===a||(i||(i=0),a||(a=0),0===i||0===a||fu(i)===fu(a)?(e[o]=Math.max(yo(hu(i),hu(a),r),0),(Qr.test(a)||Qr.test(i))&&(e[o]+="%")):e[o]=a)}(t.rotate||n.rotate)&&(e.rotate=yo(t.rotate||0,n.rotate||0,r))}(o,r,this.latestValues,n,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),null===(n=this.resumingFrom)||void 0===n||null===(n=n.currentAnimation)||void 0===n||n.stop(),this.pendingAnimation&&(nr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tr.update((()=>{eu.hasAnimatedSinceResize=!0,Ws.layout++,this.motionValue||(this.motionValue=ur(0)),this.currentAnimation=function(e,t,n){const r=da(e)?e:ur(e);return r.start(nc("",r,t,n)),r.animation}(this.motionValue,[0,1e3],u(u({},e),{},{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{Ws.layout--},onComplete:()=>{Ws.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:o}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&sd(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Ac(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Ac(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}bu(t,n),Pi(t,o),Oc(this.projectionDeltaWithTransform,this.layoutCorrected,t,o)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Mu);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&Fu("z",e,r,this.animationValues);for(let o=0;o<Du.length;o++)Fu("rotate".concat(Du[o]),e,r,this.animationValues),Fu("skew".concat(Du[o]),e,r,this.animationValues);e.render();for(const o in r)e.setStaticValue(o,r[o]),this.animationValues&&(this.animationValues[o]=r[o]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=ys(null===t||void 0===t?void 0:t.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=ys(null===t||void 0===t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!ki(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const o=r.animationValues||r.latestValues;this.applyTransformsToTarget();let i=function(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y,a=(null===n||void 0===n?void 0:n.z)||0;if((o||i||a)&&(r="translate3d(".concat(o,"px, ").concat(i,"px, ").concat(a,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:o,rotateY:i,skewX:a,skewY:s}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),o&&(r+="rotateX(".concat(o,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) ")),a&&(r+="skewX(".concat(a,"deg) ")),s&&(r+="skewY(".concat(s,"deg) "))}const s=e.x.scale*t.x,l=e.y.scale*t.y;return 1===s&&1===l||(r+="scale(".concat(s,", ").concat(l,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,o);n&&(i=n(o,i)),e.transform=i;const{x:a,y:s}=this.projectionDelta;var l,c;(e.transformOrigin="".concat(100*a.origin,"% ").concat(100*s.origin,"% 0"),r.animationValues)?e.opacity=r===this?null!==(l=null!==(c=o.opacity)&&void 0!==c?c:this.latestValues.opacity)&&void 0!==l?l:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:e.opacity=r===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const u in Fa){if(void 0===o[u])continue;const{correct:t,applyTo:n,isCSSVariable:a}=Fa[u],s="none"===i?o[u]:t(o[u],r);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=s}else a?this.options.visualElement.renderState.vars[u]=s:e[u]=s}this.options.layoutId&&(e.pointerEvents=r===this?ys(null===t||void 0===t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(Gu),this.root.sharedNodes.clear()}}}function Bu(e){e.updateLayout()}function Hu(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:o}=e.options,i=n.source!==e.layout.source;"size"===o?Mc((e=>{const r=i?n.measuredBox[e]:n.layoutBox[e],o=Ac(r);r.min=t[e].min,r.max=r.min+o})):sd(o,n.layoutBox,t)&&Mc((r=>{const o=i?n.measuredBox[r]:n.layoutBox[r],a=Ac(t[r]);o.max=o.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)}));const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Oc(a,t,n.layoutBox);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?Oc(s,e.applyTransform(r,!0),n.measuredBox):Oc(s,t,n.layoutBox);const l=!Au(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:o,layout:i}=r;if(o&&i){const a={x:{min:0,max:0},y:{min:0,max:0}};Pc(a,n.layoutBox,o.layoutBox);const s={x:{min:0,max:0},y:{min:0,max:0}};Pc(s,t,i.layoutBox),Iu(a,s)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:s,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function zu(e){Zn.value&&Ru.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Wu(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function qu(e){e.clearSnapshot()}function Gu(e){e.clearMeasurements()}function Yu(e){e.isLayoutDirty=!1}function Ju(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Ku(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Xu(e){e.resolveTargetDelta()}function $u(e){e.calcProjection()}function Qu(e){e.resetSkewAndRotation()}function Zu(e){e.removeLeadSnapshot()}function ed(e,t,n){e.translate=yo(t.translate,0,n),e.scale=yo(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function td(e,t,n,r){e.min=yo(t.min,n.min,r),e.max=yo(t.max,n.max,r)}function nd(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const rd={duration:.45,ease:[.4,0,.1,1]},od=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),id=od("applewebkit/")&&!od("chrome/")?Math.round:$n;function ad(e){e.min=id(e.min),e.max=id(e.max)}function sd(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=_u(t),o=_u(n),i=.2,!(Math.abs(r-o)<=i));var r,o,i}function ld(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const cd=Vu({attachResizeListener:(e,t)=>Ec(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ud={current:void 0},dd=Vu({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ud.current){const e=new cd({});e.mount(window),e.setOptions({layoutScroll:!0}),ud.current=e}return ud.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),pd={pan:{Feature:class extends xc{constructor(){super(...arguments),this.removePointerDownListener=$n}onPointerDown(e){this.session=new Lc(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Rc(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Qc(e),onStart:Qc(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&tr.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=Nc(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends xc{constructor(e){super(e),this.removeGroupControls=$n,this.removeListeners=$n,this.controls=new Xc(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$n}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:dd,MeasureLayout:au}};function hd(e,t){const n=gr(e),r=new AbortController;return[n,u(u({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function fd(e){return!("touch"===e.pointerType||Sc())}function md(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const o=r["onHover"+n];o&&tr.postRender((()=>o(t,Tc(t))))}const gd=(e,t)=>!!t&&(e===t||gd(e,t.parentElement)),yd=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const vd=new WeakSet;function xd(e){return t=>{"Enter"===t.key&&e(t)}}function bd(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function wd(e){return Cc(e)&&!Sc()}function kd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,o,i]=hd(e,n),a=e=>{const r=e.currentTarget;if(!wd(e))return;vd.add(r);const i=t(r,e),a=(e,t)=>{window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",l),vd.has(r)&&vd.delete(r),wd(e)&&"function"===typeof i&&i(e,{success:t})},s=e=>{a(e,r===window||r===document||n.useGlobalTarget||gd(r,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",s,o),window.addEventListener("pointercancel",l,o)};return r.forEach((e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",a,o),Io(e)&&(e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=xd((()=>{if(vd.has(n))return;bd(n,"down");const e=xd((()=>{bd(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>bd(n,"cancel")),t)}));n.addEventListener("keydown",r,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),t)})(e,o))),t=e,yd.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))})),i}function Sd(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const o=r["onTap"+("End"===n?"":n)];o&&tr.postRender((()=>o(t,Tc(t))))}const Ed=["root"],Cd=new WeakMap,Td=new WeakMap,Nd=e=>{const t=Cd.get(e.target);t&&t(e)},Ad=e=>{e.forEach(Nd)};function jd(e,t,n){const r=function(e){let{root:t}=e,n=i(e,Ed);const r=t||document;Td.has(r)||Td.set(r,{});const o=Td.get(r),a=JSON.stringify(n);return o[a]||(o[a]=new IntersectionObserver(Ad,u({root:t},n))),o[a]}(t);return Cd.set(e,n),r.observe(e),()=>{Cd.delete(e),r.unobserve(e)}}const Od={some:0,all:1};const Id={inView:{Feature:class extends xc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:o}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:Od[r]};return jd(this.node.current,i,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,o&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends xc{mount(){const{current:e}=this.node;e&&(this.unmount=kd(e,((e,t)=>(Sd(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return Sd(this.node,e,n?"End":"Cancel")})),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends xc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(Xw){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_r(Ec(this.node.current,"focus",(()=>this.onFocus())),Ec(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends xc{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,o,i]=hd(e,n),a=e=>{if(!fd(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const i=e=>{fd(e)&&(r(e),n.removeEventListener("pointerleave",i))};n.addEventListener("pointerleave",i,o)};return r.forEach((e=>{e.addEventListener("pointerenter",a,o)})),i}(e,((e,t)=>(md(this.node,t,"Start"),e=>md(this.node,e,"End")))))}unmount(){}}}},_d={layout:{ProjectionNode:dd,MeasureLayout:au}},Pd=_s(u(u(u(u({},wc),Id),pd),_d),Za),Md=["title","titleId"];function Rd(e,t){let{title:n,titleId:o}=e,a=i(e,Md);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},a),n?r.createElement("title",{id:o},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const Dd=r.forwardRef(Rd),Ld=["title","titleId"];function Fd(e,t){let{title:n,titleId:o}=e,a=i(e,Ld);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},a),n?r.createElement("title",{id:o},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ud=r.forwardRef(Fd),Vd=e=>{let{name:t,setName:n,email:o,setEmail:i,isLoading:a,onJoin:s}=e;const[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),p=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return(0,Hn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a||(async()=>{if(d(""),c(""),t.trim())if(p.test(o))try{await s(),c("You have been added to the waitlist!")}catch($w){d("Failed to join waitlist. Please try again.")}else d("Please enter a valid email address.");else d("Please enter your name.")})()},className:"space-y-4",children:[(0,Hn.jsx)("input",{type:"text",value:t,onChange:e=>{n(e.target.value),d(""),c("")},placeholder:"Enter your name",disabled:a,className:"w-full px-4 py-4 bg-slate-900/70 border border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 text-white placeholder-slate-400 text-lg transition","aria-label":"Name input",required:!0}),(0,Hn.jsx)("input",{type:"email",value:o,onChange:e=>{i(e.target.value),d(""),c("")},placeholder:"Enter your email address",disabled:a,className:"w-full px-4 py-4 bg-slate-900/70 border border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 text-white placeholder-slate-400 text-lg transition","aria-label":"Email address input",required:!0}),(0,Hn.jsx)("button",{type:"submit",disabled:a,className:"w-full px-6 py-4 bg-gradient-to-r from-emerald-500 to-teal-600 text-white text-lg font-semibold rounded-xl hover:from-emerald-600 hover:to-teal-700 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 hover:shadow-lg hover:shadow-emerald-500/25","aria-label":"Join Elite Waitlist",children:a?(0,Hn.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Hn.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Joining Waitlist..."]}):(0,Hn.jsxs)("div",{className:"flex items-center justify-center",children:["Join Elite Waitlist",(0,Hn.jsx)(Dd,{className:"h-5 w-5 ml-2 group-hover:translate-x-1 transition-transform"})]})}),l&&(0,Hn.jsxs)("div",{className:"mt-3 flex items-center text-green-400 text-sm font-semibold bg-green-900/30 rounded-md p-2 animate-fadeIn",role:"alert","aria-live":"polite",children:[(0,Hn.jsx)(Ud,{className:"h-5 w-5 mr-1"}),l]}),u&&(0,Hn.jsx)("div",{className:"mt-3 text-red-500 text-sm font-semibold bg-red-900/30 rounded-md p-2 animate-fadeIn",role:"alert","aria-live":"polite",children:u})]})},Bd=e=>{let{sliderValue:t,setSliderValue:n,onRelease:r}=e;const o=Math.min(100,Math.max(0,t)),i={left:"calc(".concat(o,"% - 1.5rem)")};return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)("p",{className:"text-slate-300 mb-4 text-center",children:"Slide the rocket left (\u2600\ufe0f) to skip the newsletter or right (\ud83e\ude90) to confirm subscription."}),(0,Hn.jsxs)("div",{className:"relative h-14 mb-6",children:[(0,Hn.jsx)("input",{type:"range",min:0,max:100,step:1,value:t,onChange:e=>{n(Number(e.target.value))},onMouseUp:r,onTouchEnd:r,onKeyUp:e=>{["ArrowLeft","ArrowRight","Home","End"].includes(e.key)&&r()},className:"w-full h-2 rounded-lg appearance-none bg-gradient-to-r from-yellow-400 to-cyan-600 cursor-pointer","aria-label":"Select newsletter subscription option"}),(0,Hn.jsx)("div",{className:"absolute left-0 top-6 text-lg select-none pointer-events-none","aria-hidden":"true",children:"\u2600\ufe0f Sun (Skip)"}),(0,Hn.jsx)("div",{className:"absolute right-0 top-6 text-lg select-none pointer-events-none","aria-hidden":"true",children:"\ud83e\ude90 Saturn (Confirm)"}),(0,Hn.jsx)(Pd.div,{className:"absolute top-[-2rem] text-4xl select-none pointer-events-none",style:i,animate:{x:0},transition:{type:"spring",stiffness:300,damping:30},"aria-hidden":"true",children:"\ud83d\ude80"}),(0,Hn.jsx)("div",{"aria-live":"polite",className:"sr-only",children:t<=50?"Skip newsletter selected":"Confirm newsletter selected"})]})]})},Hd=e=>{let{newsletterConfirmed:t,finalSubscribeChecked:n,setFinalSubscribeChecked:r,roles:o,onRoleSelect:i,onSkipRole:a}=e;return(0,Hn.jsxs)("div",{className:"text-center space-y-6 mt-4",children:[(0,Hn.jsxs)("p",{className:"text-slate-400 mb-2",children:["Newsletter Status:"," ","subscribed"===t?(0,Hn.jsx)("span",{className:"text-emerald-400 font-semibold",children:"Subscribed \u2705"}):(0,Hn.jsx)("span",{className:"text-yellow-400 font-semibold",children:"Skipped \u26a0\ufe0f"})]}),"skipped"===t&&(0,Hn.jsxs)("div",{className:"mb-4",children:[(0,Hn.jsx)("input",{id:"final-subscribe-checkbox",type:"checkbox",checked:n,onChange:e=>{r(e.target.checked)},className:"form-checkbox h-5 w-5 text-emerald-500 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-offset-1"}),(0,Hn.jsx)("label",{htmlFor:"final-subscribe-checkbox",className:"ml-2 cursor-pointer text-slate-300 select-none",children:"Subscribe to our newsletter (optional)"})]}),(0,Hn.jsx)("h3",{className:"text-lg font-semibold text-slate-300 mb-4",children:"Are you a:"}),(0,Hn.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:o.map((e=>{let{name:t,emoji:n}=e;return(0,Hn.jsxs)("button",{onClick:()=>i(t),className:"px-4 py-3 bg-slate-700 hover:bg-emerald-600 rounded-lg text-white font-medium transition flex items-center justify-center space-x-2 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-offset-1",type:"button","aria-label":"Select role ".concat(t),children:[(0,Hn.jsx)("span",{children:n}),(0,Hn.jsx)("span",{children:t})]},t)}))}),(0,Hn.jsx)("button",{type:"button",onClick:a,className:"mt-6 px-6 py-3 border border-slate-600 hover:border-emerald-500 rounded-xl text-slate-400 hover:text-emerald-400 font-semibold transition duration-300 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-offset-1","aria-label":"Skip role selection",children:"Skip role selection"})]})};Hd.defaultProps={newsletterConfirmed:null};const zd=Hd,Wd=e=>{let{name:t,role:n,newsletterConfirmed:r,finalSubscribeChecked:o}=e;const i="subscribed"===r||o;return(0,Hn.jsxs)(Pd.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center py-4",children:[(0,Hn.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Hn.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,Hn.jsxs)("h3",{className:"text-2xl font-bold text-white mb-2",children:["Thank You",t?", ".concat(t.split(" ")[0]):"","!"]}),(0,Hn.jsx)("p",{className:"text-slate-300 mb-6",children:"Skipped"===n?"We appreciate your interest in busin.us.":"We're excited to have a ".concat(n," on board.")}),i?(0,Hn.jsx)("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-lg p-4 mb-6",children:(0,Hn.jsx)("p",{className:"text-emerald-400",children:"\ud83c\udf89 You're subscribed to our newsletter! Check your inbox for exclusive business insights."})}):(0,Hn.jsx)("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4 mb-6",children:(0,Hn.jsx)("p",{className:"text-amber-400",children:"You've chosen to skip our newsletter. You can always subscribe later."})}),(0,Hn.jsxs)("div",{className:"space-y-4",children:[(0,Hn.jsx)("a",{href:"/workflow-ai",className:"inline-block w-full px-6 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 text-white font-semibold rounded-xl hover:from-emerald-600 hover:to-teal-700 transition-all duration-300 transform hover:scale-105",children:"Create Your Business Plan with AI"}),(0,Hn.jsxs)("div",{className:"text-sm text-slate-400",children:[(0,Hn.jsx)("p",{children:"What happens next?"}),(0,Hn.jsxs)("ul",{className:"mt-2 space-y-1 text-left list-disc list-inside",children:[(0,Hn.jsx)("li",{children:"We'll send you a welcome email with next steps"}),(0,Hn.jsx)("li",{children:"Our team will review your profile and reach out"}),(0,Hn.jsx)("li",{children:"Get exclusive access to our business planning tools"})]})]})]})]})},qd=e=>{let t;const n=new Set,r=(e,r)=>{const o="function"===typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=(null!=r?r:"object"!==typeof o||null===o)?o:Object.assign({},t,o),n.forEach((n=>n(t,e)))}},o=()=>t,i={setState:r,getState:o,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e))},a=t=e(r,o,i);return i},Gd=e=>e;const Yd=e=>{const t=(e=>e?qd(e):qd)(e),n=e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gd;const n=r.useSyncExternalStore(e.subscribe,(()=>t(e.getState())),(()=>t(e.getInitialState())));return r.useDebugValue(n),n}(t,e);return Object.assign(n,t),n};function Jd(e){return e?e.replace(/[_*[\]()~`>#+-=|{}.!]/g,(e=>"\\".concat(e))):"N/A"}const Kd=(e=>e?Yd(e):Yd)(((e,t)=>({name:"",email:"",contact:"",address:"",isLoading:!1,isJoinClicked:!1,newsletterConfirmed:null,sliderValue:50,selectedRole:null,finalSubscribeChecked:!1,proceedToThankYou:!1,setName:t=>e({name:t}),setEmail:t=>e({email:t}),setContact:t=>e({contact:t}),setAddress:t=>e({address:t}),setIsLoading:t=>e({isLoading:t}),setIsJoinClicked:t=>e({isJoinClicked:t}),setNewsletterConfirmed:t=>e({newsletterConfirmed:t}),setSliderValue:t=>e({sliderValue:t}),setSelectedRole:t=>e({selectedRole:t}),setFinalSubscribeChecked:t=>e({finalSubscribeChecked:t}),setProceedToThankYou:t=>e({proceedToThankYou:t}),sendDetailsToTelegram:async()=>{const{name:e,email:n,contact:r,address:o,selectedRole:i,newsletterConfirmed:a,finalSubscribeChecked:s}=t(),l=(new Date).toLocaleString("en-IN",{timeZone:"Asia/Kolkata"}),c=["*Name:* ".concat(Jd(e)),"*Email:* ".concat(Jd(n)),"*Role:* ".concat(Jd(i)),"*Newsletter Confirmed:* ".concat(Jd(a)),"*Final Subscribe Checked:* ".concat(s?"Yes":"No"),"*Contact:* ".concat(Jd(r)),"*Address:* ".concat(Jd(o)),"*Date and Time:* ".concat(Jd(l))].join("\n");try{const e=await async function(e,t,n){const r=await fetch("https://api.telegram.org/bot".concat(e,"/sendMessage"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:t,text:n,parse_mode:"MarkdownV2",disable_notification:!0})}),o=await r.json();if(!o.ok)throw new Error(o.description);return o}("7918152804:AAEfqKOSPdTW26F1OpWBhn3onVP3pk-6Jgs","-4856358827",c);console.log("Telegram message sent:",e)}catch(u){throw console.error("Error sending Telegram message:",u),u}},reset:()=>e({name:"",email:"",contact:"",address:"",isLoading:!1,isJoinClicked:!1,newsletterConfirmed:null,sliderValue:50,selectedRole:null,finalSubscribeChecked:!1,proceedToThankYou:!1})}))),Xd=Kd,$d=[{id:1,label:"Join",icon:"\ud83d\udcdd"},{id:2,label:"Newsletter",icon:"\ud83d\ude80"},{id:3,label:"Role Select",icon:"\ud83d\udc64"},{id:4,label:"Thank You",icon:"\u2705"}],Qd=e=>{let{currentStep:t}=e;return(0,Hn.jsx)("nav",{"aria-label":"Progress",className:"max-w-xl mx-auto mb-8 px-4 select-none",children:(0,Hn.jsx)("ol",{className:"flex justify-between items-center",children:$d.map(((e,n)=>{let{id:r,label:o,icon:i}=e;const a=r<t,s=r===t;return(0,Hn.jsxs)("li",{className:"flex items-center flex-1 relative",children:[(0,Hn.jsx)("span",{className:"flex items-center justify-center rounded-full border-2 w-10 h-10 z-10 shrink-0\n                  ".concat(a?"bg-teal-500 border-teal-500 text-white":s?"border-teal-500 text-teal-500 font-semibold":"border-gray-300 text-gray-400","\n                "),children:(0,Hn.jsx)("span",{"aria-hidden":"true",style:{fontSize:"1.25rem"},children:i})}),n!==$d.length-1&&(0,Hn.jsx)("div",{"aria-hidden":"true",className:"flex-grow h-1 ml-2 ".concat(a?"bg-teal-500":"bg-gray-300")}),(0,Hn.jsx)("span",{className:"absolute -bottom-7 w-max text-xs text-center font-medium left-1/2 -translate-x-1/2\n                  ".concat(a||s?"text-teal-600":"text-gray-400","\n                "),children:o})]},r)}))})})},Zd=[{name:"Lawyer",emoji:"\u2696\ufe0f\ud83e\uddd1\u200d\u2696\ufe0f\ud83c\udfdb\ufe0f"},{name:"Accountant",emoji:"\ud83d\udcb0\ud83d\udcca\ud83e\uddfe"},{name:"IT Practitioner",emoji:"\ud83d\udcbb\ud83d\udda5\ufe0f\ud83e\uddd1\u200d\ud83d\udcbb"},{name:"Fellow Entrepreneur",emoji:"\ud83d\ude80\ud83d\udca1\ud83e\udd1d"}],ep=()=>{const{name:e,setName:t,email:n,setEmail:o,contact:i,setContact:a,address:s,setAddress:l,isLoading:c,setIsLoading:u,isJoinClicked:d,setIsJoinClicked:p,newsletterConfirmed:h,setNewsletterConfirmed:f,sliderValue:m,setSliderValue:g,selectedRole:y,setSelectedRole:v,finalSubscribeChecked:x,setFinalSubscribeChecked:b,proceedToThankYou:w,setProceedToThankYou:k,sendDetailsToTelegram:S}=Xd();(0,r.useEffect)((()=>{w&&("skipped"===h&&(x||!1===x)||"subscribed"===h)&&(async()=>{try{await S()}catch(Xw){}})()}),[w,h,x,S]);let E=1;return d||y?d&&null===h?E=2:"subscribed"!==h&&"skipped"!==h||y?y&&w&&(E=4):E=3:E=1,(0,Hn.jsx)("section",{className:"relative min-h-screen flex items-center justify-center pt-16 bg-slate-900 text-white px-4",children:(0,Hn.jsxs)("div",{className:"max-w-7xl w-full lg:grid lg:grid-cols-2 lg:gap-12 items-center",children:[(0,Hn.jsxs)("div",{className:"text-center lg:text-left",children:[(0,Hn.jsxs)(Pd.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[(0,Hn.jsx)("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 border-l-4 border-yellow-400 pl-4 pr-4 py-3 mb-6 rounded-r-lg shadow-md",children:(0,Hn.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-2",children:[(0,Hn.jsx)("div",{className:"flex-1 text-center sm:text-left",children:(0,Hn.jsxs)("p",{className:"text-white font-bold text-sm sm:text-base",children:[(0,Hn.jsx)("span",{className:"inline-block mr-2",children:"\ud83d\ude80"}),"Introducing our AI Workflow Planner & Executor - Automate your business processes today!"]})}),(0,Hn.jsx)("div",{className:"flex-shrink-0 mt-2 sm:mt-0",children:(0,Hn.jsx)("a",{href:"/workflow-ai",className:"inline-block px-4 py-2 bg-white text-emerald-700 font-bold text-sm rounded-lg hover:bg-yellow-100 transition-all duration-300 transform hover:scale-105 whitespace-nowrap",children:"Try Now \u2192"})})]})}),(0,Hn.jsxs)("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold mb-6 leading-tight",children:["Launch Your Business"," ",(0,Hn.jsx)("span",{className:"bg-gradient-to-r from-emerald-400 via-teal-400 to-cyan-400 bg-clip-text text-transparent",children:"Globally"})]}),(0,Hn.jsx)("p",{className:"text-xl md:text-2xl text-slate-300 mb-8 leading-relaxed",children:"Transform your vision into a global empire with our comprehensive business assistance, legal compliance, and strategic growth solutions."})]}),(0,Hn.jsx)(Pd.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"max-w-md mx-auto lg:mx-0",children:(0,Hn.jsxs)("div",{className:"relative bg-slate-800/60 backdrop-blur-md rounded-2xl p-6 border border-slate-700/50",children:[(0,Hn.jsx)(Qd,{currentStep:E}),!d&&!y&&(0,Hn.jsx)(Vd,{name:e,setName:t,email:n,setEmail:o,isLoading:c,onJoin:async()=>{u(!0);try{await new Promise((e=>setTimeout(e,1500))),await S();const t={name:e,email:n,contact:i,address:s,timestamp:(new Date).toISOString()};localStorage.setItem("busin.us-signup",JSON.stringify(t)),p(!0),f(null),g(50),v(null),k(!1),b(!1)}catch(t){console.error("Join failed",t)}u(!1)}}),d&&null===h&&(0,Hn.jsx)(Bd,{sliderValue:m,setSliderValue:g,onRelease:()=>{m<=30?f("skipped"):m>=70?f("subscribed"):(g(50),alert("Please move the slider left or right to subscribe or skip the newsletter."))}}),("subscribed"===h||"skipped"===h)&&!y&&(0,Hn.jsx)(zd,{newsletterConfirmed:h,finalSubscribeChecked:x,setFinalSubscribeChecked:e=>{b(e)},onConfirm:()=>{"skipped"!==h||x?x?(f("subscribed"),k(!0)):"subscribed"===h?k(!0):alert("Please confirm your newsletter subscription status."):k(!0)},roles:Zd,onRoleSelect:e=>{v(e),k(!0)},onSkipRole:()=>{v("Skipped"),k(!0)}}),y&&w&&(0,Hn.jsx)(Wd,{name:e,role:y,newsletterConfirmed:h,finalSubscribeChecked:x})]})})]}),(0,Hn.jsxs)("div",{className:"relative mt-12 lg:mt-0",children:[(0,Hn.jsx)("div",{className:"absolute -inset-4 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-3xl blur-2xl opacity-20"}),(0,Hn.jsxs)("div",{className:"relative rounded-3xl overflow-hidden",children:[(0,Hn.jsx)("img",{src:"https://images.unsplash.com/photo-1542641728-6ca359b085f4?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NDk1ODF8MHwxfHNlYXJjaHwzfHxidXNpbmVzcyUyMHRlYW18ZW58MHx8fGJsdWV8MTc1MjUyMjE0OHww&ixlib=rb-4.1.0&q=85",alt:"Global Business Success",className:"rounded-3xl shadow-2xl w-full h-auto animate-pulse"}),(0,Hn.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/20 to-transparent rounded-3xl"})]})]})]})})},tp=["title","titleId"];function np(e,t){let{title:n,titleId:o}=e,a=i(e,tp);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},a),n?r.createElement("title",{id:o},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const rp=r.forwardRef(np),op=["title","titleId"];function ip(e,t){let{title:n,titleId:o}=e,a=i(e,op);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},a),n?r.createElement("title",{id:o},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const ap=r.forwardRef(ip),sp=["title","titleId"];function lp(e,t){let{title:n,titleId:o}=e,a=i(e,sp);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},a),n?r.createElement("title",{id:o},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const cp=r.forwardRef(lp),up=["title","titleId"];function dp(e,t){let{title:n,titleId:o}=e,a=i(e,up);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},a),n?r.createElement("title",{id:o},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const pp=r.forwardRef(dp),hp=[{icon:rp,number:"1",label:"Successful Launches",color:"text-emerald-400"},{icon:ap,number:"50+",label:"Countries Served",color:"text-blue-400"},{icon:cp,number:"98%",label:"Success Rate",color:"text-purple-400"},{icon:pp,number:"24/7",label:"Expert Support",color:"text-orange-400"}],fp=()=>(0,Hn.jsx)("section",{className:"py-20 relative",children:(0,Hn.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Hn.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:hp.map(((e,t)=>{const n=e.icon;return(0,Hn.jsx)(Pd.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1*t},viewport:{once:!0},className:"text-center",children:(0,Hn.jsxs)("div",{className:"relative",children:[(0,Hn.jsx)("div",{className:"absolute -inset-2 bg-gradient-to-r from-emerald-500/20 to-teal-600/20 rounded-xl blur"}),(0,Hn.jsxs)("div",{className:"relative bg-slate-800/50 backdrop-blur-md rounded-xl p-6 border border-slate-700/50",children:[(0,Hn.jsx)(n,{className:"h-8 w-8 ".concat(e.color," mx-auto mb-3")}),(0,Hn.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:e.number}),(0,Hn.jsx)("div",{className:"text-slate-300 text-sm",children:e.label})]})]})},t)}))})})}),mp=["title","titleId"];function gp(e,t){let{title:n,titleId:o}=e,a=i(e,mp);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},a),n?r.createElement("title",{id:o},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12"}))}const yp=["title","titleId"];function vp(e,t){let{title:n,titleId:o}=e,a=i(e,yp);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},a),n?r.createElement("title",{id:o},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z"}))}const xp=["title","titleId"];function bp(e,t){let{title:n,titleId:o}=e,a=i(e,xp);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},a),n?r.createElement("title",{id:o},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"}))}const wp=["title","titleId"];function kp(e,t){let{title:n,titleId:o}=e,a=i(e,wp);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},a),n?r.createElement("title",{id:o},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const Sp=[{icon:r.forwardRef(gp),title:"Legal Compliance",description:"Navigate complex international regulations with our expert legal team. We ensure your business meets all requirements for seamless global operations.",image:"https://images.unsplash.com/photo-1560250163-17506787d971?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NDQ2NDJ8MHwxfHNlYXJjaHwyfHxidXNpbmVzcyUyMG1lZXRpbmd8ZW58MHx8fGJsdWV8MTc1MjUzMDI4NHww&ixlib=rb-4.1.0&q=85",features:["International Law","Regulatory Compliance","Documentation","Risk Assessment"],gradient:"from-emerald-400 to-teal-600"},{icon:r.forwardRef(vp),title:"Financial Audits",description:"Comprehensive financial analysis and audit services to maintain transparency and meet international standards.",image:"https://images.unsplash.com/photo-1643962578875-90e5e275d449?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NDk1ODB8MHwxfHNlYXJjaHwzfHxmaW5hbmNpYWwlMjBjaGFydHN8ZW58MHx8fGJsdWV8MTc1MjUyNjU4Nnww&ixlib=rb-4.1.0&q=85",features:["Financial Analysis","Audit Reports","Tax Planning","Cost Optimization"],gradient:"from-blue-400 to-indigo-600"},{icon:r.forwardRef(bp),title:"Marketing Excellence",description:"Strategic marketing solutions tailored for international markets, ensuring your brand resonates globally.",image:"https://images.unsplash.com/photo-1495653797063-114787b77b23?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NDk1Nzl8MHwxfHNlYXJjaHwzfHxidXNpbmVzcyUyMGhhbmRzaWFrZXxlbnwwfHx8Ymx1ZXwxNzUyNTMwMjkxfDA&ixlib=rb-4.1.0&q=85",features:["Brand Strategy","Market Research","Digital Marketing","Local Adaptation"],gradient:"from-purple-400 to-pink-600"},{icon:r.forwardRef(kp),title:"Global Expansion",description:"End-to-end support for international market entry, from strategy to execution.",image:"https://images.unsplash.com/photo-1580893246395-52aead8960dc?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NDk1Nzl8MHwxfHNlYXJjaHwxfHxidXNpbmVzcyUyMGhhbmRzaWFrZXxlbnwwfHx8Ymx1ZXwxNzUyNTMwMjkxfDA&ixlib=rb-4.1.0&q=85",features:["Market Entry","Local Partnerships","Cultural Adaptation","Growth Strategy"],gradient:"from-orange-400 to-red-600"}],Ep=e=>{let{activeService:t,setActiveService:n}=e;return(0,Hn.jsx)("section",{className:"py-20 relative",children:(0,Hn.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Hn.jsxs)(Pd.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[(0,Hn.jsxs)("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Premium"," ",(0,Hn.jsx)("span",{className:"bg-gradient-to-r from-emerald-400 to-teal-600 bg-clip-text text-transparent",children:"Services"})]}),(0,Hn.jsx)("p",{className:"text-xl text-slate-300 max-w-3xl mx-auto",children:"Comprehensive solutions designed to accelerate your global business success"})]}),(0,Hn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:Sp.map(((e,t)=>(0,Hn.jsxs)(Pd.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1*t},viewport:{once:!0},className:"relative group",onMouseEnter:()=>n(t),children:[(0,Hn.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl blur opacity-25 group-hover:opacity-50 transition-opacity"}),(0,Hn.jsxs)("div",{className:"relative bg-slate-800/50 backdrop-blur-md rounded-2xl p-8 border border-slate-700/50 h-full",children:[(0,Hn.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Hn.jsx)("div",{className:"p-3 rounded-xl bg-gradient-to-r ".concat(e.gradient," bg-opacity-20"),children:(0,Hn.jsx)(e.icon,{className:"h-8 w-8 text-white"})}),(0,Hn.jsxs)("div",{className:"flex-1",children:[(0,Hn.jsx)("h3",{className:"text-2xl font-semibold text-white mb-3",children:e.title}),(0,Hn.jsx)("p",{className:"text-slate-300 mb-4 leading-relaxed",children:e.description}),(0,Hn.jsx)("div",{className:"space-y-2",children:e.features.map(((e,t)=>(0,Hn.jsxs)("div",{className:"flex items-center text-sm text-slate-400",children:[(0,Hn.jsx)(Ud,{className:"h-4 w-4 text-emerald-400 mr-2"}),e]},t)))})]})]}),(0,Hn.jsx)("div",{className:"mt-6 overflow-hidden rounded-xl",children:(0,Hn.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"})})]})]},t)))})]})})},Cp=[{number:"01",title:"Discovery & Analysis",description:"We analyze your business goals, target markets, and create a comprehensive expansion strategy.",icon:cp,color:"emerald"},{number:"02",title:"Compliance Framework",description:"Our legal experts establish the regulatory framework for your international operations.",icon:pp,color:"blue"},{number:"03",title:"Implementation",description:"We guide you through setup, registration, and initial market entry with ongoing support.",icon:Ud,color:"purple"},{number:"04",title:"Growth & Optimization",description:"Continuous monitoring, optimization, and scaling strategies to maximize your global success.",icon:rp,color:"orange"}],Tp=()=>(0,Hn.jsx)("section",{className:"py-20 relative",children:(0,Hn.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Hn.jsxs)(Pd.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[(0,Hn.jsxs)("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Our"," ",(0,Hn.jsx)("span",{className:"bg-gradient-to-r from-emerald-400 to-teal-600 bg-clip-text text-transparent",children:"Process"})]}),(0,Hn.jsx)("p",{className:"text-xl text-slate-300 max-w-3xl mx-auto",children:"A proven methodology that transforms businesses into global success stories"})]}),(0,Hn.jsx)("div",{className:"space-y-12",children:Cp.map(((e,t)=>(0,Hn.jsxs)(Pd.div,{initial:{opacity:0,x:t%2===0?-50:50},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.2*t},viewport:{once:!0},className:"flex items-center ".concat(t%2===0?"flex-row":"flex-row-reverse"),children:[(0,Hn.jsx)("div",{className:"flex-1",children:(0,Hn.jsxs)("div",{className:"relative",children:[(0,Hn.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-".concat(e.color,"-500 to-").concat(e.color,"-600 rounded-2xl blur opacity-25")}),(0,Hn.jsxs)("div",{className:"relative bg-slate-800/50 backdrop-blur-md rounded-2xl p-8 border border-slate-700/50",children:[(0,Hn.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Hn.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-".concat(e.color,"-500 to-").concat(e.color,"-600 rounded-xl flex items-center justify-center text-white font-bold text-lg mr-4"),children:e.number}),(0,Hn.jsx)("h3",{className:"text-2xl font-semibold text-white",children:e.title})]}),(0,Hn.jsx)("p",{className:"text-slate-300 leading-relaxed",children:e.description})]})]})}),(0,Hn.jsx)("div",{className:"flex items-center justify-center w-16 h-16 mx-8",children:(0,Hn.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-".concat(e.color,"-500 to-").concat(e.color,"-600 rounded-full flex items-center justify-center"),children:(0,Hn.jsx)(e.icon,{className:"h-8 w-8 text-white"})})})]},t)))})]})}),Np=["title","titleId"];function Ap(e,t){let{title:n,titleId:o}=e,a=i(e,Np);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},a),n?r.createElement("title",{id:o},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const jp=r.forwardRef(Ap),Op=["title","titleId"];function Ip(e,t){let{title:n,titleId:o}=e,a=i(e,Op);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},a),n?r.createElement("title",{id:o},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const _p=r.forwardRef(Ip),Pp=()=>{const[e,t]=(0,r.useState)(""),[n,o]=(0,r.useState)(""),[i,a]=(0,r.useState)(!1),[s,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(""),d=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return(0,Hn.jsxs)("section",{className:"py-20 relative",children:[(0,Hn.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500/10 to-teal-600/10"}),(0,Hn.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:(0,Hn.jsxs)(Pd.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center",children:[(0,Hn.jsxs)("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Ready to Dominate"," ",(0,Hn.jsx)("span",{className:"bg-gradient-to-r from-emerald-400 to-teal-600 bg-clip-text text-transparent",children:"Global Markets?"})]}),(0,Hn.jsx)("p",{className:"text-xl text-slate-300 mb-12 max-w-3xl mx-auto",children:"Join the elite entrepreneurs who chose busin.us for their international expansion"}),(0,Hn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[(0,Hn.jsxs)("div",{className:"text-center lg:text-left",children:[(0,Hn.jsx)("h3",{className:"text-2xl font-bold mb-6 text-white",children:"Get in Touch"}),(0,Hn.jsxs)("div",{className:"space-y-4",children:[(0,Hn.jsxs)("a",{href:"tel:+917975113388",className:"inline-flex items-center w-full sm:w-auto px-6 py-4 bg-gradient-to-r from-emerald-500 to-teal-600 text-white text-lg font-semibold rounded-xl hover:from-emerald-600 hover:to-teal-700 transition-all duration-300 transform hover:scale-105 hover:shadow-lg hover:shadow-emerald-500/25",children:[(0,Hn.jsx)(jp,{className:"h-6 w-6 mr-2"}),"Call Now: +91 7975 113388"]}),(0,Hn.jsxs)("a",{href:"mailto:info@busin.us",className:"inline-flex items-center w-full sm:w-auto px-6 py-4 bg-slate-800/50 backdrop-blur-md text-white text-lg font-semibold rounded-xl hover:bg-slate-700/50 transition-all duration-300 border border-slate-700/50 hover:border-emerald-500/50",children:[(0,Hn.jsx)(_p,{className:"h-6 w-6 mr-2"}),"Email: info@busin.us"]})]})]}),(0,Hn.jsxs)("div",{className:"bg-slate-800/60 backdrop-blur-md rounded-2xl p-8 border border-slate-700/50",children:[(0,Hn.jsx)("h3",{className:"text-2xl font-bold mb-6 text-white text-center",children:"Join Our Elite Waitlist"}),(0,Hn.jsx)("p",{className:"text-slate-300 mb-6 text-center",children:"Be the first to access our premium business expansion services"}),s?(0,Hn.jsxs)("div",{className:"text-center py-8",children:[(0,Hn.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-emerald-500/20 mb-4",children:(0,Hn.jsx)(Ud,{className:"h-8 w-8 text-emerald-400"})}),(0,Hn.jsx)("h4",{className:"text-xl font-bold text-white mb-2",children:"Thank You!"}),(0,Hn.jsx)("p",{className:"text-slate-300",children:"You've been added to our elite waitlist. We'll contact you soon!"})]}):(0,Hn.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),u(""),e.trim())if(d.test(n)){a(!0);try{await new Promise((e=>setTimeout(e,1500)));const r={name:e,email:n,timestamp:(new Date).toISOString()};localStorage.setItem("busin.us-signup",JSON.stringify(r)),l(!0),t(""),o(""),setTimeout((()=>{l(!1)}),5e3)}catch(i){u("Failed to join waitlist. Please try again.")}finally{a(!1)}}else u("Please enter a valid email address.");else u("Please enter your name.")},className:"space-y-4",children:[(0,Hn.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Enter your name",disabled:i,className:"w-full px-4 py-4 bg-slate-900/70 border border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 text-white placeholder-slate-400 text-lg transition","aria-label":"Name input",required:!0}),(0,Hn.jsx)("input",{type:"email",value:n,onChange:e=>o(e.target.value),placeholder:"Enter your email address",disabled:i,className:"w-full px-4 py-4 bg-slate-900/70 border border-slate-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 text-white placeholder-slate-400 text-lg transition","aria-label":"Email address input",required:!0}),(0,Hn.jsx)("button",{type:"submit",disabled:i,className:"w-full px-6 py-4 bg-gradient-to-r from-emerald-500 to-teal-600 text-white text-lg font-semibold rounded-xl hover:from-emerald-600 hover:to-teal-700 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 hover:shadow-lg hover:shadow-emerald-500/25 group","aria-label":"Join Elite Waitlist",children:i?(0,Hn.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Hn.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Joining Waitlist..."]}):(0,Hn.jsxs)("div",{className:"flex items-center justify-center",children:["Join Elite Waitlist",(0,Hn.jsx)(Dd,{className:"h-5 w-5 ml-2 group-hover:translate-x-1 transition-transform"})]})}),c&&(0,Hn.jsx)("div",{className:"mt-3 text-red-500 text-sm font-semibold bg-red-900/30 rounded-md p-2 animate-fadeIn",role:"alert","aria-live":"polite",children:c}),(0,Hn.jsx)("p",{className:"text-xs text-slate-400 text-center mt-4",children:"By joining, you agree to our Privacy Policy and Terms of Service"})]})]})]})]})})]})},Mp=["title","titleId"];function Rp(e,t){let{title:n,titleId:o}=e,a=i(e,Mp);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},a),n?r.createElement("title",{id:o},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const Dp=r.forwardRef(Rp),Lp=()=>(0,Hn.jsx)("footer",{className:"bg-slate-900 border-t border-slate-700/50 py-12",children:(0,Hn.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Hn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,Hn.jsxs)("div",{className:"col-span-1 md:col-span-2",children:[(0,Hn.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Hn.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-400 to-teal-600 rounded-xl flex items-center justify-center",children:(0,Hn.jsx)("span",{className:"text-white font-bold text-xl",children:"b"})}),(0,Hn.jsx)("span",{className:"ml-3 text-2xl font-bold bg-gradient-to-r from-emerald-400 to-teal-600 bg-clip-text text-transparent",children:"busin.us"})]}),(0,Hn.jsx)("p",{className:"text-slate-300 leading-relaxed mb-6",children:"The premier destination for global business expansion, legal compliance, and strategic growth solutions."}),(0,Hn.jsxs)("div",{className:"flex space-x-4",children:[(0,Hn.jsx)("a",{href:"#",className:"text-slate-400 hover:text-emerald-400 transition-colors","aria-label":"LinkedIn",children:(0,Hn.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,Hn.jsx)("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}),(0,Hn.jsx)("a",{href:"#",className:"text-slate-400 hover:text-emerald-400 transition-colors","aria-label":"Twitter",children:(0,Hn.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,Hn.jsx)("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})})]})]}),(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Services"}),(0,Hn.jsxs)("ul",{className:"space-y-2",children:[(0,Hn.jsx)("li",{children:(0,Hn.jsx)("a",{href:"#",className:"text-slate-400 hover:text-emerald-400 transition-colors",children:"Legal Compliance"})}),(0,Hn.jsx)("li",{children:(0,Hn.jsx)("a",{href:"#",className:"text-slate-400 hover:text-emerald-400 transition-colors",children:"Financial Audits"})}),(0,Hn.jsx)("li",{children:(0,Hn.jsx)("a",{href:"#",className:"text-slate-400 hover:text-emerald-400 transition-colors",children:"Marketing Excellence"})}),(0,Hn.jsx)("li",{children:(0,Hn.jsx)("a",{href:"#",className:"text-slate-400 hover:text-emerald-400 transition-colors",children:"Global Expansion"})})]})]}),(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Contact"}),(0,Hn.jsxs)("div",{className:"space-y-3",children:[(0,Hn.jsxs)("div",{className:"flex items-center",children:[(0,Hn.jsx)(jp,{className:"h-5 w-5 mr-3 text-emerald-400"}),(0,Hn.jsx)("span",{className:"text-slate-300",children:"+91 7975 113388"})]}),(0,Hn.jsxs)("div",{className:"flex items-center",children:[(0,Hn.jsx)(_p,{className:"h-5 w-5 mr-3 text-emerald-400"}),(0,Hn.jsx)("span",{className:"text-slate-300",children:"info@busin.us"})]}),(0,Hn.jsxs)("div",{className:"flex items-center",children:[(0,Hn.jsx)(Dp,{className:"h-5 w-5 mr-3 text-emerald-400"}),(0,Hn.jsxs)("span",{className:"text-slate-300",children:["Global Headquarters",(0,Hn.jsx)("br",{}),"New York, NY"]})]})]})]})]}),(0,Hn.jsx)("div",{className:"border-t border-slate-700/50 mt-8 pt-8 text-center text-slate-400",children:(0,Hn.jsx)("p",{children:"\xa9 2025 busin.us. All rights reserved. Premium business solutions for global success."})})]})}),Fp=["title","titleId"];function Up(e,t){let{title:n,titleId:o}=e,a=i(e,Fp);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},a),n?r.createElement("title",{id:o},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Vp=r.forwardRef(Up),Bp=["title","titleId"];function Hp(e,t){let{title:n,titleId:o}=e,a=i(e,Bp);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},a),n?r.createElement("title",{id:o},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const zp=r.forwardRef(Hp),Wp=["title","titleId"];function qp(e,t){let{title:n,titleId:o}=e,a=i(e,Wp);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},a),n?r.createElement("title",{id:o},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const Gp=r.forwardRef(qp),Yp=["title","titleId"];function Jp(e,t){let{title:n,titleId:o}=e,a=i(e,Yp);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},a),n?r.createElement("title",{id:o},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const Kp=r.forwardRef(Jp),Xp=["title","titleId"];function $p(e,t){let{title:n,titleId:o}=e,a=i(e,Xp);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":o},a),n?r.createElement("title",{id:o},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}const Qp=r.forwardRef($p),Zp=e=>{let{onLogoClick:t,size:n="md",includeAudio:o=!0}=e;const i=(0,r.useRef)(null);return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsxs)("div",{className:"flex items-center cursor-pointer select-none",onClick:()=>{i.current&&o&&i.current.play(),t&&t()},children:[(0,Hn.jsx)("img",{src:"/assets/businslogoupscaled.png",alt:"busin.us logo",className:"".concat({sm:"w-6 h-6",md:"w-8 h-8",lg:"w-10 h-10"}[n]," sm:w-14 sm:h-14 md:w-16 md:h-16 rounded-xl shadow-lg object-contain drop-shadow-lg"),draggable:!1,loading:"eager"}),(0,Hn.jsx)("span",{className:"ml-2 sm:ml-3 text-sm sm:text-base md:text-xl lg:text-3xl font-extrabold tracking-tight\n                     bg-gradient-to-r from-emerald-400 via-teal-500 to-teal-600 bg-clip-text\n                     text-transparent select-none drop-shadow-md",children:"Busin.us"}),(0,Hn.jsx)(Pd.div,{initial:{opacity:0,y:5},whileHover:{opacity:1,y:0},transition:{duration:.3},className:"pointer-events-none absolute bottom-[-2.5rem] sm:bottom-[-2.75rem]\r left-1/2 -translate-x-1/2 bg-teal-600 bg-opacity-90 text-white\r text-[9px] sm:text-xs rounded-md px-2 py-1 shadow-lg select-none\r font-medium tracking-wide whitespace-nowrap max-w-xs sm:max-w-none\r overflow-hidden text-ellipsis",children:"Click logo to play sound"})]}),o&&(0,Hn.jsx)("audio",{ref:i,src:"/assets/This is Businus.mp3",preload:"auto"})]})},eh="+917975113388",th="+91 7975 113388";const nh=(0,r.forwardRef)(((e,t)=>{const n=(0,r.useRef)(null),[o,i]=(0,r.useState)(!1),[a,s]=(0,r.useState)(!1),l=function(){const[e,t]=(0,r.useState)("desktop");return(0,r.useEffect)((()=>{const e=navigator.userAgent||navigator.vendor||window.opera;/android/i.test(e)||/iPad|iPhone|iPod/.test(e)&&!window.MSStream?t("mobile"):/tablet|ipad|playbook|silk/i.test(e)?t("tablet"):t("desktop")}),[]),e}(),c=()=>{};(0,r.useEffect)((()=>{const e=e=>{n.current&&!n.current.contains(e.target)&&(i(!1),s(!1))},t=e=>{"Escape"===e.key&&(i(!1),s(!1))};return document.addEventListener("mousedown",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}}),[]);return(0,Hn.jsx)("nav",u(u({ref:t,role:"navigation","aria-label":"Main navigation",className:"fixed top-6 left-1/2 -translate-x-1/2 z-50\r w-full max-w-full sm:w-[95%] sm:max-w-7xl\r bg-white/15 backdrop-blur-[30px] border border-white/25\r rounded-3xl shadow-[0_10px_30px_rgba(5,150,105,0.25)]\r backdrop-saturate-150 transition-transform\r pb-6 sm:pb-4",style:{willChange:"transform"}},e),{},{children:(0,Hn.jsx)("div",{className:"px-4 sm:px-8 lg:px-12",children:(0,Hn.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 sm:gap-6 py-3 sm:py-4",children:[(0,Hn.jsx)(Pd.div,{role:"button",tabIndex:0,className:"flex items-center cursor-pointer select-none outline-none relative\r rounded-2xl bg-gradient-to-br from-white/40 via-white/30 to-white/15\r shadow-[8px_8px_30px_rgba(0,0,0,0.12),-8px_-8px_30px_rgba(255,255,255,0.2)]\r p-2 sm:p-3 border border-white/40 backdrop-blur-[20px]",initial:{opacity:0,x:-30},animate:{opacity:1,x:0,y:[0,-15,0],boxShadow:["0 0 10px 5px rgba(5, 150, 105, 0.3)","0 0 20px 10px rgba(5, 200, 135, 0.7)","0 0 10px 5px rgba(5, 150, 105, 0.3)"]},transition:{y:{repeat:1/0,repeatType:"loop",duration:3,ease:"easeInOut"},boxShadow:{repeat:1/0,repeatType:"mirror",duration:4,ease:"easeInOut"},default:{duration:.8,ease:"easeOut"}},onClick:c,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||e.preventDefault()},"aria-label":"Play Busin.us sound",whileHover:{scale:1.15,boxShadow:"0 0 30px 8px rgba(5, 220, 100, 0.8), inset 0 0 12px 5px rgba(6, 255, 140, 0.6)",transition:{type:"spring",stiffness:400,damping:15}},whileFocus:{scale:1.15,boxShadow:"0 0 35px 10px rgba(5, 220, 100, 0.9), inset 0 0 14px 6px rgba(6, 255, 140, 0.7)",transition:{type:"spring",stiffness:400,damping:15}},children:(0,Hn.jsx)(Zp,{onLogoClick:c,size:"lg"})}),(0,Hn.jsxs)(Pd.div,{className:"flex flex-col sm:flex-row items-center sm:space-x-8 space-y-2 sm:space-y-0 relative\r text-white/80 text-center sm:text-left",initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.8,delay:.3,ease:"easeOut"},ref:n,children:[(0,Hn.jsxs)("div",{className:"relative",children:[(0,Hn.jsxs)("button",{type:"button","aria-haspopup":"true","aria-expanded":o,onClick:()=>i((e=>!e)),className:"flex items-center hover:text-emerald-400 transition-colors group\r shadow-sm hover:shadow-md px-3 py-1 rounded-md focus:outline-none focus:ring-2 focus:ring-emerald-400",children:[(0,Hn.jsx)(jp,{className:"h-5 w-5 mr-2 group-hover:scale-110 transition-transform text-teal-400"}),(0,Hn.jsx)("span",{className:"text-sm sm:text-base font-semibold tracking-wide",children:th}),(0,Hn.jsx)(Vp,{className:"h-4 w-4 ml-1 text-teal-400","aria-hidden":"true"})]}),o&&(0,Hn.jsxs)(Pd.div,{initial:{opacity:0,scale:.85},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.85},transition:{duration:.15},className:"absolute z-50 mt-1 right-0 w-44 rounded-md bg-white/90 backdrop-blur-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:[(0,Hn.jsxs)("a",{href:"tel:".concat(eh),onClick:()=>i(!1),className:"block px-4 py-2 text-sm text-gray-900 hover:bg-emerald-100",role:"menuitem",tabIndex:0,children:["Call ",th]}),(0,Hn.jsx)("a",{href:(()=>{const e="".concat("hello shiva hi there from"," ").concat(l);return"https://api.whatsapp.com/send?phone=".concat(eh.replace(/\D/g,""),"&text=").concat(encodeURIComponent(e))})(),target:"_blank",rel:"noopener noreferrer",onClick:()=>i(!1),className:"block px-4 py-2 text-sm text-gray-900 hover:bg-emerald-100",role:"menuitem",tabIndex:0,children:"WhatsApp Chat"})]})]}),(0,Hn.jsxs)("a",{href:"mailto:info@busin.us",className:"flex items-center hover:text-emerald-400 transition-colors group\r shadow-sm hover:shadow-md px-3 py-1 rounded-md",children:[(0,Hn.jsx)(_p,{className:"h-5 w-5 sm:h-6 sm:w-6 mr-1 sm:mr-2 group-hover:scale-110 transition-transform text-teal-400"}),(0,Hn.jsx)("span",{className:"text-sm sm:text-base font-semibold tracking-wide",children:"info@busin.us"})]}),(0,Hn.jsxs)("div",{className:"relative",children:[(0,Hn.jsxs)("button",{type:"button","aria-haspopup":"true","aria-expanded":a,onClick:()=>s((e=>!e)),className:"flex items-center hover:text-emerald-400 transition-colors group\r shadow-sm hover:shadow-md px-3 py-1 rounded-md focus:outline-none focus:ring-2 focus:ring-emerald-400",children:[(0,Hn.jsx)(zp,{className:"h-5 w-5 mr-2 group-hover:scale-110 transition-transform text-teal-400"}),(0,Hn.jsx)("span",{className:"text-sm sm:text-base font-semibold tracking-wide",children:"Be a partner"}),(0,Hn.jsx)(Vp,{className:"h-4 w-4 ml-1 text-teal-400 transition-transform ".concat(a?"rotate-180":""),"aria-hidden":"true"})]}),a&&(0,Hn.jsxs)(Pd.div,{initial:{opacity:0,scale:.85},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.85},transition:{duration:.15},className:"absolute z-50 mt-1 right-0 w-48 rounded-md bg-white/90 backdrop-blur-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:[(0,Hn.jsxs)("a",{href:"https://t.me/+Itpocs6cS51iNjQ1",target:"_blank",rel:"noopener noreferrer",onClick:()=>s(!1),className:"flex items-center px-4 py-2 text-sm text-gray-900 hover:bg-emerald-100",role:"menuitem",tabIndex:0,children:[(0,Hn.jsx)(Gp,{className:"h-5 w-5 mr-2 text-teal-400"}),"Telegram"]}),(0,Hn.jsxs)("a",{href:"https://discord.gg/NVgqMc5H",target:"_blank",rel:"noopener noreferrer",onClick:()=>s(!1),className:"flex items-center px-4 py-2 text-sm text-gray-900 hover:bg-emerald-100",role:"menuitem",tabIndex:0,children:[(0,Hn.jsx)(Kp,{className:"h-5 w-5 mr-2 text-teal-400"}),"Discord"]}),(0,Hn.jsxs)("a",{href:"https://www.reddit.com/r/BusinUS/",target:"_blank",rel:"noopener noreferrer",onClick:()=>s(!1),className:"flex items-center px-4 py-2 text-sm text-gray-900 hover:bg-emerald-100",role:"menuitem",tabIndex:0,children:[(0,Hn.jsx)(Qp,{className:"h-5 w-5 mr-2 text-teal-400"}),"Reddit"]})]})]})]})]})})}))})),rh=()=>{const[e,t]=(0,r.useState)(""),[n,o]=(0,r.useState)(!1),[a,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)({x:0,y:0}),[d,p]=(0,r.useState)(0),[h,f]=(0,r.useState)(0),m=(0,r.useRef)(null),g=(0,r.useRef)(null),y=(0,r.useRef)(null),v=(0,r.useRef)(null),x=((0,r.useRef)(null),(0,r.useRef)(null)),b=(0,r.useRef)(null),{scrollYProgress:w}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{container:t,target:n}=e,o=i(e,ei);const a=$o(ti),s=(0,r.useRef)(null),l=(0,r.useRef)(!1),c=(0,r.useCallback)((()=>(s.current=Xo(((e,t)=>{let{x:n,y:r}=t;a.scrollX.set(n.current),a.scrollXProgress.set(n.progress),a.scrollY.set(r.current),a.scrollYProgress.set(r.progress)}),u(u({},o),{},{container:(null===t||void 0===t?void 0:t.current)||void 0,target:(null===n||void 0===n?void 0:n.current)||void 0})),()=>{var e;null===(e=s.current)||void 0===e||e.call(s)})),[t,n,JSON.stringify(o.offset)]);return Zo((()=>(l.current=!1,ni(t)||ni(n)?void(l.current=!0):c())),[c]),(0,r.useEffect)((()=>l.current?(ni(t),ni(n),c()):void 0),[c]),a}(),k=ii(w,[0,.2],[1,.8]),S=ii(w,[0,.2],[1,.95]);(0,r.useEffect)((()=>{const e=()=>{b.current&&f(b.current.offsetHeight)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,r.useEffect)((()=>{let e=null;const t=t=>{e||(e=window.requestAnimationFrame((()=>{c({x:t.clientX,y:t.clientY}),e=null})))};return window.addEventListener("mousemove",t),()=>{window.removeEventListener("mousemove",t),e&&window.cancelAnimationFrame(e)}}),[]);return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(nh,{ref:b}),(0,Hn.jsxs)("div",{className:"min-h-screen bg-slate-900 text-white",style:{paddingTop:h},children:[(0,Hn.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,Hn.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900"}),(0,Hn.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(16,185,129,0.1),transparent_70%)]"}),(0,Hn.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(59,130,246,0.05),transparent_70%)]",style:{transform:"translate(".concat(.02*l.x,"px, ").concat(.02*l.y,"px)")}})]}),(0,Hn.jsx)(ep,{email:e,setEmail:t,isSubmitted:n,setIsSubmitted:o,isLoading:a,setIsLoading:s,handleEmailSubmit:async n=>{n.preventDefault(),(e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))(e)?(s(!0),setTimeout((()=>{o(!0),s(!1),t("")}),1e3)):alert("Please enter a valid email address.")},opacity:k,scale:S,ref:m}),(0,Hn.jsx)(fp,{ref:y}),(0,Hn.jsx)(Ep,{activeService:d,setActiveService:p,ref:g}),(0,Hn.jsx)(Tp,{ref:v}),(0,Hn.jsx)(Pp,{ref:x}),(0,Hn.jsx)(Lp,{})]})]})};function oh(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return oh=function(e){this.s=e,this.n=e.next},oh.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new oh(e)}const ih=e=>{let{className:t}=e;return(0,Hn.jsx)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,Hn.jsx)("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})},ah=e=>{let{className:t="w-5 h-5"}=e;return(0,Hn.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Hn.jsx)("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),(0,Hn.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,Hn.jsx)("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),(0,Hn.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),(0,Hn.jsx)("polyline",{points:"12 8 16 12 12 16"})]})},sh=e=>{let{className:t="w-5 h-5"}=e;return(0,Hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 20 20",fill:"currentColor",children:(0,Hn.jsx)("path",{fillRule:"evenodd",d:"M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z",clipRule:"evenodd"})})},lh=e=>{let{className:t="w-5 h-5"}=e;return(0,Hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,viewBox:"0 0 20 20",fill:"currentColor",children:(0,Hn.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})},ch=e=>(0,Hn.jsxs)("svg",u(u({},e),{},{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Hn.jsx)("path",{d:"M9.5 16c.67 0 1.33-.17 1.9-.5.67.33 1.33.5 2.1.5 2.21 0 4-1.79 4-4s-1.79-4-4-4c-.77 0-1.43.17-2.1.5-.57-.33-1.23-.5-1.9-.5-2.21 0-4 1.79 4 4s1.79 4 4 4zm0-6c.83 0 1.5.67 1.5 1.5S10.33 13 9.5 13 8 12.33 8 11.5 8.67 10 9.5 10zM14.5 12c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5z"}),(0,Hn.jsx)("path",{d:"M22 12c0 5.52-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2s10 4.48 10 10z"})]})),uh=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})),dh=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})),ph=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})),hh=e=>(0,Hn.jsx)("svg",u(u({},e),{},{viewBox:"0 0 20 20",fill:"currentColor",children:(0,Hn.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})),fh=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l2.8 2.034a1 1 0 00.363 1.118l1.524 4.674c.3.921-.755 1.688-1.54 1.118l-3.976-2.888a1 1 0 00-1.175 0l-3.976 2.888c-.784.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.524-4.674z"})})),mh=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})),gh=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})),yh=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 10v-3.333M9 17v-3.333M12 21a9 9 0 110-18 9 9 0 010 18zm0 0v-5.333M9 7V5a2 2 0 012-2h2a2 2 0 012 2v2"})})),vh=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3.333M9 17v-3.333M12 21a9 9 0 110-18 9 9 0 010 18zm0 0v-5.333M9 7V5a2 2 0 012-2h2a2 2 0 012 2v2"})})),xh=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a3.004 3.004 0 015.288 0M12 14a3 3 0 100-6 3 3 0 000 6z"})})),bh=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12s-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.368a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})})),wh=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})),kh=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 2L2 12l10 10 10-12L12 2z"})})),Sh=e=>(0,Hn.jsxs)("svg",u(u({},e),{},{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h5M20 20v-5h-5M4 4l16 16"}),(0,Hn.jsx)("path",{d:"M20 4h-5v5M4 20h5v-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})),Eh=e=>(0,Hn.jsxs)("svg",u(u({},e),{},{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10"}),(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 16l-4-4m0 0l4-4m-4 4h12"})]})),Ch=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})),Th=e=>(0,Hn.jsxs)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Hn.jsx)("ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}),(0,Hn.jsx)("path",{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"}),(0,Hn.jsx)("path",{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"})]})),Nh=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})),Ah=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})),jh=e=>(0,Hn.jsxs)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-4.35-4.35"}),(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.54 9H20.46M3.54 15H20.46M9 3.54V20.46M15 3.54V20.46"})]})),Oh=e=>(0,Hn.jsxs)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0v-4m0 4h5m0 0v-4m0 4h5m0 0v-4m-5 4V11m-5 10V11m10 10V11"}),(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 11h6"})]})),Ih=e=>(0,Hn.jsxs)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 21v-13a2 2 0 012-2h14a2 2 0 012 2v13"}),(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15V3m0 0l-3 3m3-3l3 3"}),(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 21H6"}),(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11H9"})]})),_h=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})),Ph=e=>(0,Hn.jsxs)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v5.586a1 1 0 01.293.707l5.414 5.414a1 1 0 01.707.293V19a2 2 0 01-2 2z"}),(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9l-2 2 2 2"}),(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 9l2 2-2 2"})]})),Mh=e=>(0,Hn.jsxs)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"}),(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12H9m6 0a2 2 0 100-4 2 2 0 000 4z"})]})),Rh=e=>(0,Hn.jsxs)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 13v-1m4 1v-3m4 3V8M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"}),(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 18l4 4m-7-3a4 4 0 100-8 4 4 0 000 8z"})]})),Dh=e=>(0,Hn.jsxs)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4"}),(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})]})),Lh=e=>(0,Hn.jsxs)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"}),(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 11v6m-3-3h6"})]})),Fh=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})),Uh=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})),Vh=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,Hn.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.21 3.03-1.742 3.03H4.42c-1.532 0-2.492-1.696-1.742-3.03l5.58-9.92zM10 13a1 1 0 110-2 1 1 0 010 2zm-1.75-5.25a.75.75 0 00-1.5 0v3.5a.75.75 0 001.5 0v-3.5z",clipRule:"evenodd"})})),Bh=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 11-7.743 5.743L11 17H9v2H7v2H5v-2H3v-2H1v-4a6 6 0 016-6h4a6 6 0 016 6z"})})),Hh=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3h-6"})})),zh=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"})})),Wh=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h5M20 20v-5h-5M4 4l16 16"})})),qh=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})),Gh=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 013 3h10a3 3 0 013-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})),Yh=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9H4l4-4M4 9v4c0 3.31 2.69 6 6 6h1"})})),Jh=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 9h6l-4-4M20 9v4c0 3.31-2.69 6-6 6h-1"})})),Kh=e=>(0,Hn.jsxs)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})),Xh=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})),$h=e=>(0,Hn.jsx)("svg",u(u({},e),{},{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}));const Qh=new class{constructor(){this.notifications=[],this.listeners=[]}addListener(e){this.listeners.push(e)}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(){this.listeners.forEach((e=>e(this.notifications)))}createNotification(e){let{type:t,title:n,message:r,nodeId:o,contact:i,priority:a="medium"}=e;const s={id:"notif_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),type:t,title:n,message:r,nodeId:o,contact:i,priority:a,timestamp:(new Date).toISOString(),read:!1,actions:[]};return this.notifications.unshift(s),this.notifyListeners(),s}markAsRead(e){const t=this.notifications.find((t=>t.id===e));t&&(t.read=!0,this.notifyListeners())}markAllAsRead(){this.notifications.forEach((e=>{e.read=!0})),this.notifyListeners()}removeNotification(e){this.notifications=this.notifications.filter((t=>t.id!==e)),this.notifyListeners()}getUnreadCount(){return this.notifications.filter((e=>!e.read)).length}getNotifications(){return[...this.notifications]}getNotificationsForContact(e){return this.notifications.filter((t=>t.contact&&t.contact.id===e))}async sendEmailNotification(e,t,n){return console.log("[NotificationService] Sending email to ".concat(e.email,": ").concat(t)),await new Promise((e=>setTimeout(e,500))),{success:!0,messageId:"msg_".concat(Date.now())}}async sendInAppNotification(e,t,n,r){console.log("[NotificationService] Sending in-app notification to ".concat(e.name,": ").concat(t));return this.createNotification({type:"delegation",title:t,message:n,nodeId:r,contact:e,priority:"high"})}async sendDelegationNotification(e,t,n){const r="Task Delegation: ".concat(e.label),o=n||'You have been delegated the task "'.concat(e.label,'" in a workflow. Please review and complete when possible.'),i=this.sendEmailNotification(t,r,"".concat(o,"\n\nTask Details:\n- Workflow Node: ").concat(e.label,"\n- Node Type: ").concat(e.type,"\n- Delegated by: System")),a=this.sendInAppNotification(t,r,o,e.id),[s,l]=await Promise.all([i,a]);return{emailResult:s,inAppResult:l}}async sendCompletionNotification(e,t,n){if(!t)return;const r="Task Completed: ".concat(e.label),o=n||'The delegated task "'.concat(e.label,'" has been completed.');await this.sendEmailNotification(t,r,"".concat(o,"\n\nTask Details:\n- Workflow Node: ").concat(e.label,"\n- Completed at: ").concat((new Date).toLocaleString())),this.sendInAppNotification(t,r,o,e.id)}},Zh="7918152804:AAEfqKOSPdTW26F1OpWBhn3onVP3pk-6Jgs",ef="-4831361896";function tf(e){return e?e.replace(/[_*[\]()~`>#+-=|{}.!]/g,(e=>"\\".concat(e))):"N/A"}async function nf(e,t,n,r){console.log("sendBusinessPlanToTelegram called with:",{name:e,email:t,businessPlan:n,workflowData:r});const o=(new Date).toLocaleString("en-IN",{timeZone:"Asia/Kolkata"}),i=r.nodes.reduce(((e,t)=>(e[t.type]=(e[t.type]||0)+1,e)),{}),a=Object.entries(i).map((e=>{let[t,n]=e;return"".concat(t,": ").concat(n)})).join(", ")||"None",s=["*New Business Plan Submission*","*Name:* ".concat(tf(e)),"*Email:* ".concat(tf(t)),"*Date and Time:* ".concat(tf(o)),"*Business Plan:* ".concat(tf(n)),"*Workflow Summary:* ".concat(tf(a)),"*Node Count:* ".concat(r.nodes.length),"*Edge Count:* ".concat(r.edges.length),"*Group Count:* ".concat(r.groups.length)].join("\n");try{console.log("Sending business plan message to Telegram");const n=await async function(e,t,n){console.log("Sending Telegram message:",{token:e.substring(0,10)+"...",chatId:t,message:n});const r=await fetch("https://api.telegram.org/bot".concat(e,"/sendMessage"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:t,text:n,parse_mode:"MarkdownV2",disable_notification:!0})}),o=await r.json();if(console.log("Telegram sendMessage response:",o),!o.ok)throw new Error(o.description);return o}(Zh,ef,s);console.log("Telegram business plan message sent:",n),console.log("Sending workflow document to Telegram");const o=JSON.stringify(r,null,2),i=new Blob([o],{type:"application/json"}),a=new FormData;a.append("chat_id",ef),a.append("document",i,"business-plan-workflow-".concat(Date.now(),".json")),a.append("caption","Business plan workflow for ".concat(tf(e)," (").concat(tf(t),")"));const l=await fetch("https://api.telegram.org/bot".concat(Zh,"/sendDocument"),{method:"POST",body:a}),c=await l.json();if(console.log("Telegram document send response:",c),!c.ok)throw console.error("Error sending workflow document:",c.description),new Error(c.description);return console.log("Telegram workflow document sent:",c),!0}catch(l){throw console.error("Error sending Telegram message:",l),l}}const rf=e=>{let{onGenerate:t,isLoading:n,onOpenNotifications:o,workspaces:i=[],currentWorkspace:a=null,onCreateNewWorkspace:s,onSwitchWorkspace:l,onDeleteWorkspace:c,onImportToNewWorkspace:u,nodes:d=[],edges:p=[],groups:h=[]}=e;const[f,m]=(0,r.useState)(""),[g,y]=(0,r.useState)(0),[v,x]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!1),[k,S]=(0,r.useState)(""),[E,C]=(0,r.useState)(!1),{currentTheme:T,setTheme:N,themes:A}=(()=>{const e=(0,r.useContext)(zn);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e})(),[j,O]=(0,r.useState)(!1);(0,r.useEffect)((()=>{const e=e=>{const t=e.filter((e=>!e.read)).length;y(t)};return Qh.addListener(e),y(Qh.getUnreadCount()),()=>{Qh.removeListener(e)}}),[]);return(0,Hn.jsxs)("header",{className:"bg-dark-surface border-b border-dark-border p-4 flex items-center justify-between relative",children:[(0,Hn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Hn.jsx)("button",{className:"p-2 rounded-md text-dark-text-secondary hover:bg-dark-bg sm:hidden",children:(0,Hn.jsx)(Xh,{className:"w-5 h-5"})}),(0,Hn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hn.jsx)(Zp,{size:"md",includeAudio:!0}),(0,Hn.jsx)("h1",{className:"text-xl font-bold text-dark-text-primary",children:"Workflow AI"})]}),(0,Hn.jsxs)("div",{className:"relative",children:[(0,Hn.jsxs)("button",{onClick:()=>x(!v),className:"flex items-center gap-2 px-3 py-1.5 bg-dark-bg border border-dark-border rounded-md text-dark-text-primary hover:bg-dark-surface",children:[(0,Hn.jsx)("span",{className:"max-w-[120px] truncate",children:(null===a||void 0===a?void 0:a.name)||"Select Workspace"}),(0,Hn.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),v&&(0,Hn.jsx)("div",{className:"absolute top-full left-0 mt-1 w-64 bg-dark-surface border border-dark-border rounded-md shadow-lg z-50",children:(0,Hn.jsxs)("div",{className:"py-1",children:[i.map((e=>(0,Hn.jsxs)("button",{onClick:()=>{l(e.id),x(!1)},className:"w-full text-left px-4 py-2 text-sm flex items-center justify-between ".concat((null===a||void 0===a?void 0:a.id)===e.id?"bg-brand-primary/20 text-brand-primary":"text-dark-text-primary hover:bg-dark-bg"),children:[(0,Hn.jsx)("span",{className:"truncate",children:e.name}),i.length>1&&(0,Hn.jsx)("button",{onClick:t=>{t.stopPropagation(),c(e.id)},className:"text-red-400 hover:text-red-300",children:(0,Hn.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},e.id))),(0,Hn.jsx)("div",{className:"border-t border-dark-border my-1"}),b?(0,Hn.jsxs)("div",{className:"px-4 py-2",children:[(0,Hn.jsx)("input",{type:"text",value:k,onChange:e=>S(e.target.value),placeholder:"Workspace name",className:"w-full bg-dark-bg border border-dark-border rounded-md px-3 py-1.5 text-sm text-dark-text-primary mb-2",autoFocus:!0}),(0,Hn.jsxs)("div",{className:"flex gap-2",children:[(0,Hn.jsx)("button",{onClick:()=>{k.trim()&&(s(k.trim()),S(""),w(!1),x(!1))},className:"flex-1 bg-brand-primary text-white rounded-md px-3 py-1.5 text-sm",children:"Create"}),(0,Hn.jsx)("button",{onClick:()=>{w(!1),S("")},className:"flex-1 bg-dark-bg border border-dark-border text-dark-text-primary rounded-md px-3 py-1.5 text-sm",children:"Cancel"})]})]}):(0,Hn.jsxs)("button",{onClick:()=>w(!0),className:"w-full text-left px-4 py-2 text-sm text-dark-text-primary hover:bg-dark-bg flex items-center gap-2",children:[(0,Hn.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"New Workspace"]})]})})]})]}),(0,Hn.jsx)("form",{onSubmit:e=>{e.preventDefault(),f.trim()&&!n&&(t(f),m(""))},className:"flex-1 max-w-2xl mx-4",children:(0,Hn.jsxs)("div",{className:"relative",children:[(0,Hn.jsx)("input",{type:"text",value:f,onChange:e=>m(e.target.value),placeholder:"Describe your business plan...",disabled:n,className:"w-full bg-dark-bg border border-dark-border rounded-lg py-2 px-4 text-dark-text-primary focus:outline-none focus:ring-1 focus:ring-brand-primary disabled:opacity-50"}),(0,Hn.jsx)("button",{type:"submit",disabled:!f.trim()||n,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-brand-primary text-white rounded-md px-4 py-1 text-sm hover:bg-brand-primary/90 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Generating...":"Generate"})]})}),(0,Hn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Hn.jsx)("button",{className:"p-2 rounded-md text-dark-text-secondary hover:bg-dark-bg flex items-center justify-center",onClick:async()=>{O(!0);try{const e=localStorage.getItem("busin.us-signup");if(e){const{name:t,email:n}=JSON.parse(e),r={nodes:d,edges:p,groups:h};await nf(t,n,"Current Workflow Export",r),alert("Workflow sent to Telegram successfully!")}else alert("Please sign up first to enable Telegram export.")}catch(e){console.error("Failed to send to Telegram:",e),alert("Failed to send workflow to Telegram. Please try again.")}finally{O(!1)}},disabled:j||0===d.length,title:"Send current workflow to Telegram",children:j?(0,Hn.jsxs)("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,Hn.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Hn.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,Hn.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),(0,Hn.jsxs)("div",{className:"relative",children:[(0,Hn.jsx)("button",{className:"p-2 rounded-lg bg-dark-surface border border-dark-border text-dark-text-primary hover:bg-dark-bg transition-colors flex items-center justify-center",onClick:()=>C(!E),children:(0,Hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Hn.jsx)("path",{fillRule:"evenodd",d:"M4 2a2 2 0 00-2 2v11a3 3 0 106 0V4a2 2 0 00-2-2H4zm1 14a1 1 0 100-2 1 1 0 000 2zm5-1.757l4.9-4.9a2 2 0 000-2.828L13.485 5.1a2 2 0 00-2.828 0L10 5.757v8.486zM16 18H9.071l6-6H16a2 2 0 012 2v2a2 2 0 01-2 2z",clipRule:"evenodd"})})}),E&&(0,Hn.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-dark-surface border border-dark-border rounded-lg shadow-lg z-50",children:(0,Hn.jsxs)("div",{className:"p-2",children:[(0,Hn.jsx)("h3",{className:"text-xs font-semibold text-dark-text-secondary uppercase tracking-wider mb-2 px-2",children:"Themes"}),Object.entries(A).map((e=>{let[t,n]=e;return(0,Hn.jsxs)("button",{onClick:()=>{N(t),C(!1)},className:"w-full flex items-center gap-2 px-3 py-2 rounded-md text-sm text-left transition-colors ".concat(T===t?"bg-brand-primary/20 text-brand-primary":"text-dark-text-primary hover:bg-dark-bg"),children:[(0,Hn.jsx)("span",{className:"flex-shrink-0 w-3 h-3 rounded-full",style:{backgroundColor:n.colors["brand-primary"]}}),n.name]},t)}))]})}),E&&(0,Hn.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>C(!1)})]}),(0,Hn.jsxs)("button",{className:"relative p-2 rounded-md text-dark-text-secondary hover:bg-dark-bg flex items-center justify-center",onClick:o,children:[(0,Hn.jsx)($h,{className:"w-5 h-5"}),g>0&&(0,Hn.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:g})]})]}),v&&(0,Hn.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>{x(!1),w(!1),S("")}})]})},of={TRIGGER:"TRIGGER",SEND_EMAIL:"SEND_EMAIL",SEND_MESSAGE:"SEND_MESSAGE",GENERATE_DOCUMENT:"GENERATE_DOCUMENT",FILE_TAXES:"FILE_TAXES",UPDATE_CRM:"UPDATE_CRM",SOCIAL_POST:"SOCIAL_POST",WAIT:"WAIT",IF_CONDITION:"IF_CONDITION",LOOP_START:"LOOP_START",LOOP_END:"LOOP_END",CODE:"CODE",QUERY_DATABASE:"QUERY_DATABASE",CONNECT_API:"CONNECT_API",LOGGER:"LOGGER",BROWSING_AGENT:"BROWSING_AGENT",REGISTER_BUSINESS:"REGISTER_BUSINESS",EXPAND_BUSINESS:"EXPAND_BUSINESS",DASHBOARD:"DASHBOARD",CREATE_WEBSITE:"CREATE_WEBSITE",MANAGE_INVOICES:"MANAGE_INVOICES",MARKET_RESEARCH:"MARKET_RESEARCH",COMPLIANCE_CHECK:"COMPLIANCE_CHECK",HIRE_EMPLOYEE:"HIRE_EMPLOYEE",TODO_LIST:"TODO_LIST",TODO_VIEW:"TODO_VIEW",NOVEL_NODE:"NOVEL_NODE",COMMENT:"COMMENT"},af="IDLE",sf="RUNNING",lf="SUCCESS",cf="FAILED",uf="none",df="human",pf="agent",hf=e=>{let{className:t}=e;return(0,Hn.jsxs)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Hn.jsx)("path",{d:"M9 11L12 14L20 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Hn.jsx)("path",{d:"M8 6H21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Hn.jsx)("path",{d:"M8 12H21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Hn.jsx)("path",{d:"M8 18H21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},ff=e=>{let{className:t}=e;return(0,Hn.jsx)("svg",{className:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Hn.jsx)("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})},mf=208,gf=80,yf={delegationType:uf,delegateToHuman:{contactId:"",contactName:"",instructions:"",expectedResponseTime:0},delegateToAgent:{agentId:"",agentName:"",configuration:{}}},vf={[of.TRIGGER]:{type:of.TRIGGER,label:"Trigger",icon:(0,Hn.jsx)(mh,{className:"w-6 h-6"}),defaultData:{condition:"On New User Signup"},description:"Starts the workflow based on an event."},[of.SEND_EMAIL]:{type:of.SEND_EMAIL,label:"Send Email",icon:(0,Hn.jsx)(gh,{className:"w-6 h-6"}),defaultData:{to:"{{user.email}}",subject:"Welcome!",body:"Hello {{user.name}}!"},description:"Sends a transactional or marketing email."},[of.SEND_MESSAGE]:{type:of.SEND_MESSAGE,label:"Send Message",icon:(0,Hn.jsx)(ih,{className:"w-6 h-6"}),defaultData:{to:"",message:"",channel:"whatsapp",assignedPerson:null},description:"Sends a message to the assigned person via messaging channels."},[of.GENERATE_DOCUMENT]:{type:of.GENERATE_DOCUMENT,label:"Generate Document",icon:(0,Hn.jsx)(yh,{className:"w-6 h-6"}),defaultData:{template:"contract.docx",format:"pdf"},description:"Creates a document from a template."},[of.IF_CONDITION]:{type:of.IF_CONDITION,label:"If/Else Condition",icon:(0,Hn.jsx)(kh,{className:"w-6 h-6"}),defaultData:{condition:"{{user.isSubscribed}} == true"},description:"Splits the workflow based on a condition."},[of.LOOP_START]:{type:of.LOOP_START,label:"Start Loop",icon:(0,Hn.jsx)(Sh,{className:"w-6 h-6"}),defaultData:{condition:'{{item.status}} !== "processed"'},description:"Repeats steps while a condition is true."},[of.LOOP_END]:{type:of.LOOP_END,label:"End Loop",icon:(0,Hn.jsx)(Eh,{className:"w-6 h-6"}),defaultData:{},description:"Marks the end of a loop iteration."},[of.CODE]:{type:of.CODE,label:"Code",icon:(0,Hn.jsx)(Ch,{className:"w-6 h-6"}),defaultData:{code:'console.log("Hello, World!");\nreturn { success: true };'},description:"Execute custom JavaScript code."},[of.QUERY_DATABASE]:{type:of.QUERY_DATABASE,label:"Query Database",icon:(0,Hn.jsx)(Th,{className:"w-6 h-6"}),defaultData:{credentialId:"",query:"SELECT * FROM users LIMIT 10;"},description:"Run a query against your database."},[of.CONNECT_API]:{type:of.CONNECT_API,label:"Connect to API",icon:(0,Hn.jsx)(Nh,{className:"w-6 h-6"}),defaultData:{credentialId:"",method:"GET",url:"https://api.example.com/data",headers:'{\n  "Content-Type": "application/json"\n}',body:'{\n  "key": "value"\n}'},description:"Make an HTTP request to an external API."},[of.LOGGER]:{type:of.LOGGER,label:"Logger",icon:(0,Hn.jsx)(Ah,{className:"w-6 h-6"}),defaultData:{message:"Log: {{ some_variable }}"},description:"Logs a message for debugging purposes."},[of.BROWSING_AGENT]:{type:of.BROWSING_AGENT,label:"Browsing Agent",icon:(0,Hn.jsx)(jh,{className:"w-6 h-6"}),defaultData:{url:"https://example.com",task:"Summarize the main content."},description:"Automates tasks on a website."},[of.REGISTER_BUSINESS]:{type:of.REGISTER_BUSINESS,label:"Register Business",icon:(0,Hn.jsx)(Oh,{className:"w-6 h-6"}),defaultData:{businessName:"My NewCo",businessType:"LLC",country:"USA"},description:"Registers a new business entity."},[of.EXPAND_BUSINESS]:{type:of.EXPAND_BUSINESS,label:"Expand Business",icon:(0,Hn.jsx)(Ih,{className:"w-6 h-6"}),defaultData:{strategy:"Launch marketing in new region"},description:"Creates a plan to expand business operations."},[of.DASHBOARD]:{type:of.DASHBOARD,label:"Dashboard",icon:(0,Hn.jsx)(_h,{className:"w-6 h-6"}),defaultData:{chartType:"Bar",data:"{{query_result}}"},description:"Visualizes data from other workflow steps."},[of.CREATE_WEBSITE]:{type:of.CREATE_WEBSITE,label:"Create Website",icon:(0,Hn.jsx)(Ph,{className:"w-6 h-6"}),defaultData:{siteName:"My Awesome Site",businessType:"E-commerce",template:"Modern"},description:"Automates the creation of a business website."},[of.MANAGE_INVOICES]:{type:of.MANAGE_INVOICES,label:"Manage Invoices",icon:(0,Hn.jsx)(Mh,{className:"w-6 h-6"}),defaultData:{action:"Create",client:"Client Name",amount:1e3,currency:"USD"},description:"Create, send, or track invoices."},[of.MARKET_RESEARCH]:{type:of.MARKET_RESEARCH,label:"Market Research",icon:(0,Hn.jsx)(Rh,{className:"w-6 h-6"}),defaultData:{topic:"Competitor analysis for SaaS products",market:"Global"},description:"Uses AI to perform market research."},[of.COMPLIANCE_CHECK]:{type:of.COMPLIANCE_CHECK,label:"Compliance Check",icon:(0,Hn.jsx)(Dh,{className:"w-6 h-6"}),defaultData:{checkType:"GDPR",region:"EU"},description:"Checks for business compliance in a region."},[of.HIRE_EMPLOYEE]:{type:of.HIRE_EMPLOYEE,label:"Hire Employee",icon:(0,Hn.jsx)(Lh,{className:"w-6 h-6"}),defaultData:{role:"Software Engineer",status:"Send Offer Letter"},description:"Automates steps in the hiring process."},[of.FILE_TAXES]:{type:of.FILE_TAXES,label:"File Taxes",icon:(0,Hn.jsx)(vh,{className:"w-6 h-6"}),defaultData:{country:"USA",year:(new Date).getFullYear(),form:"1040"},description:"Prepares and files tax documents."},[of.UPDATE_CRM]:{type:of.UPDATE_CRM,label:"Update CRM",icon:(0,Hn.jsx)(xh,{className:"w-6 h-6"}),defaultData:{record:"{{user.id}}",status:"Onboarded"},description:"Updates a record in your CRM."},[of.SOCIAL_POST]:{type:of.SOCIAL_POST,label:"Social Post",icon:(0,Hn.jsx)(bh,{className:"w-6 h-6"}),defaultData:{platform:"Twitter",content:"Welcome our new client!",targetAudience:"Global"},description:"Posts a message to a social media platform."},[of.WAIT]:{type:of.WAIT,label:"Wait",icon:(0,Hn.jsx)(wh,{className:"w-6 h-6"}),defaultData:{duration:"1",unit:"days"},description:"Pauses the workflow for a set duration."},[of.SEND_MESSAGE]:{type:of.SEND_MESSAGE,label:"Send Message",icon:(0,Hn.jsx)(ih,{className:"w-6 h-6"}),defaultData:{to:"",message:"",channel:"whatsapp",assignedPerson:{name:"",email:"",phone:"",role:""}},description:"Sends a message to the assigned person via specified channel."},[of.COMMENT]:{type:of.COMMENT,label:"Comment",icon:(0,Hn.jsx)(sh,{className:"w-6 h-6"}),defaultData:{text:"Add your comment here...",author:"",createdAt:(new Date).toISOString()},description:"Add a comment or note to document important information about this workflow step."},NOVEL_NODE:{type:"NOVEL_NODE",label:"Novel Step",icon:(0,Hn.jsx)(ff,{className:"w-6 h-6"}),defaultData:{description:"",resources:[]},description:"A custom step that doesn't fit existing categories. Use for unique or innovative workflow elements."},TODO_LIST:{type:"TODO_LIST",label:"To-Do List",icon:(0,Hn.jsx)(hf,{className:"w-6 h-6"}),defaultData:{items:[],priority:"medium"},description:"A task list for non-sequential actions that need to be completed as part of the business plan. Use for parallel tasks or checklist items."},TODO_VIEW:{type:"TODO_VIEW",label:"View To-Do List",icon:(0,Hn.jsx)(hf,{className:"w-6 h-6"}),defaultData:{},description:"A view component that displays all to-do items from TODO_LIST nodes in a centralized list. This node does not execute but provides a visual overview of pending tasks."}};Object.values(vf).forEach((e=>{e.defaultData=u(u({},e.defaultData),{},{delegation:u({},yf)})}));const xf=[{name:"Flow Control",nodes:[of.TRIGGER,of.IF_CONDITION,of.LOOP_START,of.LOOP_END,of.WAIT]},{name:"Integrations",nodes:[of.SEND_EMAIL,of.SEND_MESSAGE,of.UPDATE_CRM,of.SOCIAL_POST,of.QUERY_DATABASE,of.CONNECT_API]},{name:"Busin.US",nodes:[of.REGISTER_BUSINESS,of.HIRE_EMPLOYEE,of.EXPAND_BUSINESS,of.CREATE_WEBSITE,of.GENERATE_DOCUMENT,of.MANAGE_INVOICES,of.FILE_TAXES,of.COMPLIANCE_CHECK]},{name:"AI & Data",nodes:[of.BROWSING_AGENT,of.DASHBOARD,of.MARKET_RESEARCH]},{name:"Developer",nodes:[of.CODE,of.LOGGER]},{name:"Documentation",nodes:[of.COMMENT,"TODO_LIST","TODO_VIEW"]}],bf=xf.findIndex((e=>"Busin.US"===e.name)),wf=xf.splice(bf,1)[0],kf=xf.findIndex((e=>"Documentation"===e.name)),Sf=[wf,xf.splice(kf,1)[0],...xf],Ef="busin.us-favorite-nodes",Cf=e=>{let{onAiAddNode:t,aiPrompt:n,setAiPrompt:o}=e;const[i,a]=(0,r.useState)(!1);return(0,Hn.jsxs)("div",{className:"mb-4",children:[(0,Hn.jsx)("h3",{className:"text-md font-semibold text-dark-text-primary mb-2",children:"Create new node with AI"}),(0,Hn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),n.trim()&&!i&&(a(!0),await t(n),a(!1))},className:"relative",children:[(0,Hn.jsx)("input",{type:"text",value:n,onChange:e=>o(e.target.value),placeholder:"e.g., 'host a conference'",className:"w-full bg-dark-bg border border-dark-border rounded-md py-2 pl-3 pr-10 text-sm text-dark-text-primary placeholder-dark-text-secondary focus:ring-2 focus:ring-brand-primary focus:outline-none transition",disabled:i}),(0,Hn.jsx)("button",{type:"submit",disabled:i||!n.trim(),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 rounded-md text-dark-text-secondary hover:bg-brand-primary hover:text-white disabled:hover:bg-transparent disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Generate Node",children:i?(0,Hn.jsxs)("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Hn.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Hn.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,Hn.jsx)(ch,{className:"w-4 h-4"})})]})]})},Tf=e=>{let{onAddNode:t,onAiAddNode:n,isMobile:o,isSidebarOpen:i,setIsSidebarOpen:a,aiPrompt:s,setAiPrompt:l}=e;const[c,d]=(0,r.useState)(""),[p,h]=(0,r.useState)((()=>{try{const e=localStorage.getItem(Ef);return e?JSON.parse(e):[]}catch(Xw){return console.error("Failed to load favorite nodes from localStorage",Xw),[]}}));(0,r.useEffect)((()=>{try{localStorage.setItem(Ef,JSON.stringify(p))}catch(Xw){console.error("Failed to save favorite nodes to localStorage",Xw)}}),[p]);const f=e=>{h((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))},m=(0,r.useMemo)((()=>{const e=c.toLowerCase().trim();let t=[...Sf];return p.length>0&&t.unshift({name:"Favorites",nodes:p}),e?t.map((t=>{const n=t.nodes.map((e=>vf[e]||vf.NOVEL_NODE)).filter((t=>t.label.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)));return u(u({},t),{},{nodes:n})})).filter((e=>e.nodes.length>0)):t.map((e=>u(u({},e),{},{nodes:e.nodes.map((e=>vf[e]||vf.NOVEL_NODE))})))}),[c,p]);return o?(0,Hn.jsxs)(Hn.Fragment,{children:[i&&(0,Hn.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 sm:hidden",onClick:()=>a(!1)}),(0,Hn.jsxs)("aside",{className:"fixed top-0 left-0 h-full bg-dark-surface border-r border-dark-border p-4 z-50 flex flex-col transition-transform duration-300 ease-in-out sm:hidden ".concat(i?"translate-x-0":"-translate-x-full"),style:{width:"90%",maxWidth:"320px"},children:[(0,Hn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Hn.jsx)("h2",{className:"text-lg font-semibold text-dark-text-primary",children:"Nodes"}),(0,Hn.jsx)("button",{onClick:()=>a(!1),className:"p-2 rounded-md text-dark-text-secondary hover:bg-dark-bg",children:(0,Hn.jsx)(Uh,{className:"w-5 h-5"})})]}),(0,Hn.jsx)(Cf,{onAiAddNode:n,aiPrompt:s,setAiPrompt:l}),(0,Hn.jsx)("div",{className:"w-full h-px bg-dark-border my-4"}),(0,Hn.jsxs)("div",{className:"relative mb-3",children:[(0,Hn.jsx)(uh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-dark-text-secondary"}),(0,Hn.jsx)("input",{type:"text",placeholder:"Search nodes...",value:c,onChange:e=>d(e.target.value),className:"w-full bg-dark-bg border border-dark-border rounded-md py-2 pl-9 pr-3 text-sm text-dark-text-primary placeholder-dark-text-secondary focus:ring-2 focus:ring-brand-primary focus:outline-none transition"})]}),(0,Hn.jsxs)("div",{className:"flex-grow overflow-y-auto -mr-2 pr-2",children:[m.map((e=>(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("h3",{className:"text-xs font-bold uppercase text-dark-text-secondary tracking-wider mt-4 mb-2 px-1",children:e.name}),(0,Hn.jsx)("div",{className:"space-y-2",children:e.nodes.map((e=>(0,Hn.jsxs)("div",{title:e.description,className:"w-full flex items-center gap-3 p-2 rounded-md bg-dark-bg border border-transparent hover:bg-brand-primary/20 hover:border-brand-primary transition-all text-left group",children:[(0,Hn.jsxs)("button",{onClick:()=>{t(e.type),a(!1)},className:"flex-grow flex items-center gap-3 text-left",children:[(0,Hn.jsx)("div",{className:"p-2 bg-dark-surface rounded-md text-brand-secondary group-hover:text-brand-primary",children:e.icon}),(0,Hn.jsx)("div",{children:(0,Hn.jsx)("p",{className:"font-medium text-dark-text-primary",children:e.label})})]}),(0,Hn.jsx)("button",{onClick:t=>{t.stopPropagation(),f(e.type)},className:"p-1 rounded-full text-dark-text-secondary/50 opacity-0 group-hover:opacity-100 hover:text-yellow-400 transition-opacity",title:p.includes(e.type)?"Remove from favorites":"Add to favorites",children:p.includes(e.type)?(0,Hn.jsx)(hh,{className:"w-4 h-4 text-yellow-400"}):(0,Hn.jsx)(fh,{className:"w-4 h-4"})})]},e.type)))})]},e.name))),0===m.length&&(0,Hn.jsx)("p",{className:"text-sm text-dark-text-secondary text-center mt-6",children:"No nodes found."})]})]})]}):(0,Hn.jsxs)("aside",{className:"w-72 bg-dark-surface border-r border-dark-border p-4 flex-shrink-0 z-20 flex flex-col hidden sm:flex",children:[(0,Hn.jsx)(Cf,{onAiAddNode:n,aiPrompt:s,setAiPrompt:l}),(0,Hn.jsx)("div",{className:"w-full h-px bg-dark-border my-4"}),(0,Hn.jsx)("h2",{className:"text-lg font-semibold text-dark-text-primary mb-3",children:"Nodes"}),(0,Hn.jsxs)("div",{className:"relative mb-3",children:[(0,Hn.jsx)(uh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-dark-text-secondary"}),(0,Hn.jsx)("input",{type:"text",placeholder:"Search nodes...",value:c,onChange:e=>d(e.target.value),className:"w-full bg-dark-bg border border-dark-border rounded-md py-2 pl-9 pr-3 text-sm text-dark-text-primary placeholder-dark-text-secondary focus:ring-2 focus:ring-brand-primary focus:outline-none transition"})]}),(0,Hn.jsxs)("div",{className:"flex-grow overflow-y-auto -mr-2 pr-2",children:[m.map((e=>(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("h3",{className:"text-xs font-bold uppercase text-dark-text-secondary tracking-wider mt-4 mb-2 px-1",children:e.name}),(0,Hn.jsx)("div",{className:"space-y-2",children:e.nodes.map((e=>(0,Hn.jsxs)("div",{title:e.description,className:"w-full flex items-center gap-3 p-2 rounded-md bg-dark-bg border border-transparent hover:bg-brand-primary/20 hover:border-brand-primary transition-all text-left group",children:[(0,Hn.jsxs)("button",{onClick:()=>t(e.type),className:"flex-grow flex items-center gap-3 text-left",children:[(0,Hn.jsx)("div",{className:"p-2 bg-dark-surface rounded-md text-brand-secondary group-hover:text-brand-primary",children:e.icon}),(0,Hn.jsx)("div",{children:(0,Hn.jsx)("p",{className:"font-medium text-dark-text-primary",children:e.label})})]}),(0,Hn.jsx)("button",{onClick:t=>{t.stopPropagation(),f(e.type)},className:"p-1 rounded-full text-dark-text-secondary/50 opacity-0 group-hover:opacity-100 hover:text-yellow-400 transition-opacity",title:p.includes(e.type)?"Remove from favorites":"Add to favorites",children:p.includes(e.type)?(0,Hn.jsx)(hh,{className:"w-4 h-4 text-yellow-400"}):(0,Hn.jsx)(fh,{className:"w-4 h-4"})})]},e.type)))})]},e.name))),0===m.length&&(0,Hn.jsx)("p",{className:"text-sm text-dark-text-secondary text-center mt-6",children:"No nodes found."})]})]})},Nf=e=>{let{group:t,onMouseDown:n,onToggleCollapse:r}=e;return(0,Hn.jsx)("div",{className:"absolute rounded-xl border-2 transition-all duration-300 z-0",style:{left:t.position.x,top:t.position.y,width:t.size.width,height:t.isCollapsed?"40px":t.size.height,borderColor:t.color,backgroundColor:"".concat(t.color,"1A")},children:(0,Hn.jsxs)("div",{className:"h-10 px-4 flex items-center justify-between rounded-t-lg cursor-move select-none",style:{backgroundColor:"".concat(t.color,"33")},onMouseDown:e=>n(e,t.id),children:[(0,Hn.jsx)("span",{className:"font-bold text-sm text-dark-text-primary pointer-events-none",children:t.label}),(0,Hn.jsx)("button",{onClick:e=>{e.stopPropagation(),e.preventDefault(),r(t.id)},className:"p-1 rounded-full hover:bg-black/20 text-dark-text-primary",title:t.isCollapsed?"Expand Group":"Collapse Group",children:t.isCollapsed?(0,Hn.jsx)(ph,{className:"w-5 h-5"}):(0,Hn.jsx)(dh,{className:"w-5 h-5"})})]})})},Af=e=>{let{nodes:t,edges:n,viewTransform:o,canvasDimensions:i,onPan:a}=e;const{bounds:s,minimapScale:l,minimapWidth:c,minimapHeight:d}=(0,r.useMemo)((()=>{if(0===t.length){const e=100;return{bounds:{minX:0,minY:0,maxX:e,maxY:e},minimapScale:1,minimapWidth:e,minimapHeight:e}}let e=1/0,n=1/0,r=-1/0,o=-1/0;t.forEach((t=>{e=Math.min(e,t.position.x),n=Math.min(n,t.position.y),r=Math.max(r,t.position.x+208),o=Math.max(o,t.position.y+80)}));const i={minX:e-50,minY:n-50,maxX:r+50,maxY:o+50},a=i.maxX-i.minX,s=i.maxY-i.minY,l=Math.min(200/a,200/s);return{bounds:i,minimapScale:l,minimapWidth:a*l,minimapHeight:s*l}}),[t]),p=(0,r.useMemo)((()=>{const e=i.width/o.scale,t=i.height/o.scale,n=-o.x/o.scale,r=-o.y/o.scale;return{x:(n-s.minX)*l,y:(r-s.minY)*l,width:e*l,height:t*l}}),[s,l,i,o]),h=(0,r.useCallback)((e=>{e.preventDefault(),e.stopPropagation();const t=e.currentTarget.getBoundingClientRect(),n=e.clientX,r=e.clientY,c=u({},o);if(!(e.target===e.currentTarget.querySelector("#viewport-rect"))){const n=e.clientX-t.left,r=e.clientY-t.top,c=n/l+s.minX,d=r/l+s.minY;a(u(u({},o),{},{x:-c*o.scale+i.width/2,y:-d*o.scale+i.height/2}))}const d=e=>{const t=e.clientX-n,i=e.clientY-r,s=-t/l*o.scale,d=-i/l*o.scale;a(u(u({},c),{},{x:c.x+s,y:c.y+d}))},p=()=>{window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",p)};window.addEventListener("mousemove",d),window.addEventListener("mouseup",p)}),[o,l,s,i,a]);return(0,Hn.jsx)("div",{className:"absolute bottom-4 left-4 bg-dark-surface/80 backdrop-blur-sm border border-dark-border rounded-md shadow-lg overflow-hidden z-10",style:{width:c,height:d},children:(0,Hn.jsxs)("svg",{width:c,height:d,viewBox:"0 0 ".concat(c," ").concat(d),onMouseDown:h,children:[(0,Hn.jsx)("g",{children:t.map((e=>{const t=(e.position.x-s.minX)*l,n=(e.position.y-s.minY)*l,r=208*l,o=80*l;let i="#4f46e5";return"TRIGGER"===e.type&&(i="#7c3aed"),"IF_CONDITION"===e.type&&(i="#db2777"),(0,Hn.jsx)("rect",{x:t,y:n,width:r,height:o,fill:i,opacity:"0.6",rx:"2"},e.id)}))}),(0,Hn.jsx)("rect",{id:"viewport-rect",x:p.x,y:p.y,width:p.width,height:p.height,fill:"rgba(255, 255, 255, 0.2)",stroke:"#f9fafb",strokeWidth:"1",className:"cursor-grab"})]})})},jf=e=>{let{onMouseDown:t,onMouseUp:n,className:r,title:o,colorClass:i="border-dark-border",isHighlighted:a}=e;return(0,Hn.jsx)("div",{title:o,className:"absolute w-3 h-3 bg-dark-surface border-2 rounded-full cursor-crosshair z-10 transition-transform ".concat(r," ").concat(i," ").concat(a?"scale-150 bg-brand-primary":""),onMouseDown:t,onMouseUp:n})},Of=e=>{var t;let{node:n,onClick:o,isSelected:i,onMouseDown:a,onDelete:s,onStartDrawingEdge:l,onMouseUpOnInput:c,isDrawingEdge:u,drawingEdgeSourceId:d,hoveredInputTargetId:p,onSetHoveredInputTarget:h,isExecuting:f,onOpenDelegationPanel:m,onAddComment:g,comments:y=[],executionLogs:v=[],nodes:x=[]}=e;const b=vf[n.type],w="LOOP_END"===n.type,k=n.warnings&&n.warnings.length>0,S=n.data.delegation&&n.data.delegation.delegationType!==uf,[E,C]=(0,r.useState)(!1),[T,N]=(0,r.useState)(!1),[A,j]=(0,r.useState)(""),[O,I]=(0,r.useState)(!1),_=(e,t)=>{e.stopPropagation(),l(n.id,t)},P=u&&n.id!==d,M=n.data.assignedTo||"Unassigned",R=n.data.priority||"MEDIUM",D=(n.data.estimatedDuration,n.data.requiredDocuments,n.data.todoItems||[]),L=(n.data.successCriteria,n.data.phase,n.data.text||n.data.commentText||"Add your comment here..."),F="TODO_LIST"===n.type?n.data.items||[]:D,U="TODO_LIST"===n.type?F.filter((e=>e.completed||!1)).length:0,V="TODO_LIST"===n.type?F.length:0,B="TODO_VIEW"===n.type?x.filter((e=>"TODO_LIST"===e.type)).flatMap((e=>e.data.items||[])).length:0;return(0,Hn.jsxs)("div",{className:"absolute w-52 p-3 rounded-lg shadow-xl transition-all duration-200 flex items-center gap-3 bg-dark-surface border ".concat(i?"border-brand-primary ring-2 ring-brand-primary/50":"border-dark-border hover:border-brand-secondary/50"," ").concat(w?"h-14":"COMMENT"===n.type||"TODO_VIEW"===n.type?"h-24":"h-20"," ").concat(f?"border-green-500 ring-2 ring-green-500/50 shadow-[0_0_15px_3px_rgba(74,222,128,0.7)]":""),style:{top:"".concat(n.position.y,"px"),left:"".concat(n.position.x,"px"),cursor:"pointer"},onClick:e=>{"COMMENT"===n.type?(e.stopPropagation(),I(!O)):o(n.id,e.shiftKey)},onMouseDown:e=>{e.target.closest("[title]")||a(e,n.id)},onMouseEnter:()=>P&&h(n.id),onMouseLeave:()=>P&&h(null),children:[i&&!f&&(0,Hn.jsx)("button",{onClick:e=>{e.stopPropagation(),s(n.id)},className:"absolute -top-2 -right-2 w-6 h-6 bg-red-600 rounded-full flex items-center justify-center text-white hover:bg-red-700 transition-colors z-20","aria-label":"Delete ".concat(n.label," node"),children:(0,Hn.jsx)(Fh,{className:"w-4 h-4"})}),k&&(0,Hn.jsxs)("div",{className:"absolute -top-2 -left-2 w-6 h-6 bg-yellow-500 rounded-full flex items-center justify-center text-dark-bg z-10 group",children:[(0,Hn.jsx)(Vh,{className:"w-4 h-4"}),(0,Hn.jsx)("div",{className:"absolute bottom-full mb-2 w-max max-w-xs bg-dark-bg text-white text-xs rounded py-1 px-2 pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity shadow-lg",children:(0,Hn.jsx)("ul",{className:"list-disc list-inside",children:null===(t=n.warnings)||void 0===t?void 0:t.map(((e,t)=>(0,Hn.jsx)("li",{children:e},t)))})})]}),S&&(0,Hn.jsxs)("div",{className:"absolute -top-2 -right-8 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-dark-bg z-10 group",children:[(0,Hn.jsx)(ah,{className:"w-3 h-3"}),(0,Hn.jsx)("div",{className:"absolute bottom-full mb-2 w-max max-w-xs bg-dark-bg text-white text-xs rounded py-1 px-2 pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity shadow-lg",children:n.data.delegation.delegationType===df?"Delegated to: ".concat(n.data.delegation.delegateToHuman.contactName||"Human"):"Delegated to: ".concat(n.data.delegation.delegateToAgent.agentName||"Agent")})]}),y.length>0&&(0,Hn.jsxs)("div",{className:"absolute -top-2 left-8 w-6 h-6 bg-purple-500 rounded-full flex items-center justify-center text-dark-bg z-10 group cursor-pointer",onClick:e=>{e.stopPropagation(),C(!E)},children:[(0,Hn.jsx)(sh,{className:"w-3 h-3"}),(0,Hn.jsxs)("div",{className:"absolute bottom-full mb-2 w-max max-w-xs bg-dark-bg text-white text-xs rounded py-1 px-2 pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity shadow-lg",children:[y.length," comment",1!==y.length?"s":""]})]}),v.length>0&&(0,Hn.jsxs)("div",{className:"absolute -top-2 left-16 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center text-dark-bg z-10 group cursor-pointer",onClick:e=>{e.stopPropagation(),N(!T)},children:[(0,Hn.jsx)(lh,{className:"w-3 h-3"}),(0,Hn.jsxs)("div",{className:"absolute bottom-full mb-2 w-max max-w-xs bg-dark-bg text-white text-xs rounded py-1 px-2 pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity shadow-lg",children:[v.length," execution log",1!==v.length?"s":""]})]}),i&&(0,Hn.jsx)("button",{onClick:e=>{e.stopPropagation(),m(n.id)},className:"absolute -top-2 -left-8 w-6 h-6 bg-indigo-600 rounded-full flex items-center justify-center text-white hover:bg-indigo-700 transition-colors z-20","aria-label":"Delegate ".concat(n.label," node"),children:(0,Hn.jsx)(ah,{className:"w-3 h-3"})}),(0,Hn.jsx)("div",{className:"flex-shrink-0 p-2 rounded-md ".concat(i||f?"text-brand-primary":"text-brand-secondary"),children:(null===b||void 0===b?void 0:b.icon)||(0,Hn.jsx)("div",{className:"w-6 h-6 bg-gray-500 rounded-md"})}),(0,Hn.jsxs)("div",{className:"overflow-hidden",children:[(0,Hn.jsx)("p",{className:"font-bold text-sm text-dark-text-primary truncate",children:n.label}),"COMMENT"===n.type?(0,Hn.jsx)("p",{className:"text-xs text-dark-text-secondary mt-1 truncate",children:L}):"TODO_VIEW"===n.type?(0,Hn.jsx)("div",{className:"mt-2",children:(0,Hn.jsxs)("div",{className:"text-center",children:[(0,Hn.jsx)("div",{className:"text-2xl font-bold text-brand-primary",children:B}),(0,Hn.jsx)("div",{className:"text-xs text-dark-text-secondary",children:"Total Tasks"})]})}):(0,Hn.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,Hn.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded ".concat({CRITICAL:"bg-red-500",HIGH:"bg-red-500",MEDIUM:"bg-yellow-500",LOW:"bg-green-500"}[R]," text-white"),children:R}),(0,Hn.jsx)("span",{className:"text-xs text-dark-text-secondary",children:M})]}),"TODO_LIST"===n.type&&V>0&&(0,Hn.jsxs)("div",{className:"mt-2",children:[(0,Hn.jsxs)("div",{className:"flex justify-between text-xs text-dark-text-secondary mb-1",children:[(0,Hn.jsxs)("span",{children:[U,"/",V," completed"]}),(0,Hn.jsxs)("span",{children:[Math.round(U/V*100),"%"]})]}),(0,Hn.jsx)("div",{className:"w-full bg-dark-bg rounded-full h-1.5",children:(0,Hn.jsx)("div",{className:"bg-brand-primary h-1.5 rounded-full",style:{width:"".concat(U/V*100,"%")}})})]})]}),"TRIGGER"!==n.type&&"COMMENT"!==n.type&&"TODO_VIEW"!==n.type&&(0,Hn.jsx)(jf,{title:"Input",className:"-left-1.5 top-1/2 -translate-y-1/2",onMouseUp:e=>{e.stopPropagation(),c(n.id)},isHighlighted:P&&p===n.id}),"IF_CONDITION"===n.type?(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(jf,{title:"True path",className:"-right-1.5 top-1/4 -translate-y-1/2",onMouseDown:e=>_(e,"true"),colorClass:"border-green-500 hover:ring-2 hover:ring-green-400"}),(0,Hn.jsx)(jf,{title:"False path",className:"-right-1.5 top-3/4 -translate-y-1/2",onMouseDown:e=>_(e,"false"),colorClass:"border-red-500 hover:ring-2 hover:ring-red-400"})]}):"LOOP_START"===n.type?(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(jf,{title:"Loop Body",className:"-right-1.5 top-1/4 -translate-y-1/2",onMouseDown:e=>_(e,"loopBody"),colorClass:"border-purple-400 hover:ring-2 hover:ring-purple-300"}),(0,Hn.jsx)(jf,{title:"After Loop",className:"-right-1.5 top-3/4 -translate-y-1/2",onMouseDown:e=>_(e,"afterLoop"),colorClass:"border-gray-500 hover:ring-2 hover:ring-gray-400"})]}):"LOOP_END"===n.type||"COMMENT"===n.type||"TODO_VIEW"===n.type?null:(0,Hn.jsx)(jf,{title:"Output",className:"-right-1.5 top-1/2 -translate-y-1/2",onMouseDown:_}),"COMMENT"===n.type&&O&&(0,Hn.jsxs)("div",{className:"absolute top-full left-0 mt-2 w-64 bg-dark-surface border border-dark-border rounded-lg shadow-lg z-30",onClick:e=>e.stopPropagation(),children:[(0,Hn.jsx)("div",{className:"p-3 border-b border-dark-border",children:(0,Hn.jsx)("h4",{className:"font-bold text-dark-text-primary",children:"Comment"})}),(0,Hn.jsxs)("div",{className:"p-3",children:[(0,Hn.jsx)("p",{className:"text-sm text-dark-text-primary whitespace-pre-wrap",children:L}),(0,Hn.jsxs)("p",{className:"text-xs text-dark-text-tertiary mt-2",children:[n.data.author&&"Author: ".concat(n.data.author),n.data.createdAt&&" \u2022 ".concat(new Date(n.data.createdAt).toLocaleString())]})]})]}),E&&(0,Hn.jsxs)("div",{className:"absolute top-full left-0 mt-2 w-64 bg-dark-surface border border-dark-border rounded-lg shadow-lg z-30",onClick:e=>e.stopPropagation(),children:[(0,Hn.jsx)("div",{className:"p-3 border-b border-dark-border",children:(0,Hn.jsx)("h4",{className:"font-bold text-dark-text-primary",children:"Comments"})}),(0,Hn.jsx)("div",{className:"max-h-40 overflow-y-auto p-3",children:y.length>0?(0,Hn.jsx)("ul",{className:"space-y-2",children:y.map(((e,t)=>(0,Hn.jsxs)("li",{className:"text-sm text-dark-text-secondary border-b border-dark-border pb-2 last:border-b-0",children:[(0,Hn.jsx)("p",{children:e.text}),(0,Hn.jsx)("p",{className:"text-xs text-dark-text-tertiary mt-1",children:new Date(e.timestamp).toLocaleString()})]},t)))}):(0,Hn.jsx)("p",{className:"text-sm text-dark-text-tertiary italic",children:"No comments yet"})}),(0,Hn.jsxs)("div",{className:"p-3 border-t border-dark-border",children:[(0,Hn.jsx)("textarea",{value:A,onChange:e=>j(e.target.value),placeholder:"Add a comment...",className:"w-full bg-dark-bg border border-dark-border rounded-md p-2 text-sm text-dark-text-primary focus:ring-1 focus:ring-brand-primary focus:outline-none transition mb-2",rows:"2"}),(0,Hn.jsx)("button",{onClick:e=>{e.stopPropagation(),A.trim()&&(g(n.id,A.trim()),j(""))},className:"px-3 py-1 bg-brand-primary text-white rounded-md hover:bg-brand-primary/90 transition-colors text-sm",children:"Add Comment"})]})]}),T&&(0,Hn.jsxs)("div",{className:"absolute top-full left-0 mt-2 w-64 bg-dark-surface border border-dark-border rounded-lg shadow-lg z-30",onClick:e=>e.stopPropagation(),children:[(0,Hn.jsx)("div",{className:"p-3 border-b border-dark-border",children:(0,Hn.jsx)("h4",{className:"font-bold text-dark-text-primary",children:"Execution Logs"})}),(0,Hn.jsx)("div",{className:"max-h-40 overflow-y-auto p-3",children:v.length>0?(0,Hn.jsx)("ul",{className:"space-y-2",children:v.map(((e,t)=>(0,Hn.jsxs)("li",{className:"text-sm text-dark-text-secondary border-b border-dark-border pb-2 last:border-b-0",children:[(0,Hn.jsx)("p",{className:"error"===e.type?"text-red-400":"success"===e.type?"text-green-400":"",children:e.message}),(0,Hn.jsx)("p",{className:"text-xs text-dark-text-tertiary mt-1",children:new Date(e.timestamp).toLocaleTimeString()})]},t)))}):(0,Hn.jsx)("p",{className:"text-sm text-dark-text-tertiary italic",children:"No execution logs yet"})})]})]})},If=20,_f=(e,t,n)=>{const r=u({},e.position),o=u({},t.position);r.x+=mf,o.x-=6,"IF_CONDITION"===e.type?r.y+="true"===n?20:60:"LOOP_START"===e.type?r.y+="loopBody"===n?20:60:r.y+=40,o.y+=40;const i=r,a=o,s=.6*Math.abs(a.x-i.x),l={x:i.x+s,y:i.y},c={x:a.x-s,y:a.y},d="M ".concat(i.x," ").concat(i.y," C ").concat(l.x," ").concat(l.y,", ").concat(c.x," ").concat(c.y,", ").concat(a.x," ").concat(a.y),p=.5,h={x:Math.pow(.5,3)*i.x+3*Math.pow(.5,2)*p*l.x+.375*c.x+Math.pow(p,3)*a.x,y:Math.pow(.5,3)*i.y+3*Math.pow(.5,2)*p*l.y+.375*c.y+Math.pow(p,3)*a.y};let f=null;return"IF_CONDITION"===e.type?("true"===n&&(f="True"),"false"===n&&(f="False")):"LOOP_START"===e.type&&("loopBody"===n&&(f="Loop Body"),"afterLoop"===n&&(f="After Loop")),{path:d,label:f,midPoint:h}},Pf=e=>{let{nodes:t,edges:n,groups:o,onNodeClick:i,onCanvasClick:a,onSelectNodes:s,selectedNodeIds:l,onNodePositionChange:c,onNodeDragStart:d,onNodeDragStop:p,onGroupPositionChange:h,onGroupDragStart:f,onGroupDragStop:m,onToggleGroupCollapse:g,onDeleteNode:y,onAddEdge:v,onExport:x,onImport:b,onUndo:w,onRedo:k,canUndo:S,canRedo:E,onRun:C,executionStatus:T,activeNodeId:N,onOpenDelegationPanel:A,onAddComment:j,nodeComments:O={},executionLogs:I=[],setState:_,onGroupNodes:P}=e;const M=(0,r.useRef)(null),[R,D]=(0,r.useState)({x:0,y:0,scale:1}),[L,F]=(0,r.useState)({width:0,height:0}),[U,V]=(0,r.useState)(null),[B,H]=(0,r.useState)(null),[z,W]=(0,r.useState)(null),[q,G]=(0,r.useState)(null),[Y,J]=(0,r.useState)(!0),[K,X]=(0,r.useState)(!1),$=(0,r.useRef)(!1);(0,r.useEffect)((()=>{const e=M.current;if(!e)return;const t=new ResizeObserver((e=>{for(let t of e)F({width:t.contentRect.width,height:t.contentRect.height})}));return t.observe(e),()=>t.disconnect()}),[]);const Q=(0,r.useCallback)((e=>{const n=M.current;if(n)if(e.altKey||1===e.button){e.preventDefault(),n.classList.add("select-none");const t={x:e.clientX,y:e.clientY},r=u({},R),o=e=>{const n=e.clientX-t.x,o=e.clientY-t.y;D(u(u({},r),{},{x:r.x+n,y:r.y+o}))},i=()=>{n.classList.remove("select-none"),window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",i)};window.addEventListener("mousemove",o),window.addEventListener("mouseup",i)}else if(e.target===e.currentTarget&&0===e.button){const r=n.getBoundingClientRect(),o=e.clientX-r.left,i=e.clientY-r.top;G({startX:o,startY:i,endX:o,endY:i});const l=e=>{if(!$.current){const t=Math.abs(e.clientX-r.left-o),a=Math.abs(e.clientY-r.top-i);(t>5||a>5)&&($.current=!0,n.classList.add("select-none"))}if($.current){const t=e.clientX-r.left,n=e.clientY-r.top;G((e=>e?u(u({},e),{},{endX:t,endY:n}):null))}},c=e=>{if(window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",c),n.classList.remove("select-none"),$.current&&q){const n={x:(Math.min(q.startX,q.endX)-R.x)/R.scale,y:(Math.min(q.startY,q.endY)-R.y)/R.scale},r={x:(Math.max(q.startX,q.endX)-R.x)/R.scale,y:(Math.max(q.startY,q.endY)-R.y)/R.scale},o=t.filter((e=>{const t=e.position.x,o=e.position.y,i=mf,a=gf;return n.x<t+i&&r.x>t&&n.y<o+a&&r.y>o})).map((e=>e.id));s(o,e.shiftKey)}else a();G(null),$.current=!1};window.addEventListener("mousemove",l),window.addEventListener("mouseup",c)}}),[R,a,s,t]),Z=(0,r.useCallback)((e=>{e.preventDefault();const{deltaY:t}=e,n=t<0?1.1*R.scale:R.scale/1.1,r=Math.max(.2,Math.min(2,n)),o=M.current.getBoundingClientRect(),i=e.clientX-o.left,a=e.clientY-o.top,s=(i-R.x)/R.scale,l=(a-R.y)/R.scale;D({scale:r,x:i-s*r,y:a-l*r})}),[R]),ee=(0,r.useCallback)(((e,n)=>{if(0!==e.button)return;const r=t.find((e=>e.id===n));if(!r)return;d(n),M.current.classList.add("select-none");const o=e.clientX/R.scale,i=e.clientY/R.scale;V({type:"node",id:n,offset:{x:o-r.position.x,y:i-r.position.y}})}),[t,R.scale,d]),te=(0,r.useCallback)(((e,t)=>{if(0!==e.button)return;const n=o.find((e=>e.id===t));if(!n)return;f(t),M.current.classList.add("select-none");const r=e.clientX/R.scale,i=e.clientY/R.scale;V({type:"group",id:t,offset:{x:r-n.position.x,y:i-n.position.y}})}),[o,R.scale,f]),ne=(0,r.useCallback)(((e,n,r)=>{const o=t.find((t=>t.id===e));if(!o)return;let i={x:o.position.x+208,y:o.position.y+40};"IF_CONDITION"===o.type?i.y=o.position.y+("true"===n?20:60):"LOOP_START"===o.type&&(i.y=o.position.y+("loopBody"===n?20:60)),H({sourceId:e,sourceHandle:n,startPos:i,endPos:i})}),[t]),re=(0,r.useCallback)((e=>{B&&(B.sourceId!==e&&v({source:B.sourceId,target:e,sourceHandle:B.sourceHandle}),H(null),W(null))}),[B,v]);(0,r.useEffect)((()=>{const e=e=>{if(U){const t=e.clientX/R.scale-U.offset.x,n=e.clientY/R.scale-U.offset.y,r=Math.round(t/If)*If,o=Math.round(n/If)*If;"node"===U.type?c(U.id,{x:r,y:o}):h(U.id,{x:r,y:o})}if(B){const t=M.current.getBoundingClientRect(),n=(e.clientX-t.left-R.x)/R.scale,r=(e.clientY-t.top-R.y)/R.scale;H((e=>e?u(u({},e),{},{endPos:{x:n,y:r}}):null))}},t=()=>{U&&("node"===U.type?p():m(),V(null),M.current.classList.remove("select-none")),B&&(H(null),W(null))};return(U||B)&&(window.addEventListener("mousemove",e),window.addEventListener("mouseup",t)),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t)}}),[U,c,p,h,m,R,B]);(0,r.useMemo)((()=>{const e=new Map(t.map((e=>[e.id,e])));return n.map((t=>{const n=e.get(t.source),r=e.get(t.target);if(!n||!r)return null;const{path:o,label:i,midPoint:a}=_f(n,r,t.sourceHandle);let s="#94a3b8";return"true"===t.sourceHandle&&(s="#22c55e"),"false"===t.sourceHandle&&(s="#ef4444"),"loopBody"===t.sourceHandle&&(s="#a855f7"),"afterLoop"===t.sourceHandle&&(s="#6b7280"),(0,Hn.jsxs)("g",{children:[(0,Hn.jsx)("path",{d:o,stroke:s,strokeWidth:"2",fill:"none",markerEnd:"url(#arrowhead)"}),i&&(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)("text",{x:a.x,y:a.y,textAnchor:"middle",dy:".3em",stroke:"#111827",strokeWidth:"4",strokeLinejoin:"round",style:{fontSize:"12px",fontWeight:"bold"},children:i}),(0,Hn.jsx)("text",{x:a.x,y:a.y,textAnchor:"middle",dy:".3em",fill:s,style:{fontSize:"12px",fontWeight:"bold"},children:i})]})]},t.id)})).filter(Boolean)}),[t,n]),(0,r.useMemo)((()=>{const e=t.filter((e=>"LOOP_START"===e.type)),n=t.filter((e=>"LOOP_END"===e.type)),r=[];if(e.length>0&&n.length>0)for(const t of n){const n=e.filter((e=>e.position.y<=t.position.y)).sort(((e,n)=>t.position.y-e.position.y));if(n.length>0){const e=n[0],o={x:e.position.x+104,y:e.position.y-6},i={x:t.position.x+104,y:t.position.y+56},a=i.y+40,s="M ".concat(i.x," ").concat(i.y," C ").concat(i.x," ").concat(a,", ").concat(o.x," ").concat(a,", ").concat(o.x," ").concat(o.y);r.push((0,Hn.jsx)("path",{d:s,stroke:"#6b7280",strokeWidth:"2",fill:"none",strokeDasharray:"5 5"},"loop-".concat(e.id,"-").concat(t.id)))}}return r}),[t]);const oe=(0,r.useMemo)((()=>new Set(o.filter((e=>e.isCollapsed)).flatMap((e=>e.nodeIds)))),[o]),ie=(0,r.useMemo)((()=>t.filter((e=>!oe.has(e.id)))),[t,oe]),ae=(0,r.useMemo)((()=>n.filter((e=>!oe.has(e.source)&&!oe.has(e.target)))),[n,oe]),se=(0,r.useMemo)((()=>o.filter((e=>!e.isCollapsed))),[o]),le=(0,r.useMemo)((()=>{const e=new Map;return t.forEach((t=>e.set(t.id,t))),e}),[t]),ce=(0,r.useMemo)((()=>{const e={};return I.forEach((t=>{t.nodeId&&(e[t.nodeId]||(e[t.nodeId]=[]),e[t.nodeId].push(t))})),e}),[I]);(0,r.useEffect)((()=>{const e=M.current;if(e)return e.addEventListener("wheel",Z,{passive:!1}),()=>{e.removeEventListener("wheel",Z)}}),[Z]),(0,r.useEffect)((()=>{const e=e=>{"Tab"===e.key&&e.ctrlKey&&(e.preventDefault(),J(!Y))};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[Y]);const ue=(0,r.useCallback)((e=>{e.preventDefault(),e.dataTransfer.dropEffect="copy",X(!0)}),[]),de=(0,r.useCallback)((e=>{var t;e.preventDefault(),null!==e.relatedTarget&&null!==(t=M.current)&&void 0!==t&&t.contains(e.relatedTarget)||X(!1)}),[]),pe=(0,r.useCallback)((async e=>{var t;e.preventDefault(),X(!1);const n=null===(t=e.dataTransfer.files)||void 0===t?void 0:t[0];if(n&&"application/json"===n.type)try{const e=await new Promise(((e,t)=>{const r=new FileReader;r.onload=t=>e(t.target.result),r.onerror=()=>t(new Error("Failed to read file.")),r.readAsText(n)})),t=JSON.parse(e);if(!t||"object"!==typeof t)throw new Error("Invalid file format. Expected a JSON object.");let r;if(Array.isArray(t.nodes)&&Array.isArray(t.edges))r=t;else if(r=t.workflow||t,!Array.isArray(r.nodes)||!Array.isArray(r.edges))throw new Error("Invalid workflow file structure. Missing nodes or edges.");const o=new CustomEvent("workflowImportDropped",{detail:{workflowData:r,fileName:n.name}});window.dispatchEvent(o)}catch(r){console.error("Failed to process dropped file:",r),alert("Failed to process file: ".concat(r.message))}else alert("Please drop a valid JSON file.")}),[]);return(0,Hn.jsxs)("div",{ref:M,className:"relative flex-1 overflow-hidden bg-dark-bg ".concat(K?"bg-dark-surface/50":""),style:{backgroundImage:"radial-gradient(circle, #334155 1px, transparent 1px)",backgroundSize:"".concat(If*R.scale,"px ").concat(If*R.scale,"px"),backgroundPosition:"".concat(R.x,"px ").concat(R.y,"px")},onMouseDown:Q,onWheel:Z,onDragOver:ue,onDragLeave:de,onDrop:pe,children:[K&&(0,Hn.jsx)("div",{className:"absolute inset-0 bg-brand-primary/20 border-2 border-dashed border-brand-primary flex items-center justify-center z-50 pointer-events-none",children:(0,Hn.jsxs)("div",{className:"bg-dark-surface p-6 rounded-lg shadow-xl text-center",children:[(0,Hn.jsx)(Gh,{className:"w-12 h-12 text-brand-primary mx-auto mb-4"}),(0,Hn.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Drop Workflow File"}),(0,Hn.jsx)("p",{className:"text-dark-text-secondary",children:"Drop a JSON workflow file to import it into a new workspace"})]})}),(0,Hn.jsxs)("div",{className:"absolute inset-0 origin-top-left",style:{transform:"translate(".concat(R.x,"px, ").concat(R.y,"px) scale(").concat(R.scale,")"),backgroundImage:"radial-gradient(circle, #374151 1px, transparent 1px)",backgroundSize:"".concat(If,"px ").concat(If,"px")},children:[(0,Hn.jsxs)("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",children:[(0,Hn.jsxs)("defs",{children:[(0,Hn.jsx)("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:(0,Hn.jsx)("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#94a3b8"})}),(0,Hn.jsx)("marker",{id:"arrowhead-green",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:(0,Hn.jsx)("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#22c55e"})}),(0,Hn.jsx)("marker",{id:"arrowhead-red",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:(0,Hn.jsx)("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#ef4444"})}),(0,Hn.jsx)("marker",{id:"arrowhead-purple",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:(0,Hn.jsx)("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#a855f7"})}),(0,Hn.jsx)("marker",{id:"arrowhead-gray",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:(0,Hn.jsx)("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#6b7280"})})]}),ae.map((e=>{const t=le.get(e.source),n=le.get(e.target);if(!t||!n)return null;const{path:r,label:o,midPoint:i}=_f(t,n,e.sourceHandle);let a="#94a3b8",s="arrowhead";return"true"===e.sourceHandle&&(a="#22c55e",s="arrowhead-green"),"false"===e.sourceHandle&&(a="#ef4444",s="arrowhead-red"),"loopBody"===e.sourceHandle&&(a="#a855f7",s="arrowhead-purple"),"afterLoop"===e.sourceHandle&&(a="#6b7280",s="arrowhead-gray"),(0,Hn.jsxs)("g",{children:[(0,Hn.jsx)("path",{d:r,stroke:a,strokeWidth:"2",fill:"none",markerEnd:"url(#".concat(s,")")}),o&&(0,Hn.jsx)("text",{x:i.x,y:i.y-5,textAnchor:"middle",className:"text-xs fill-slate-400 pointer-events-none select-none",style:{fontSize:"10px"},children:o})]},e.id)}))]}),se.map((e=>(0,Hn.jsx)(Nf,{group:e,isSelected:l.includes(e.id),onMouseDown:te,onToggleCollapse:()=>g(e.id)},e.id))),ie.map((e=>(0,Hn.jsx)(Of,{node:e,onClick:i,isSelected:l.includes(e.id),onMouseDown:ee,onDelete:y,onStartDrawingEdge:ne,onMouseUpOnInput:re,isDrawingEdge:!!B,drawingEdgeSourceId:(null===B||void 0===B?void 0:B.sourceId)||null,hoveredInputTargetId:z,onSetHoveredInputTarget:W,isExecuting:N===e.id,onOpenDelegationPanel:A,onAddComment:j,comments:O[e.id]||[],executionLogs:ce[e.id]||[],nodes:t},e.id))),0===t.length&&(0,Hn.jsxs)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center text-slate-400",children:[(0,Hn.jsx)("div",{className:"text-2xl font-bold mb-4",children:"Workflow Canvas"}),(0,Hn.jsx)("p",{className:"mb-2",children:"Describe your business plan in the header input to generate a workflow"}),(0,Hn.jsx)("p",{className:"text-sm",children:"Or add nodes manually from the sidebar"})]})]}),q&&(0,Hn.jsx)("div",{className:"absolute border border-emerald-500 bg-emerald-500/20 pointer-events-none",style:{left:Math.min(q.startX,q.endX),top:Math.min(q.startY,q.endY),width:Math.abs(q.startX-q.endX),height:Math.abs(q.startY-q.endY)}}),(0,Hn.jsx)(Af,{nodes:t,edges:n,viewTransform:R,canvasDimensions:L,onPan:D}),Y&&(0,Hn.jsxs)("div",{className:"absolute bottom-4 right-4 bg-slate-800/50 backdrop-blur-md p-1 rounded-md shadow-lg flex items-center gap-1 border border-slate-700/50 z-10 hidden sm:flex",children:[(0,Hn.jsx)("button",{onClick:C,disabled:"RUNNING"===T,title:"Run Workflow",className:"p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent",children:(0,Hn.jsx)(Kh,{className:"w-5 h-5"})}),(0,Hn.jsx)("div",{className:"w-px h-6 bg-slate-700 mx-1"}),(0,Hn.jsx)("button",{onClick:()=>{const e=t.map((e=>e.id));s(e,!1)},title:"Select All Nodes",className:"p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white",children:(0,Hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})})}),(0,Hn.jsx)("button",{onClick:()=>{l.length>1?P():alert("Please select at least 2 nodes to group")},title:"Group Selected Nodes",className:"p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white",children:(0,Hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),(0,Hn.jsx)("button",{onClick:()=>{window.confirm("Are you sure you want to clear the canvas?")&&_({nodes:[],edges:[],groups:[]})},title:"Clear Canvas",className:"p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white",children:(0,Hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),(0,Hn.jsx)("button",{onClick:()=>{if(t.length>0){const e=t.filter((e=>!["TODO_LIST","TODO_VIEW"].includes(e.type))),n=t.filter((e=>"TODO_LIST"===e.type));t.filter((e=>"TODO_VIEW"===e.type));let r=1/0,o=1/0,i=-1/0,a=-1/0;e.length>0&&e.forEach((e=>{r=Math.min(r,e.position.x),o=Math.min(o,e.position.y),i=Math.max(i,e.position.x+mf),a=Math.max(a,e.position.y+gf)}));const s=150;if(r=e.length>0?r-s:0,o=e.length>0?o-s:0,i=e.length>0?i+s:mf+s,a=e.length>0?a+s:gf+s,n.length>0){let e=1/0,t=-1/0;n.forEach((n=>{e=Math.min(e,n.position.y),t=Math.max(t,n.position.y+gf)})),a=Math.max(a,t+s)}const l=i-r,c=a-o,u=L.width/l,d=L.height/c,p=Math.min(u,d,1),h=(r+i)/2,f=(o+a)/2,m=L.width/2-h*p,g=L.height/2-f*p;D({x:m,y:g,scale:p})}},title:"Fit View",className:"p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white",children:(0,Hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 0h-4m4 0l-5-5"})})}),(0,Hn.jsx)("div",{className:"w-px h-6 bg-slate-700 mx-1"}),(0,Hn.jsx)("button",{onClick:w,disabled:!S,title:"Undo (Ctrl+Z)",className:"p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent",children:(0,Hn.jsx)(Yh,{className:"w-5 h-5"})}),(0,Hn.jsx)("button",{onClick:k,disabled:!E,title:"Redo (Ctrl+Y)",className:"p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent",children:(0,Hn.jsx)(Jh,{className:"w-5 h-5"})}),(0,Hn.jsx)("div",{className:"w-px h-6 bg-slate-700 mx-1"}),(0,Hn.jsx)("button",{onClick:()=>D((e=>u(u({},e),{},{scale:Math.min(2,1.2*e.scale)}))),className:"p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white",children:(0,Hn.jsx)(Hh,{className:"w-5 h-5"})}),(0,Hn.jsxs)("span",{className:"text-xs font-mono text-slate-400 w-10 text-center",children:[(100*R.scale).toFixed(0),"%"]}),(0,Hn.jsx)("button",{onClick:()=>D((e=>u(u({},e),{},{scale:Math.max(.2,e.scale/1.2)}))),className:"p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white",children:(0,Hn.jsx)(zh,{className:"w-5 h-5"})}),(0,Hn.jsx)("button",{onClick:()=>D({x:0,y:0,scale:1}),className:"p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white",children:(0,Hn.jsx)(Wh,{className:"w-5 h-5"})}),(0,Hn.jsx)("div",{className:"w-px h-6 bg-slate-700 mx-1"}),(0,Hn.jsx)("button",{onClick:b,title:"Import Workflow",className:"p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white",children:(0,Hn.jsx)(Gh,{className:"w-5 h-5"})}),(0,Hn.jsx)("button",{onClick:x,title:"Export Workflow",className:"p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white",children:(0,Hn.jsx)(qh,{className:"w-5 h-5"})})]}),(0,Hn.jsx)("button",{onClick:()=>J(!Y),className:"absolute bottom-4 right-4 bg-slate-800/50 backdrop-blur-md p-1.5 rounded-md shadow-lg border border-slate-700/50 z-10 sm:hidden hover:bg-slate-700 text-slate-300 hover:text-white",title:Y?"Hide Controls":"Show Controls",children:(0,Hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})}),Y&&(0,Hn.jsxs)("div",{className:"absolute bottom-4 right-4 bg-slate-800/50 backdrop-blur-md p-1 rounded-md shadow-lg flex items-center gap-1 border border-slate-700/50 z-10 sm:hidden",children:[(0,Hn.jsx)("button",{onClick:C,disabled:"RUNNING"===T,title:"Run Workflow",className:"p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent",children:(0,Hn.jsx)(Kh,{className:"w-5 h-5"})}),(0,Hn.jsx)("div",{className:"w-px h-6 bg-slate-700 mx-1"}),(0,Hn.jsx)("button",{onClick:()=>{const e=t.map((e=>e.id));s(e,!1)},title:"Select All Nodes",className:"p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white",children:(0,Hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})})}),(0,Hn.jsx)("button",{onClick:()=>{l.length>1?P():alert("Please select at least 2 nodes to group")},title:"Group Selected Nodes",className:"p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white",children:(0,Hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),(0,Hn.jsx)("button",{onClick:()=>{window.confirm("Are you sure you want to clear the canvas?")&&_({nodes:[],edges:[],groups:[]})},title:"Clear Canvas",className:"p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white",children:(0,Hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),(0,Hn.jsx)("button",{onClick:()=>{if(t.length>0){const e=t.filter((e=>!["TODO_LIST","TODO_VIEW"].includes(e.type))),n=t.filter((e=>"TODO_LIST"===e.type));t.filter((e=>"TODO_VIEW"===e.type));let r=1/0,o=1/0,i=-1/0,a=-1/0;e.length>0&&e.forEach((e=>{r=Math.min(r,e.position.x),o=Math.min(o,e.position.y),i=Math.max(i,e.position.x+mf),a=Math.max(a,e.position.y+gf)}));const s=150;if(r=e.length>0?r-s:0,o=e.length>0?o-s:0,i=e.length>0?i+s:mf+s,a=e.length>0?a+s:gf+s,n.length>0){let e=1/0,t=-1/0;n.forEach((n=>{e=Math.min(e,n.position.y),t=Math.max(t,n.position.y+gf)})),a=Math.max(a,t+s)}const l=i-r,c=a-o,u=L.width/l,d=L.height/c,p=Math.min(u,d,1),h=(r+i)/2,f=(o+a)/2,m=L.width/2-h*p,g=L.height/2-f*p;D({x:m,y:g,scale:p})}},title:"Fit View",className:"p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white",children:(0,Hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 0h-4m4 0l-5-5"})})}),(0,Hn.jsx)("div",{className:"w-px h-6 bg-slate-700 mx-1"}),(0,Hn.jsx)("button",{onClick:w,disabled:!S,title:"Undo",className:"p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent",children:(0,Hn.jsx)(Yh,{className:"w-5 h-5"})}),(0,Hn.jsx)("button",{onClick:k,disabled:!E,title:"Redo",className:"p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent",children:(0,Hn.jsx)(Jh,{className:"w-5 h-5"})}),(0,Hn.jsx)("div",{className:"w-px h-6 bg-slate-700 mx-1"}),(0,Hn.jsx)("button",{onClick:b,title:"Import Workflow",className:"p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white",children:(0,Hn.jsx)(Gh,{className:"w-5 h-5"})}),(0,Hn.jsx)("button",{onClick:x,title:"Export Workflow",className:"p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white",children:(0,Hn.jsx)(qh,{className:"w-5 h-5"})})]}),Y&&(0,Hn.jsxs)("div",{className:"absolute bottom-20 right-4 bg-slate-800/50 backdrop-blur-md p-1 rounded-md shadow-lg flex flex-col items-center gap-1 border border-slate-700/50 z-10 sm:hidden",children:[(0,Hn.jsx)("button",{onClick:()=>D((e=>u(u({},e),{},{scale:Math.min(2,1.2*e.scale)}))),className:"p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white",children:(0,Hn.jsx)(Hh,{className:"w-5 h-5"})}),(0,Hn.jsxs)("span",{className:"text-xs font-mono text-slate-400 w-10 text-center",children:[(100*R.scale).toFixed(0),"%"]}),(0,Hn.jsx)("button",{onClick:()=>D((e=>u(u({},e),{},{scale:Math.max(.2,e.scale/1.2)}))),className:"p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white",children:(0,Hn.jsx)(zh,{className:"w-5 h-5"})}),(0,Hn.jsx)("button",{onClick:()=>D({x:0,y:0,scale:1}),className:"p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white",children:(0,Hn.jsx)(Wh,{className:"w-5 h-5"})})]})]})},Mf=e=>{let{label:t,value:n,onChange:r,isTextarea:o}=e;return(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("label",{className:"block text-sm font-medium text-dark-text-secondary mb-1",children:t}),o?(0,Hn.jsx)("textarea",{value:n,onChange:r,rows:8,className:"w-full bg-dark-bg border border-dark-border rounded-md p-2 text-sm text-dark-text-primary focus:ring-1 focus:ring-brand-primary focus:outline-none transition font-mono"}):(0,Hn.jsx)("input",{type:"text",value:n,onChange:r,className:"w-full bg-dark-bg border border-dark-border rounded-md p-2 text-sm text-dark-text-primary focus:ring-1 focus:ring-brand-primary focus:outline-none transition"})]})},Rf=e=>{let{value:t,onChange:n,credentials:r,type:o}=e;const i=r.filter((e=>e.type===o));return(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("label",{className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Credential"}),(0,Hn.jsxs)("select",{value:t,onChange:n,className:"w-full bg-dark-bg border border-dark-border rounded-md p-2 text-sm text-dark-text-primary focus:ring-1 focus:ring-brand-primary focus:outline-none transition",children:[(0,Hn.jsx)("option",{value:"",children:"Select a credential..."}),i.map((e=>(0,Hn.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})},Df=e=>{let{node:t,selectedCount:n,onClose:r,onUpdate:o,credentials:i,onOpenCredentialsModal:a,isMobile:s,isSettingsOpen:l,setIsSettingsOpen:c}=e;if(s)return l?(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 sm:hidden",onClick:()=>c(!1)}),(0,Hn.jsxs)("aside",{className:"fixed top-0 right-0 h-full bg-dark-surface border-l border-dark-border p-6 z-50 flex flex-col transition-transform duration-300 ease-in-out sm:hidden",style:{width:"90%",maxWidth:"320px"},children:[(0,Hn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Hn.jsx)("h2",{className:"text-lg font-semibold text-dark-text-primary",children:"Settings"}),(0,Hn.jsx)("button",{onClick:()=>c(!1),className:"p-2 rounded-md text-dark-text-secondary hover:bg-dark-bg",children:(0,Hn.jsx)(Uh,{className:"w-5 h-5"})})]}),d()]})]}):null;function d(){if(n>1)return(0,Hn.jsx)("div",{className:"flex items-center justify-center text-center h-full",children:(0,Hn.jsxs)("div",{children:[(0,Hn.jsxs)("p",{className:"font-bold text-lg text-dark-text-primary",children:[n," nodes selected"]}),(0,Hn.jsx)("p",{className:"text-sm text-dark-text-secondary mt-2",children:"Multi-edit is not supported. Please select a single node to view its settings."})]})});if(!t)return(0,Hn.jsx)("div",{className:"flex items-center justify-center text-center h-full",children:(0,Hn.jsx)("p",{className:"text-dark-text-secondary",children:"Select a node to view its settings."})});const e=vf[t.type],r=(e,n)=>{o(t.id,{data:u(u({},t.data),{},{[e]:n})})};return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,Hn.jsx)("span",{className:"text-brand-secondary",children:(null===e||void 0===e?void 0:e.icon)||(0,Hn.jsx)("div",{className:"w-6 h-6 bg-gray-500 rounded-md"})}),(0,Hn.jsx)("h3",{className:"text-lg font-bold text-dark-text-primary",children:t.label})]}),(0,Hn.jsxs)("div",{className:"flex-grow overflow-y-auto space-y-4 -mr-2 pr-2",children:[(0,Hn.jsx)(Mf,{label:"Node Label",value:t.label,onChange:e=>o(t.id,{label:e.target.value})}),Object.entries(t.data).map((e=>{let[n,o]=e;const a=n.charAt(0).toUpperCase()+n.slice(1).replace(/([A-Z])/g," $1");if("credentialId"===n){let e=null;if("CONNECT_API"===t.type&&(e="API_KEY"),"QUERY_DATABASE"===t.type&&(e="DATABASE"),e)return(0,Hn.jsx)(Rf,{value:o,onChange:e=>r(n,e.target.value),credentials:i,type:e},n)}return"method"===n?(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("label",{className:"block text-sm font-medium text-dark-text-secondary mb-1",children:a}),(0,Hn.jsxs)("select",{value:o,onChange:e=>r(n,e.target.value),className:"w-full bg-dark-bg border border-dark-border rounded-md p-2 text-sm text-dark-text-primary focus:ring-1 focus:ring-brand-primary focus:outline-none transition",children:[(0,Hn.jsx)("option",{value:"GET",children:"GET"}),(0,Hn.jsx)("option",{value:"POST",children:"POST"}),(0,Hn.jsx)("option",{value:"PUT",children:"PUT"}),(0,Hn.jsx)("option",{value:"DELETE",children:"DELETE"}),(0,Hn.jsx)("option",{value:"PATCH",children:"PATCH"})]})]},n):(0,Hn.jsx)(Mf,{label:a,value:o,onChange:e=>r(n,e.target.value),isTextarea:["body","content","code","query","headers"].includes(n)},n)}))]}),(0,Hn.jsx)("div",{className:"flex-shrink-0 pt-4 mt-4 border-t border-dark-border",children:(0,Hn.jsxs)("button",{onClick:a,className:"w-full flex items-center justify-center gap-2 py-2 px-4 rounded-md bg-dark-bg border border-dark-border text-dark-text-secondary hover:text-white hover:border-brand-secondary transition-colors",children:[(0,Hn.jsx)(Bh,{className:"w-5 h-5"}),(0,Hn.jsx)("span",{children:"Manage Credentials"})]})})]})}return n>1?(0,Hn.jsx)("aside",{className:"w-80 bg-dark-surface border-l border-dark-border flex-shrink-0 p-6 flex items-center justify-center text-center hidden sm:flex",children:(0,Hn.jsxs)("div",{children:[(0,Hn.jsxs)("p",{className:"font-bold text-lg text-dark-text-primary",children:[n," nodes selected"]}),(0,Hn.jsx)("p",{className:"text-sm text-dark-text-secondary mt-2",children:"Multi-edit is not supported. Please select a single node to view its settings."})]})}):t?(0,Hn.jsx)("aside",{className:"w-80 bg-dark-surface border-l border-dark-border flex-shrink-0 p-6 z-20 flex flex-col hidden sm:flex",children:d()}):(0,Hn.jsx)("aside",{className:"w-80 bg-dark-surface border-l border-dark-border flex-shrink-0 p-6 flex items-center justify-center text-center hidden sm:flex",children:(0,Hn.jsx)("p",{className:"text-dark-text-secondary",children:"Select a node to view its settings."})})},Lf=e=>{let{onAddCredential:t}=e;const[n,o]=(0,r.useState)(""),[i,a]=(0,r.useState)("API_KEY"),[s,l]=(0,r.useState)({apiKey:""}),c=(e,t)=>{l((n=>u(u({},n),{},{[e]:t})))};return(0,Hn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n.trim()&&(t(n,i,s),o(""),a("API_KEY"),l({apiKey:""}))},className:"p-4 border border-dark-border rounded-lg bg-dark-bg space-y-4",children:[(0,Hn.jsx)("h3",{className:"text-lg font-semibold text-dark-text-primary",children:"Add New Credential"}),(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("label",{className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Name"}),(0,Hn.jsx)("input",{type:"text",value:n,onChange:e=>o(e.target.value),placeholder:"e.g., My Production DB",required:!0,className:"w-full bg-dark-surface border border-dark-border rounded-md p-2 text-sm text-dark-text-primary focus:ring-1 focus:ring-brand-primary focus:outline-none transition"})]}),(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("label",{className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Type"}),(0,Hn.jsxs)("select",{value:i,onChange:e=>{const t=e.target.value;a(t),"API_KEY"===t?l({apiKey:""}):"DATABASE"===t&&l({host:"",user:"",password:"",database:""})},className:"w-full bg-dark-surface border border-dark-border rounded-md p-2 text-sm text-dark-text-primary focus:ring-1 focus:ring-brand-primary focus:outline-none transition",children:[(0,Hn.jsx)("option",{value:"API_KEY",children:"API Key"}),(0,Hn.jsx)("option",{value:"DATABASE",children:"Database"})]})]}),"API_KEY"===i&&(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("label",{className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"API Key"}),(0,Hn.jsx)("input",{type:"password",value:s.apiKey||"",onChange:e=>c("apiKey",e.target.value),required:!0,className:"w-full bg-dark-surface border border-dark-border rounded-md p-2 text-sm text-dark-text-primary focus:ring-1 focus:ring-brand-primary focus:outline-none transition"})]}),"DATABASE"===i&&(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("label",{className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Host"}),(0,Hn.jsx)("input",{type:"text",value:s.host||"",onChange:e=>c("host",e.target.value),required:!0,className:"w-full bg-dark-surface border border-dark-border rounded-md p-2 text-sm text-dark-text-primary focus:ring-1 focus:ring-brand-primary focus:outline-none transition"})]}),(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("label",{className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"User"}),(0,Hn.jsx)("input",{type:"text",value:s.user||"",onChange:e=>c("user",e.target.value),required:!0,className:"w-full bg-dark-surface border border-dark-border rounded-md p-2 text-sm text-dark-text-primary focus:ring-1 focus:ring-brand-primary focus:outline-none transition"})]}),(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("label",{className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Password"}),(0,Hn.jsx)("input",{type:"password",value:s.password||"",onChange:e=>c("password",e.target.value),required:!0,className:"w-full bg-dark-surface border border-dark-border rounded-md p-2 text-sm text-dark-text-primary focus:ring-1 focus:ring-brand-primary focus:outline-none transition"})]}),(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("label",{className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Database"}),(0,Hn.jsx)("input",{type:"text",value:s.database||"",onChange:e=>c("database",e.target.value),required:!0,className:"w-full bg-dark-surface border border-dark-border rounded-md p-2 text-sm text-dark-text-primary focus:ring-1 focus:ring-brand-primary focus:outline-none transition"})]})]}),(0,Hn.jsx)("button",{type:"submit",className:"w-full py-2 px-4 rounded-md bg-brand-primary text-white font-semibold hover:bg-brand-primary/90 transition-colors",children:"Add Credential"})]})},Ff=e=>{let{isOpen:t,onClose:n,credentials:r,onAddCredential:o,onDeleteCredential:i}=e;return t?(0,Hn.jsx)("div",{className:"fixed inset-0 bg-black/60 z-40 flex items-center justify-center",onClick:n,children:(0,Hn.jsxs)("div",{className:"bg-dark-surface rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",onClick:e=>e.stopPropagation(),children:[(0,Hn.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-dark-border flex-shrink-0",children:[(0,Hn.jsx)("h2",{className:"text-xl font-bold text-dark-text-primary",children:"Manage Credentials"}),(0,Hn.jsx)("button",{onClick:n,className:"p-1 rounded-full hover:bg-dark-bg text-dark-text-secondary hover:text-white",children:(0,Hn.jsx)(Uh,{className:"w-5 h-5"})})]}),(0,Hn.jsxs)("div",{className:"flex-grow p-4 overflow-y-auto grid grid-cols-2 gap-6",children:[(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("h3",{className:"text-lg font-semibold text-dark-text-primary mb-3",children:"Saved Credentials"}),0===r.length?(0,Hn.jsx)("p",{className:"text-sm text-dark-text-secondary",children:"No credentials saved yet."}):(0,Hn.jsx)("ul",{className:"space-y-2",children:r.map((e=>(0,Hn.jsxs)("li",{className:"flex items-center justify-between p-2 bg-dark-bg rounded-md",children:[(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("p",{className:"font-medium text-dark-text-primary",children:e.name}),(0,Hn.jsx)("p",{className:"text-xs text-dark-text-secondary",children:e.type})]}),(0,Hn.jsx)("button",{onClick:()=>i(e.id),className:"p-1 text-red-500 hover:text-red-400",children:(0,Hn.jsx)(Fh,{className:"w-4 h-4"})})]},e.id)))})]}),(0,Hn.jsx)("div",{children:(0,Hn.jsx)(Lf,{onAddCredential:o})})]})]})}):null},Uf=(0,r.memo)((e=>{let{log:t}=e;return(0,Hn.jsxs)("div",{className:"flex items-start text-sm font-mono",children:[(0,Hn.jsx)("span",{className:"text-gray-500 mr-4",children:new Date(t.timestamp).toLocaleTimeString()}),(0,Hn.jsx)("span",{className:"flex-shrink-0 mr-4 ".concat((()=>{switch(t.type){case"error":return"text-red-400";case"success":return"text-green-400";case"log":return"text-cyan-400";default:return"text-dark-text-secondary"}})()),children:t.type.toUpperCase()}),(0,Hn.jsx)("p",{className:"flex-grow whitespace-pre-wrap text-dark-text-primary",children:t.message})]})})),Vf=e=>{let{logs:t,status:n}=e;const[o,i]=(0,r.useState)(!0),a=(0,r.useRef)(null);(0,r.useEffect)((()=>{n===sf&&i(!1),a.current&&(a.current.scrollTop=a.current.scrollHeight)}),[t,n]);return n===af&&0===t.length?null:(0,Hn.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-dark-surface/90 backdrop-blur-sm border-t border-dark-border z-30 transition-all duration-300 ".concat(o?"h-12":"h-1/3"),children:[(0,Hn.jsxs)("div",{className:"flex items-center justify-between px-4 h-12 cursor-pointer",onClick:()=>i(!o),children:[(0,Hn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Hn.jsx)("h3",{className:"font-bold text-dark-text-primary",children:"Execution Logs"}),(0,Hn.jsx)("div",{className:"text-sm font-semibold",children:(()=>{switch(n){case sf:return(0,Hn.jsxs)("div",{className:"flex items-center gap-2 text-yellow-400",children:[(0,Hn.jsxs)("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Hn.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Hn.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,Hn.jsx)("span",{children:"Running..."})]});case lf:return(0,Hn.jsx)("span",{className:"text-green-400",children:"Finished Successfully"});case cf:return(0,Hn.jsx)("span",{className:"text-red-400",children:"Failed"});default:return(0,Hn.jsx)("span",{className:"text-dark-text-secondary",children:"Idle"})}})()})]}),(0,Hn.jsx)("button",{className:"p-1 rounded-full hover:bg-dark-bg",children:o?(0,Hn.jsx)(dh,{className:"w-5 h-5"}):(0,Hn.jsx)(ph,{className:"w-5 h-5"})})]}),!o&&(0,Hn.jsx)("div",{ref:a,className:"h-[calc(100%-3rem)] overflow-y-auto p-4 bg-dark-bg",children:(0,Hn.jsx)("div",{className:"space-y-2",children:t.map(((e,t)=>(0,Hn.jsx)(Uf,{log:e},t)))})})]})};function Bf(e,t){this.v=e,this.k=t}function Hf(e){return new Bf(e,0)}function zf(e){var t,n;function r(t,n){try{var i=e[t](n),a=i.value,s=a instanceof Bf;Promise.resolve(s?a.v:a).then((function(n){if(s){var l="return"===t?"return":"next";if(!a.k||n.done)return r(l,n);n=e[l](n).value}o(i.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){o("throw",e)}}function o(e,o){switch(e){case"return":t.resolve({value:o,done:!0});break;case"throw":t.reject(o);break;default:t.resolve({value:o,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,o){return new Promise((function(i,a){var s={key:e,arg:o,resolve:i,reject:a,next:null};n?n=n.next=s:(t=n=s,r(e,o))}))},"function"!=typeof e.return&&(this.return=void 0)}let Wf,qf;function Gf(e,t,n,r){var o,i;if(!(null===e||void 0===e?void 0:e.baseUrl)){const e={geminiUrl:Wf,vertexUrl:qf};return t?null!==(o=e.vertexUrl)&&void 0!==o?o:n:null!==(i=e.geminiUrl)&&void 0!==i?i:r}return e.baseUrl}zf.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},zf.prototype.next=function(e){return this._invoke("next",e)},zf.prototype.throw=function(e){return this._invoke("throw",e)},zf.prototype.return=function(e){return this._invoke("return",e)};class Yf{}function Jf(e,t){return e.replace(/\{([^}]+)\}/g,((e,n)=>{if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n];return void 0!==e&&null!==e?String(e):""}throw new Error("Key '".concat(n,"' not found in valueMap."))}))}function Kf(e,t,n){for(let i=0;i<t.length-1;i++){const r=t[i];if(r.endsWith("[]")){const o=r.slice(0,-2);if(!(o in e)){if(!Array.isArray(n))throw new Error("Value must be a list given an array path ".concat(r));e[o]=Array.from({length:n.length},(()=>({})))}if(Array.isArray(e[o])){const r=e[o];if(Array.isArray(n))for(let e=0;e<r.length;e++){Kf(r[e],t.slice(i+1),n[e])}else for(const e of r)Kf(e,t.slice(i+1),n)}return}if(r.endsWith("[0]")){const o=r.slice(0,-3);o in e||(e[o]=[{}]);return void Kf(e[o][0],t.slice(i+1),n)}e[r]&&"object"===typeof e[r]||(e[r]={}),e=e[r]}const r=t[t.length-1],o=e[r];if(void 0!==o){if(!n||"object"===typeof n&&0===Object.keys(n).length)return;if(n===o)return;if("object"!==typeof o||"object"!==typeof n||null===o||null===n)throw new Error("Cannot set value for an existing key. Key: ".concat(r));Object.assign(o,n)}else e[r]=n}function Xf(e,t){try{if(1===t.length&&"_self"===t[0])return e;for(let n=0;n<t.length;n++){if("object"!==typeof e||null===e)return;const r=t[n];if(r.endsWith("[]")){const o=r.slice(0,-2);if(o in e){const r=e[o];if(!Array.isArray(r))return;return r.map((e=>Xf(e,t.slice(n+1))))}return}e=e[r]}return e}catch(n){if(n instanceof TypeError)return;throw n}}function $f(e){if("string"!==typeof e)throw new Error("fromImageBytes must be a string");return e}var Qf,Zf,em,tm,nm,rm,om,im,am,sm,lm,cm,um,dm,pm,hm,fm,mm,gm,ym,vm,xm,bm,wm,km,Sm,Em,Cm,Tm,Nm,Am,jm,Om,Im,_m,Pm,Mm,Rm,Dm,Lm,Fm,Um,Vm,Bm,Hm,zm,Wm;!function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"}(Qf||(Qf={})),function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"}(Zf||(Zf={})),function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"}(em||(em={})),function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"}(tm||(tm={})),function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"}(nm||(nm={})),function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"}(rm||(rm={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(om||(om={})),function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"}(im||(im={})),function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"}(am||(am={})),function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"}(sm||(sm={})),function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"}(lm||(lm={})),function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"}(cm||(cm={})),function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"}(um||(um={})),function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY"}(dm||(dm={})),function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"}(pm||(pm={})),function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"}(hm||(hm={})),function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"}(fm||(fm={})),function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"}(mm||(mm={})),function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"}(gm||(gm={})),function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"}(ym||(ym={})),function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"}(vm||(vm={})),function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"}(xm||(xm={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(bm||(bm={})),function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"}(wm||(wm={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"}(km||(km={})),function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"}(Sm||(Sm={})),function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"}(Em||(Em={})),function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"}(Cm||(Cm={})),function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"}(Tm||(Tm={})),function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"}(Nm||(Nm={})),function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"}(Am||(Am={})),function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"}(jm||(jm={})),function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"}(Om||(Om={})),function(e){e.ASSET="ASSET",e.STYLE="STYLE"}(Im||(Im={})),function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"}(_m||(_m={})),function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"}(Pm||(Pm={})),function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"}(Mm||(Mm={})),function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"}(Rm||(Rm={})),function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"}(Dm||(Dm={})),function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"}(Lm||(Lm={})),function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"}(Fm||(Fm={})),function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"}(Um||(Um={})),function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"}(Vm||(Vm={})),function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"}(Bm||(Bm={})),function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"}(Hm||(Hm={})),function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"}(zm||(zm={}));class qm{constructor(e){const t={};for(const n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class Gm{get text(){var e,t,n,r,o,i,a,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let l="",c=!1;const u=[];for(const d of null!==(s=null===(a=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===a?void 0:a.parts)&&void 0!==s?s:[]){for(const[e,t]of Object.entries(d))"text"===e||"thought"===e||null===t&&void 0===t||u.push(e);if("string"===typeof d.text){if("boolean"===typeof d.thought&&d.thought)continue;c=!0,l+=d.text}}return u.length>0&&console.warn("there are non-text parts ".concat(u," in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.")),c?l:void 0}get data(){var e,t,n,r,o,i,a,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let l="";const c=[];for(const u of null!==(s=null===(a=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===a?void 0:a.parts)&&void 0!==s?s:[]){for(const[e,t]of Object.entries(u))"inlineData"===e||null===t&&void 0===t||c.push(e);u.inlineData&&"string"===typeof u.inlineData.data&&(l+=atob(u.inlineData.data))}return c.length>0&&console.warn("there are non-data parts ".concat(c," in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.")),l.length>0?btoa(l):void 0}get functionCalls(){var e,t,n,r,o,i,a,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const l=null===(s=null===(a=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===a?void 0:a.parts)||void 0===s?void 0:s.filter((e=>e.functionCall)).map((e=>e.functionCall)).filter((e=>void 0!==e));return 0!==(null===l||void 0===l?void 0:l.length)?l:void 0}get executableCode(){var e,t,n,r,o,i,a,s,l;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=null===(s=null===(a=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===a?void 0:a.parts)||void 0===s?void 0:s.filter((e=>e.executableCode)).map((e=>e.executableCode)).filter((e=>void 0!==e));return 0!==(null===c||void 0===c?void 0:c.length)?null===(l=null===c||void 0===c?void 0:c[0])||void 0===l?void 0:l.code:void 0}get codeExecutionResult(){var e,t,n,r,o,i,a,s,l;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=null===(s=null===(a=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===a?void 0:a.parts)||void 0===s?void 0:s.filter((e=>e.codeExecutionResult)).map((e=>e.codeExecutionResult)).filter((e=>void 0!==e));return 0!==(null===c||void 0===c?void 0:c.length)?null===(l=null===c||void 0===c?void 0:c[0])||void 0===l?void 0:l.output:void 0}}class Ym{}class Jm{}class Km{}class Xm{}class $m{}class Qm{}class Zm{}class eg{}class tg{}class ng{}class rg{}class og{_fromAPIResponse(e){let{apiResponse:t,isVertexAI:n}=e;const r=new og;if(r.name=t.name,r.metadata=t.metadata,r.done=t.done,r.error=t.error,n){const e=t.response;if(e){const t=new rg,n=e.videos;t.generatedVideos=null===n||void 0===n?void 0:n.map((e=>({video:{uri:e.gcsUri,videoBytes:e.bytesBase64Encoded?$f(e.bytesBase64Encoded):void 0,mimeType:e.mimeType}}))),t.raiMediaFilteredCount=e.raiMediaFilteredCount,t.raiMediaFilteredReasons=e.raiMediaFilteredReasons,r.response=t}}else{const e=t.response;if(e){const t=new rg,n=e.generateVideoResponse,o=null===n||void 0===n?void 0:n.generatedSamples;t.generatedVideos=null===o||void 0===o?void 0:o.map((e=>{const t=e.video;return{video:{uri:null===t||void 0===t?void 0:t.uri,videoBytes:(null===t||void 0===t?void 0:t.encodedVideo)?$f(null===t||void 0===t?void 0:t.encodedVideo):void 0,mimeType:e.encoding}}})),t.raiMediaFilteredCount=null===n||void 0===n?void 0:n.raiMediaFilteredCount,t.raiMediaFilteredReasons=null===n||void 0===n?void 0:n.raiMediaFilteredReasons,r.response=t}}return r}}class ig{}class ag{}class sg{}class lg{}class cg{}class ug{}class dg{}class pg{get text(){var e,t,n;let r="",o=!1;const i=[];for(const a of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(a))"text"!==e&&"thought"!==e&&null!==t&&i.push(e);if("string"===typeof a.text){if("boolean"===typeof a.thought&&a.thought)continue;o=!0,r+=a.text}}return i.length>0&&console.warn("there are non-text parts ".concat(i," in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.")),o?r:void 0}get data(){var e,t,n;let r="";const o=[];for(const i of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(i))"inlineData"!==e&&null!==t&&o.push(e);i.inlineData&&"string"===typeof i.inlineData.data&&(r+=atob(i.inlineData.data))}return o.length>0&&console.warn("there are non-data parts ".concat(o," in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.")),r.length>0?btoa(r):void 0}}class hg{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}function fg(e,t){if(!t||"string"!==typeof t)throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const e=t.split("/",2);return"publishers/".concat(e[0],"/models/").concat(e[1])}return"publishers/google/models/".concat(t)}return t.startsWith("models/")||t.startsWith("tunedModels/")?t:"models/".concat(t)}function mg(e,t){const n=fg(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/").concat(n):n.startsWith("models/")&&e.isVertexAI()?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/publishers/google/").concat(n):n:""}function gg(e){return Array.isArray(e)?e.map((e=>yg(e))):[yg(e)]}function yg(e){if("object"===typeof e&&null!==e)return e;throw new Error("Could not parse input as Blob. Unsupported blob type: ".concat(typeof e))}function vg(e){const t=yg(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error("Unsupported mime type: ".concat(t.mimeType))}function xg(e){const t=yg(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error("Unsupported mime type: ".concat(t.mimeType))}function bg(e){if(null===e||void 0===e)throw new Error("PartUnion is required");if("object"===typeof e)return e;if("string"===typeof e)return{text:e};throw new Error("Unsupported part type: ".concat(typeof e))}function wg(e){if(null===e||void 0===e||Array.isArray(e)&&0===e.length)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map((e=>bg(e))):[bg(e)]}function kg(e){return null!==e&&void 0!==e&&"object"===typeof e&&"parts"in e&&Array.isArray(e.parts)}function Sg(e){return null!==e&&void 0!==e&&"object"===typeof e&&"functionCall"in e}function Eg(e){return null!==e&&void 0!==e&&"object"===typeof e&&"functionResponse"in e}function Cg(e){if(null===e||void 0===e)throw new Error("ContentUnion is required");return kg(e)?e:{role:"user",parts:wg(e)}}function Tg(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap((e=>{const t=Cg(e);return t.parts&&t.parts.length>0&&void 0!==t.parts[0].text?[t.parts[0].text]:[]}));if(e.isVertexAI()){const e=Cg(t);return e.parts&&e.parts.length>0&&void 0!==e.parts[0].text?[e.parts[0].text]:[]}return Array.isArray(t)?t.map((e=>Cg(e))):[Cg(t)]}function Ng(e){if(null===e||void 0===e||Array.isArray(e)&&0===e.length)throw new Error("contents are required");if(!Array.isArray(e)){if(Sg(e)||Eg(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Cg(e)]}const t=[],n=[],r=kg(e[0]);for(const o of e){const e=kg(o);if(e!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(e)t.push(o);else{if(Sg(o)||Eg(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return r||t.push({role:"user",parts:wg(n)}),t}function Ag(e){const t={},n=["items"],r=["anyOf"],o=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;null!=i&&2==i.length&&("null"===i[0].type?(t.nullable=!0,e=i[1]):"null"===i[1].type&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&function(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter((e=>"null"!==e));if(1===n.length)t.type=Object.values(em).includes(n[0].toUpperCase())?n[0].toUpperCase():em.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const e of n)t.anyOf.push({type:Object.values(em).includes(e.toUpperCase())?e.toUpperCase():em.TYPE_UNSPECIFIED})}}(e.type,t);for(const[a,s]of Object.entries(e))if(null!=s)if("type"==a){if("null"===s)throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;t.type=Object.values(em).includes(s.toUpperCase())?s.toUpperCase():em.TYPE_UNSPECIFIED}else if(n.includes(a))t[a]=Ag(s);else if(r.includes(a)){const e=[];for(const n of s)"null"!=n.type?e.push(Ag(n)):t.nullable=!0;t[a]=e}else if(o.includes(a)){const e={};for(const[t,n]of Object.entries(s))e[t]=Ag(n);t[a]=e}else{if("additionalProperties"===a)continue;t[a]=s}return t}function jg(e){return Ag(e)}function Og(e){if("object"===typeof e)return e;if("string"===typeof e)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error("Unsupported speechConfig type: ".concat(typeof e))}function Ig(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function _g(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Ag(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Ag(t.response));return e}function Pg(e){if(void 0===e||null===e)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function Mg(e,t){if("string"!==typeof t)throw new Error("name must be a string");return function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const o=!t.startsWith("".concat(n,"/"))&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?"projects/".concat(e.getProject(),"/").concat(t):t.startsWith("".concat(n,"/"))?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/").concat(t):o?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/").concat(n,"/").concat(t):t:o?"".concat(n,"/").concat(t):t}(e,t,"cachedContents")}function Rg(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Dg(e){return $f(e)}function Lg(e){var t;let n;var r;if(null!==(r=e)&&void 0!==r&&"object"===typeof r&&"name"in r&&(n=e.name),(!function(e){return null!==e&&void 0!==e&&"object"===typeof e&&"uri"in e}(e)||(n=e.uri,void 0!==n))&&(!function(e){return null!==e&&void 0!==e&&"object"===typeof e&&"video"in e}(e)||(n=null===(t=e.video)||void 0===t?void 0:t.uri,void 0!==n))){if("string"===typeof e&&(n=e),void 0===n)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const e=n.split("files/")[1].match(/[a-z0-9]+/);if(null===e)throw new Error("Could not extract file name from URI ".concat(n));n=e[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Fg(e,t){let n;return n=e.isVertexAI()?t?"publishers/google/models":"models":t?"models":"tunedModels",n}function Ug(e){for(const t of["models","tunedModels","publisherModels"])if(Vg(e,t))return e[t];return[]}function Vg(e,t){return null!==e&&"object"===typeof e&&t in e}function Bg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior);return{functionDeclarations:[r]}}function Hg(e,t){if("string"!==typeof t&&!Array.isArray(t)){if(e&&e.isVertexAI()){if(t.gcsUri&&t.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!t.gcsUri&&!t.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(t.inlinedRequests&&t.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!t.inlinedRequests&&!t.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return t}if(Array.isArray(t))return{inlinedRequests:t};if("string"===typeof t){if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:[t]};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};if(t.startsWith("files/"))return{fileName:t}}throw new Error("Unsupported source: ".concat(t))}function zg(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error("Invalid batch job name: ".concat(n,"."))}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error("Invalid batch job name: ".concat(n,"."))}function Wg(e){return"BATCH_STATE_UNSPECIFIED"===e?"JOB_STATE_UNSPECIFIED":"BATCH_STATE_PENDING"===e?"JOB_STATE_PENDING":"BATCH_STATE_SUCCEEDED"===e?"JOB_STATE_SUCCEEDED":"BATCH_STATE_FAILED"===e?"JOB_STATE_FAILED":"BATCH_STATE_CANCELLED"===e?"JOB_STATE_CANCELLED":e}function qg(e){const t={},n=Xf(e,["videoMetadata"]);null!=n&&Kf(t,["videoMetadata"],function(e){const t={},n=Xf(e,["fps"]);null!=n&&Kf(t,["fps"],n);const r=Xf(e,["endOffset"]);null!=r&&Kf(t,["endOffset"],r);const o=Xf(e,["startOffset"]);return null!=o&&Kf(t,["startOffset"],o),t}(n));const r=Xf(e,["thought"]);null!=r&&Kf(t,["thought"],r);const o=Xf(e,["inlineData"]);null!=o&&Kf(t,["inlineData"],function(e){const t={};if(void 0!==Xf(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Xf(e,["data"]);null!=n&&Kf(t,["data"],n);const r=Xf(e,["mimeType"]);return null!=r&&Kf(t,["mimeType"],r),t}(o));const i=Xf(e,["fileData"]);null!=i&&Kf(t,["fileData"],function(e){const t={};if(void 0!==Xf(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Xf(e,["fileUri"]);null!=n&&Kf(t,["fileUri"],n);const r=Xf(e,["mimeType"]);return null!=r&&Kf(t,["mimeType"],r),t}(i));const a=Xf(e,["thoughtSignature"]);null!=a&&Kf(t,["thoughtSignature"],a);const s=Xf(e,["codeExecutionResult"]);null!=s&&Kf(t,["codeExecutionResult"],s);const l=Xf(e,["executableCode"]);null!=l&&Kf(t,["executableCode"],l);const c=Xf(e,["functionCall"]);null!=c&&Kf(t,["functionCall"],c);const u=Xf(e,["functionResponse"]);null!=u&&Kf(t,["functionResponse"],u);const d=Xf(e,["text"]);return null!=d&&Kf(t,["text"],d),t}function Gg(e){const t={},n=Xf(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>qg(e)))),Kf(t,["parts"],e)}const r=Xf(e,["role"]);return null!=r&&Kf(t,["role"],r),t}function Yg(e){const t={},n=Xf(e,["timeRangeFilter"]);if(null!=n&&Kf(t,["timeRangeFilter"],function(e){const t={},n=Xf(e,["startTime"]);null!=n&&Kf(t,["startTime"],n);const r=Xf(e,["endTime"]);return null!=r&&Kf(t,["endTime"],r),t}(n)),void 0!==Xf(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function Jg(e){const t={},n=Xf(e,["dynamicRetrievalConfig"]);return null!=n&&Kf(t,["dynamicRetrievalConfig"],function(e){const t={},n=Xf(e,["mode"]);null!=n&&Kf(t,["mode"],n);const r=Xf(e,["dynamicThreshold"]);return null!=r&&Kf(t,["dynamicThreshold"],r),t}(n)),t}function Kg(e){const t={},n=Xf(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>function(e){const t={},n=Xf(e,["behavior"]);null!=n&&Kf(t,["behavior"],n);const r=Xf(e,["description"]);null!=r&&Kf(t,["description"],r);const o=Xf(e,["name"]);null!=o&&Kf(t,["name"],o);const i=Xf(e,["parameters"]);null!=i&&Kf(t,["parameters"],i);const a=Xf(e,["parametersJsonSchema"]);null!=a&&Kf(t,["parametersJsonSchema"],a);const s=Xf(e,["response"]);null!=s&&Kf(t,["response"],s);const l=Xf(e,["responseJsonSchema"]);return null!=l&&Kf(t,["responseJsonSchema"],l),t}(e)))),Kf(t,["functionDeclarations"],e)}if(void 0!==Xf(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=Xf(e,["googleSearch"]);null!=r&&Kf(t,["googleSearch"],Yg(r));const o=Xf(e,["googleSearchRetrieval"]);if(null!=o&&Kf(t,["googleSearchRetrieval"],Jg(o)),void 0!==Xf(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==Xf(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=Xf(e,["urlContext"])&&Kf(t,["urlContext"],{});const i=Xf(e,["computerUse"]);null!=i&&Kf(t,["computerUse"],function(e){const t={},n=Xf(e,["environment"]);return null!=n&&Kf(t,["environment"],n),t}(i));const a=Xf(e,["codeExecution"]);return null!=a&&Kf(t,["codeExecution"],a),t}function Xg(e){const t={},n=Xf(e,["latLng"]);null!=n&&Kf(t,["latLng"],function(e){const t={},n=Xf(e,["latitude"]);null!=n&&Kf(t,["latitude"],n);const r=Xf(e,["longitude"]);return null!=r&&Kf(t,["longitude"],r),t}(n));const r=Xf(e,["languageCode"]);return null!=r&&Kf(t,["languageCode"],r),t}function $g(e){const t={},n=Xf(e,["functionCallingConfig"]);null!=n&&Kf(t,["functionCallingConfig"],function(e){const t={},n=Xf(e,["mode"]);null!=n&&Kf(t,["mode"],n);const r=Xf(e,["allowedFunctionNames"]);return null!=r&&Kf(t,["allowedFunctionNames"],r),t}(n));const r=Xf(e,["retrievalConfig"]);return null!=r&&Kf(t,["retrievalConfig"],Xg(r)),t}function Qg(e){const t={},n=Xf(e,["prebuiltVoiceConfig"]);return null!=n&&Kf(t,["prebuiltVoiceConfig"],function(e){const t={},n=Xf(e,["voiceName"]);return null!=n&&Kf(t,["voiceName"],n),t}(n)),t}function Zg(e){const t={},n=Xf(e,["speakerVoiceConfigs"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>function(e){const t={},n=Xf(e,["speaker"]);null!=n&&Kf(t,["speaker"],n);const r=Xf(e,["voiceConfig"]);return null!=r&&Kf(t,["voiceConfig"],Qg(r)),t}(e)))),Kf(t,["speakerVoiceConfigs"],e)}return t}function ey(e,t,n){const r={},o=Xf(t,["systemInstruction"]);void 0!==n&&null!=o&&Kf(n,["systemInstruction"],Gg(Cg(o)));const i=Xf(t,["temperature"]);null!=i&&Kf(r,["temperature"],i);const a=Xf(t,["topP"]);null!=a&&Kf(r,["topP"],a);const s=Xf(t,["topK"]);null!=s&&Kf(r,["topK"],s);const l=Xf(t,["candidateCount"]);null!=l&&Kf(r,["candidateCount"],l);const c=Xf(t,["maxOutputTokens"]);null!=c&&Kf(r,["maxOutputTokens"],c);const u=Xf(t,["stopSequences"]);null!=u&&Kf(r,["stopSequences"],u);const d=Xf(t,["responseLogprobs"]);null!=d&&Kf(r,["responseLogprobs"],d);const p=Xf(t,["logprobs"]);null!=p&&Kf(r,["logprobs"],p);const h=Xf(t,["presencePenalty"]);null!=h&&Kf(r,["presencePenalty"],h);const f=Xf(t,["frequencyPenalty"]);null!=f&&Kf(r,["frequencyPenalty"],f);const m=Xf(t,["seed"]);null!=m&&Kf(r,["seed"],m);const g=Xf(t,["responseMimeType"]);null!=g&&Kf(r,["responseMimeType"],g);const y=Xf(t,["responseSchema"]);null!=y&&Kf(r,["responseSchema"],function(e){const t={},n=Xf(e,["anyOf"]);null!=n&&Kf(t,["anyOf"],n);const r=Xf(e,["default"]);null!=r&&Kf(t,["default"],r);const o=Xf(e,["description"]);null!=o&&Kf(t,["description"],o);const i=Xf(e,["enum"]);null!=i&&Kf(t,["enum"],i);const a=Xf(e,["example"]);null!=a&&Kf(t,["example"],a);const s=Xf(e,["format"]);null!=s&&Kf(t,["format"],s);const l=Xf(e,["items"]);null!=l&&Kf(t,["items"],l);const c=Xf(e,["maxItems"]);null!=c&&Kf(t,["maxItems"],c);const u=Xf(e,["maxLength"]);null!=u&&Kf(t,["maxLength"],u);const d=Xf(e,["maxProperties"]);null!=d&&Kf(t,["maxProperties"],d);const p=Xf(e,["maximum"]);null!=p&&Kf(t,["maximum"],p);const h=Xf(e,["minItems"]);null!=h&&Kf(t,["minItems"],h);const f=Xf(e,["minLength"]);null!=f&&Kf(t,["minLength"],f);const m=Xf(e,["minProperties"]);null!=m&&Kf(t,["minProperties"],m);const g=Xf(e,["minimum"]);null!=g&&Kf(t,["minimum"],g);const y=Xf(e,["nullable"]);null!=y&&Kf(t,["nullable"],y);const v=Xf(e,["pattern"]);null!=v&&Kf(t,["pattern"],v);const x=Xf(e,["properties"]);null!=x&&Kf(t,["properties"],x);const b=Xf(e,["propertyOrdering"]);null!=b&&Kf(t,["propertyOrdering"],b);const w=Xf(e,["required"]);null!=w&&Kf(t,["required"],w);const k=Xf(e,["title"]);null!=k&&Kf(t,["title"],k);const S=Xf(e,["type"]);return null!=S&&Kf(t,["type"],S),t}(jg(y)));const v=Xf(t,["responseJsonSchema"]);if(null!=v&&Kf(r,["responseJsonSchema"],v),void 0!==Xf(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==Xf(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=Xf(t,["safetySettings"]);if(void 0!==n&&null!=x){let e=x;Array.isArray(e)&&(e=e.map((e=>function(e){const t={};if(void 0!==Xf(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const n=Xf(e,["category"]);null!=n&&Kf(t,["category"],n);const r=Xf(e,["threshold"]);return null!=r&&Kf(t,["threshold"],r),t}(e)))),Kf(n,["safetySettings"],e)}const b=Xf(t,["tools"]);if(void 0!==n&&null!=b){let e=Pg(b);Array.isArray(e)&&(e=e.map((e=>Kg(_g(e))))),Kf(n,["tools"],e)}const w=Xf(t,["toolConfig"]);if(void 0!==n&&null!=w&&Kf(n,["toolConfig"],$g(w)),void 0!==Xf(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const k=Xf(t,["cachedContent"]);void 0!==n&&null!=k&&Kf(n,["cachedContent"],Mg(e,k));const S=Xf(t,["responseModalities"]);null!=S&&Kf(r,["responseModalities"],S);const E=Xf(t,["mediaResolution"]);null!=E&&Kf(r,["mediaResolution"],E);const C=Xf(t,["speechConfig"]);if(null!=C&&Kf(r,["speechConfig"],function(e){const t={},n=Xf(e,["voiceConfig"]);null!=n&&Kf(t,["voiceConfig"],Qg(n));const r=Xf(e,["multiSpeakerVoiceConfig"]);null!=r&&Kf(t,["multiSpeakerVoiceConfig"],Zg(r));const o=Xf(e,["languageCode"]);return null!=o&&Kf(t,["languageCode"],o),t}(Og(C))),void 0!==Xf(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const T=Xf(t,["thinkingConfig"]);return null!=T&&Kf(r,["thinkingConfig"],function(e){const t={},n=Xf(e,["includeThoughts"]);null!=n&&Kf(t,["includeThoughts"],n);const r=Xf(e,["thinkingBudget"]);return null!=r&&Kf(t,["thinkingBudget"],r),t}(T)),r}function ty(e,t){const n={};if(void 0!==Xf(t,["format"]))throw new Error("format parameter is not supported in Gemini API.");if(void 0!==Xf(t,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==Xf(t,["bigqueryUri"]))throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=Xf(t,["fileName"]);null!=r&&Kf(n,["fileName"],r);const o=Xf(t,["inlinedRequests"]);if(null!=o){let t=o;Array.isArray(t)&&(t=t.map((t=>function(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["request","model"],fg(e,r));const o=Xf(t,["contents"]);if(null!=o){let e=Ng(o);Array.isArray(e)&&(e=e.map((e=>Gg(e)))),Kf(n,["request","contents"],e)}const i=Xf(t,["config"]);return null!=i&&Kf(n,["request","generationConfig"],ey(e,i,n)),n}(e,t)))),Kf(n,["requests","requests"],t)}return n}function ny(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["_url","model"],fg(e,r));const o=Xf(t,["src"]);null!=o&&Kf(n,["batch","inputConfig"],ty(e,Hg(e,o)));const i=Xf(t,["config"]);return null!=i&&Kf(n,["config"],function(e,t){const n=Xf(e,["displayName"]);if(void 0!==t&&null!=n&&Kf(t,["batch","displayName"],n),void 0!==Xf(e,["dest"]))throw new Error("dest parameter is not supported in Gemini API.");return{}}(i,n)),n}function ry(e){const t={},n=Xf(e,["config"]);return null!=n&&Kf(t,["config"],function(e,t){const n=Xf(e,["pageSize"]);void 0!==t&&null!=n&&Kf(t,["_query","pageSize"],n);const r=Xf(e,["pageToken"]);if(void 0!==t&&null!=r&&Kf(t,["_query","pageToken"],r),void 0!==Xf(e,["filter"]))throw new Error("filter parameter is not supported in Gemini API.");return{}}(n,t)),t}function oy(e,t){const n=Xf(e,["displayName"]);void 0!==t&&null!=n&&Kf(t,["displayName"],n);const r=Xf(e,["dest"]);return void 0!==t&&null!=r&&Kf(t,["outputConfig"],function(e){const t={},n=Xf(e,["format"]);null!=n&&Kf(t,["predictionsFormat"],n);const r=Xf(e,["gcsUri"]);null!=r&&Kf(t,["gcsDestination","outputUriPrefix"],r);const o=Xf(e,["bigqueryUri"]);if(null!=o&&Kf(t,["bigqueryDestination","outputUri"],o),void 0!==Xf(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==Xf(e,["inlinedResponses"]))throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return t}(function(e){if("string"!==typeof e)return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error("Unsupported destination: ".concat(t))}(r))),{}}function iy(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["model"],fg(e,r));const o=Xf(t,["src"]);null!=o&&Kf(n,["inputConfig"],function(e){const t={},n=Xf(e,["format"]);null!=n&&Kf(t,["instancesFormat"],n);const r=Xf(e,["gcsUri"]);null!=r&&Kf(t,["gcsSource","uris"],r);const o=Xf(e,["bigqueryUri"]);if(null!=o&&Kf(t,["bigquerySource","inputUri"],o),void 0!==Xf(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==Xf(e,["inlinedRequests"]))throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}(Hg(e,o)));const i=Xf(t,["config"]);return null!=i&&Kf(n,["config"],oy(i,n)),n}function ay(e){const t={},n=Xf(e,["config"]);return null!=n&&Kf(t,["config"],function(e,t){const n=Xf(e,["pageSize"]);void 0!==t&&null!=n&&Kf(t,["_query","pageSize"],n);const r=Xf(e,["pageToken"]);void 0!==t&&null!=r&&Kf(t,["_query","pageToken"],r);const o=Xf(e,["filter"]);return void 0!==t&&null!=o&&Kf(t,["_query","filter"],o),{}}(n,t)),t}function sy(e){const t={},n=Xf(e,["videoMetadata"]);null!=n&&Kf(t,["videoMetadata"],function(e){const t={},n=Xf(e,["fps"]);null!=n&&Kf(t,["fps"],n);const r=Xf(e,["endOffset"]);null!=r&&Kf(t,["endOffset"],r);const o=Xf(e,["startOffset"]);return null!=o&&Kf(t,["startOffset"],o),t}(n));const r=Xf(e,["thought"]);null!=r&&Kf(t,["thought"],r);const o=Xf(e,["inlineData"]);null!=o&&Kf(t,["inlineData"],function(e){const t={},n=Xf(e,["data"]);null!=n&&Kf(t,["data"],n);const r=Xf(e,["mimeType"]);return null!=r&&Kf(t,["mimeType"],r),t}(o));const i=Xf(e,["fileData"]);null!=i&&Kf(t,["fileData"],function(e){const t={},n=Xf(e,["fileUri"]);null!=n&&Kf(t,["fileUri"],n);const r=Xf(e,["mimeType"]);return null!=r&&Kf(t,["mimeType"],r),t}(i));const a=Xf(e,["thoughtSignature"]);null!=a&&Kf(t,["thoughtSignature"],a);const s=Xf(e,["codeExecutionResult"]);null!=s&&Kf(t,["codeExecutionResult"],s);const l=Xf(e,["executableCode"]);null!=l&&Kf(t,["executableCode"],l);const c=Xf(e,["functionCall"]);null!=c&&Kf(t,["functionCall"],c);const u=Xf(e,["functionResponse"]);null!=u&&Kf(t,["functionResponse"],u);const d=Xf(e,["text"]);return null!=d&&Kf(t,["text"],d),t}function ly(e){const t={},n=Xf(e,["urlMetadata"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>function(e){const t={},n=Xf(e,["retrievedUrl"]);null!=n&&Kf(t,["retrievedUrl"],n);const r=Xf(e,["urlRetrievalStatus"]);return null!=r&&Kf(t,["urlRetrievalStatus"],r),t}(e)))),Kf(t,["urlMetadata"],e)}return t}function cy(e){const t={},n=Xf(e,["content"]);null!=n&&Kf(t,["content"],function(e){const t={},n=Xf(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>sy(e)))),Kf(t,["parts"],e)}const r=Xf(e,["role"]);return null!=r&&Kf(t,["role"],r),t}(n));const r=Xf(e,["citationMetadata"]);null!=r&&Kf(t,["citationMetadata"],function(e){const t={},n=Xf(e,["citationSources"]);return null!=n&&Kf(t,["citations"],n),t}(r));const o=Xf(e,["tokenCount"]);null!=o&&Kf(t,["tokenCount"],o);const i=Xf(e,["finishReason"]);null!=i&&Kf(t,["finishReason"],i);const a=Xf(e,["urlContextMetadata"]);null!=a&&Kf(t,["urlContextMetadata"],ly(a));const s=Xf(e,["avgLogprobs"]);null!=s&&Kf(t,["avgLogprobs"],s);const l=Xf(e,["groundingMetadata"]);null!=l&&Kf(t,["groundingMetadata"],l);const c=Xf(e,["index"]);null!=c&&Kf(t,["index"],c);const u=Xf(e,["logprobsResult"]);null!=u&&Kf(t,["logprobsResult"],u);const d=Xf(e,["safetyRatings"]);return null!=d&&Kf(t,["safetyRatings"],d),t}function uy(e){const t={},n=Xf(e,["details"]);null!=n&&Kf(t,["details"],n);const r=Xf(e,["code"]);null!=r&&Kf(t,["code"],r);const o=Xf(e,["message"]);return null!=o&&Kf(t,["message"],o),t}function dy(e){const t={},n=Xf(e,["response"]);null!=n&&Kf(t,["response"],function(e){const t={},n=Xf(e,["sdkHttpResponse"]);null!=n&&Kf(t,["sdkHttpResponse"],n);const r=Xf(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>cy(e)))),Kf(t,["candidates"],e)}const o=Xf(e,["modelVersion"]);null!=o&&Kf(t,["modelVersion"],o);const i=Xf(e,["promptFeedback"]);null!=i&&Kf(t,["promptFeedback"],i);const a=Xf(e,["responseId"]);null!=a&&Kf(t,["responseId"],a);const s=Xf(e,["usageMetadata"]);return null!=s&&Kf(t,["usageMetadata"],s),t}(n));const r=Xf(e,["error"]);return null!=r&&Kf(t,["error"],uy(r)),t}function py(e){const t={},n=Xf(e,["name"]);null!=n&&Kf(t,["name"],n);const r=Xf(e,["metadata","displayName"]);null!=r&&Kf(t,["displayName"],r);const o=Xf(e,["metadata","state"]);null!=o&&Kf(t,["state"],Wg(o));const i=Xf(e,["metadata","createTime"]);null!=i&&Kf(t,["createTime"],i);const a=Xf(e,["metadata","endTime"]);null!=a&&Kf(t,["endTime"],a);const s=Xf(e,["metadata","updateTime"]);null!=s&&Kf(t,["updateTime"],s);const l=Xf(e,["metadata","model"]);null!=l&&Kf(t,["model"],l);const c=Xf(e,["metadata","output"]);return null!=c&&Kf(t,["dest"],function(e){const t={},n=Xf(e,["responsesFile"]);null!=n&&Kf(t,["fileName"],n);const r=Xf(e,["inlinedResponses","inlinedResponses"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>dy(e)))),Kf(t,["inlinedResponses"],e)}return t}(c)),t}function hy(e){const t={},n=Xf(e,["details"]);null!=n&&Kf(t,["details"],n);const r=Xf(e,["code"]);null!=r&&Kf(t,["code"],r);const o=Xf(e,["message"]);return null!=o&&Kf(t,["message"],o),t}function fy(e){const t={},n=Xf(e,["name"]);null!=n&&Kf(t,["name"],n);const r=Xf(e,["displayName"]);null!=r&&Kf(t,["displayName"],r);const o=Xf(e,["state"]);null!=o&&Kf(t,["state"],Wg(o));const i=Xf(e,["error"]);null!=i&&Kf(t,["error"],hy(i));const a=Xf(e,["createTime"]);null!=a&&Kf(t,["createTime"],a);const s=Xf(e,["startTime"]);null!=s&&Kf(t,["startTime"],s);const l=Xf(e,["endTime"]);null!=l&&Kf(t,["endTime"],l);const c=Xf(e,["updateTime"]);null!=c&&Kf(t,["updateTime"],c);const u=Xf(e,["model"]);null!=u&&Kf(t,["model"],u);const d=Xf(e,["inputConfig"]);null!=d&&Kf(t,["src"],function(e){const t={},n=Xf(e,["instancesFormat"]);null!=n&&Kf(t,["format"],n);const r=Xf(e,["gcsSource","uris"]);null!=r&&Kf(t,["gcsUri"],r);const o=Xf(e,["bigquerySource","inputUri"]);return null!=o&&Kf(t,["bigqueryUri"],o),t}(d));const p=Xf(e,["outputConfig"]);return null!=p&&Kf(t,["dest"],function(e){const t={},n=Xf(e,["predictionsFormat"]);null!=n&&Kf(t,["format"],n);const r=Xf(e,["gcsDestination","outputUriPrefix"]);null!=r&&Kf(t,["gcsUri"],r);const o=Xf(e,["bigqueryDestination","outputUri"]);return null!=o&&Kf(t,["bigqueryUri"],o),t}(p)),t}!function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"}(Wm||(Wm={}));class my{constructor(e,t,n,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,r)}init(e,t,n){var r,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=null===t||void 0===t?void 0:t.sdkHttpResponse,this.idxInternal=0;let i={config:{}};i=n&&0!==Object.keys(n).length?"object"===typeof n?Object.assign({},n):n:{config:{}},i.config&&(i.config.pageToken=t.nextPageToken),this.paramsInternal=i,this.pageInternalSize=null!==(o=null===(r=i.config)||void 0===r?void 0:r.pageSize)&&void 0!==o?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength){if(!this.hasNextPage())return{value:void 0,done:!0};await this.nextPage()}const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return void 0!==(null===(e=this.params.config)||void 0===e?void 0:e.pageToken)}}class gy extends Yf{constructor(e){var t;super(),t=this,this.apiClient=e,this.create=async e=>{var t,n;if(this.apiClient.isVertexAI()){const t=Date.now().toString();if(Array.isArray(e.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(e.config=e.config||{},void 0===e.config.displayName&&(e.config.displayName="genaiBatchJob_${timestampStr}"),void 0===e.config.dest&&"string"===typeof e.src)if(e.src.startsWith("gs://")&&e.src.endsWith(".jsonl"))e.config.dest="".concat(e.src.slice(0,-6),"/dest");else{if(!e.src.startsWith("bq://"))throw new Error("Unsupported source:"+e.src);e.config.dest="".concat(e.src,"_dest_").concat(t)}}else if(Array.isArray(e.src)||"string"!==typeof e.src&&e.src.inlinedRequests){let r="",o={};const i=ny(this.apiClient,e);r=Jf("{model}:batchGenerateContent",i._url),o=i._query;const a=i.batch.inputConfig.requests,s=a.requests,l=[];for(const e of s){const t=e;if(t.systemInstruction){const e=t.systemInstruction;delete t.systemInstruction;const n=t.request;n.systemInstruction=e,t.request=n}l.push(t)}a.requests=l,delete i.config,delete i._url,delete i._query;return this.apiClient.request({path:r,queryParams:o,body:JSON.stringify(i),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())).then((e=>py(e)))}return await this.createInternal(e)},this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new my(Wm.PAGED_ITEM_BATCH_JOBS,(e=>t.listInternal(e)),await t.listInternal(e),e)}}async createInternal(e){var t,n,r,o;let i,a="",s={};if(this.apiClient.isVertexAI()){const r=iy(this.apiClient,e);return a=Jf("batchPredictionJobs",r._url),s=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>fy(e)))}{const t=ny(this.apiClient,e);return a=Jf("{model}:batchGenerateContent",t._url),s=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>py(e)))}}async get(e){var t,n,r,o;let i,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Xf(t,["name"]);null!=r&&Kf(n,["_url","name"],zg(e,r));const o=Xf(t,["config"]);return null!=o&&Kf(n,["config"],o),n}(this.apiClient,e);return a=Jf("batchPredictionJobs/{name}",r._url),s=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>fy(e)))}{const t=function(e,t){const n={},r=Xf(t,["name"]);null!=r&&Kf(n,["_url","name"],zg(e,r));const o=Xf(t,["config"]);return null!=o&&Kf(n,["config"],o),n}(this.apiClient,e);return a=Jf("batches/{name}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>py(e)))}}async cancel(e){var t,n,r,o;let i="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Xf(t,["name"]);null!=r&&Kf(n,["_url","name"],zg(e,r));const o=Xf(t,["config"]);return null!=o&&Kf(n,["config"],o),n}(this.apiClient,e);i=Jf("batchPredictionJobs/{name}:cancel",r._url),a=r._query,delete r.config,delete r._url,delete r._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}else{const t=function(e,t){const n={},r=Xf(t,["name"]);null!=r&&Kf(n,["_url","name"],zg(e,r));const o=Xf(t,["config"]);return null!=o&&Kf(n,["config"],o),n}(this.apiClient,e);i=Jf("batches/{name}:cancel",t._url),a=t._query,delete t.config,delete t._url,delete t._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal})}}async listInternal(e){var t,n,r,o;let i,a="",s={};if(this.apiClient.isVertexAI()){const r=ay(e);return a=Jf("batchPredictionJobs",r._url),s=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),i.then((e=>{const t=function(e){const t={},n=Xf(e,["sdkHttpResponse"]);null!=n&&Kf(t,["sdkHttpResponse"],n);const r=Xf(e,["nextPageToken"]);null!=r&&Kf(t,["nextPageToken"],r);const o=Xf(e,["batchPredictionJobs"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map((e=>fy(e)))),Kf(t,["batchJobs"],e)}return t}(e),n=new dg;return Object.assign(n,t),n}))}{const t=ry(e);return a=Jf("batches",t._url),s=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),i.then((e=>{const t=function(e){const t={},n=Xf(e,["sdkHttpResponse"]);null!=n&&Kf(t,["sdkHttpResponse"],n);const r=Xf(e,["nextPageToken"]);null!=r&&Kf(t,["nextPageToken"],r);const o=Xf(e,["operations"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map((e=>py(e)))),Kf(t,["batchJobs"],e)}return t}(e),n=new dg;return Object.assign(n,t),n}))}}async delete(e){var t,n,r,o;let i,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Xf(t,["name"]);null!=r&&Kf(n,["_url","name"],zg(e,r));const o=Xf(t,["config"]);return null!=o&&Kf(n,["config"],o),n}(this.apiClient,e);return a=Jf("batchPredictionJobs/{name}",r._url),s=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),i.then((e=>function(e){const t={},n=Xf(e,["sdkHttpResponse"]);null!=n&&Kf(t,["sdkHttpResponse"],n);const r=Xf(e,["name"]);null!=r&&Kf(t,["name"],r);const o=Xf(e,["done"]);null!=o&&Kf(t,["done"],o);const i=Xf(e,["error"]);return null!=i&&Kf(t,["error"],hy(i)),t}(e)))}{const t=function(e,t){const n={},r=Xf(t,["name"]);null!=r&&Kf(n,["_url","name"],zg(e,r));const o=Xf(t,["config"]);return null!=o&&Kf(n,["config"],o),n}(this.apiClient,e);return a=Jf("batches/{name}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),i.then((e=>function(e){const t={},n=Xf(e,["sdkHttpResponse"]);null!=n&&Kf(t,["sdkHttpResponse"],n);const r=Xf(e,["name"]);null!=r&&Kf(t,["name"],r);const o=Xf(e,["done"]);null!=o&&Kf(t,["done"],o);const i=Xf(e,["error"]);return null!=i&&Kf(t,["error"],uy(i)),t}(e)))}}}function yy(e){const t={},n=Xf(e,["videoMetadata"]);null!=n&&Kf(t,["videoMetadata"],function(e){const t={},n=Xf(e,["fps"]);null!=n&&Kf(t,["fps"],n);const r=Xf(e,["endOffset"]);null!=r&&Kf(t,["endOffset"],r);const o=Xf(e,["startOffset"]);return null!=o&&Kf(t,["startOffset"],o),t}(n));const r=Xf(e,["thought"]);null!=r&&Kf(t,["thought"],r);const o=Xf(e,["inlineData"]);null!=o&&Kf(t,["inlineData"],function(e){const t={};if(void 0!==Xf(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Xf(e,["data"]);null!=n&&Kf(t,["data"],n);const r=Xf(e,["mimeType"]);return null!=r&&Kf(t,["mimeType"],r),t}(o));const i=Xf(e,["fileData"]);null!=i&&Kf(t,["fileData"],function(e){const t={};if(void 0!==Xf(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Xf(e,["fileUri"]);null!=n&&Kf(t,["fileUri"],n);const r=Xf(e,["mimeType"]);return null!=r&&Kf(t,["mimeType"],r),t}(i));const a=Xf(e,["thoughtSignature"]);null!=a&&Kf(t,["thoughtSignature"],a);const s=Xf(e,["codeExecutionResult"]);null!=s&&Kf(t,["codeExecutionResult"],s);const l=Xf(e,["executableCode"]);null!=l&&Kf(t,["executableCode"],l);const c=Xf(e,["functionCall"]);null!=c&&Kf(t,["functionCall"],c);const u=Xf(e,["functionResponse"]);null!=u&&Kf(t,["functionResponse"],u);const d=Xf(e,["text"]);return null!=d&&Kf(t,["text"],d),t}function vy(e){const t={},n=Xf(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>yy(e)))),Kf(t,["parts"],e)}const r=Xf(e,["role"]);return null!=r&&Kf(t,["role"],r),t}function xy(e){const t={},n=Xf(e,["timeRangeFilter"]);if(null!=n&&Kf(t,["timeRangeFilter"],function(e){const t={},n=Xf(e,["startTime"]);null!=n&&Kf(t,["startTime"],n);const r=Xf(e,["endTime"]);return null!=r&&Kf(t,["endTime"],r),t}(n)),void 0!==Xf(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function by(e){const t={},n=Xf(e,["dynamicRetrievalConfig"]);return null!=n&&Kf(t,["dynamicRetrievalConfig"],function(e){const t={},n=Xf(e,["mode"]);null!=n&&Kf(t,["mode"],n);const r=Xf(e,["dynamicThreshold"]);return null!=r&&Kf(t,["dynamicThreshold"],r),t}(n)),t}function wy(e){const t={},n=Xf(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>function(e){const t={},n=Xf(e,["behavior"]);null!=n&&Kf(t,["behavior"],n);const r=Xf(e,["description"]);null!=r&&Kf(t,["description"],r);const o=Xf(e,["name"]);null!=o&&Kf(t,["name"],o);const i=Xf(e,["parameters"]);null!=i&&Kf(t,["parameters"],i);const a=Xf(e,["parametersJsonSchema"]);null!=a&&Kf(t,["parametersJsonSchema"],a);const s=Xf(e,["response"]);null!=s&&Kf(t,["response"],s);const l=Xf(e,["responseJsonSchema"]);return null!=l&&Kf(t,["responseJsonSchema"],l),t}(e)))),Kf(t,["functionDeclarations"],e)}if(void 0!==Xf(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=Xf(e,["googleSearch"]);null!=r&&Kf(t,["googleSearch"],xy(r));const o=Xf(e,["googleSearchRetrieval"]);if(null!=o&&Kf(t,["googleSearchRetrieval"],by(o)),void 0!==Xf(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==Xf(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=Xf(e,["urlContext"])&&Kf(t,["urlContext"],{});const i=Xf(e,["computerUse"]);null!=i&&Kf(t,["computerUse"],function(e){const t={},n=Xf(e,["environment"]);return null!=n&&Kf(t,["environment"],n),t}(i));const a=Xf(e,["codeExecution"]);return null!=a&&Kf(t,["codeExecution"],a),t}function ky(e){const t={},n=Xf(e,["latLng"]);null!=n&&Kf(t,["latLng"],function(e){const t={},n=Xf(e,["latitude"]);null!=n&&Kf(t,["latitude"],n);const r=Xf(e,["longitude"]);return null!=r&&Kf(t,["longitude"],r),t}(n));const r=Xf(e,["languageCode"]);return null!=r&&Kf(t,["languageCode"],r),t}function Sy(e){const t={},n=Xf(e,["functionCallingConfig"]);null!=n&&Kf(t,["functionCallingConfig"],function(e){const t={},n=Xf(e,["mode"]);null!=n&&Kf(t,["mode"],n);const r=Xf(e,["allowedFunctionNames"]);return null!=r&&Kf(t,["allowedFunctionNames"],r),t}(n));const r=Xf(e,["retrievalConfig"]);return null!=r&&Kf(t,["retrievalConfig"],ky(r)),t}function Ey(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["model"],mg(e,r));const o=Xf(t,["config"]);return null!=o&&Kf(n,["config"],function(e,t){const n=Xf(e,["ttl"]);void 0!==t&&null!=n&&Kf(t,["ttl"],n);const r=Xf(e,["expireTime"]);void 0!==t&&null!=r&&Kf(t,["expireTime"],r);const o=Xf(e,["displayName"]);void 0!==t&&null!=o&&Kf(t,["displayName"],o);const i=Xf(e,["contents"]);if(void 0!==t&&null!=i){let e=Ng(i);Array.isArray(e)&&(e=e.map((e=>vy(e)))),Kf(t,["contents"],e)}const a=Xf(e,["systemInstruction"]);void 0!==t&&null!=a&&Kf(t,["systemInstruction"],vy(Cg(a)));const s=Xf(e,["tools"]);if(void 0!==t&&null!=s){let e=s;Array.isArray(e)&&(e=e.map((e=>wy(e)))),Kf(t,["tools"],e)}const l=Xf(e,["toolConfig"]);if(void 0!==t&&null!=l&&Kf(t,["toolConfig"],Sy(l)),void 0!==Xf(e,["kmsKeyName"]))throw new Error("kmsKeyName parameter is not supported in Gemini API.");return{}}(o,n)),n}function Cy(e,t){const n={},r=Xf(t,["name"]);null!=r&&Kf(n,["_url","name"],Mg(e,r));const o=Xf(t,["config"]);return null!=o&&Kf(n,["config"],function(e,t){const n=Xf(e,["ttl"]);void 0!==t&&null!=n&&Kf(t,["ttl"],n);const r=Xf(e,["expireTime"]);return void 0!==t&&null!=r&&Kf(t,["expireTime"],r),{}}(o,n)),n}function Ty(e){const t={},n=Xf(e,["config"]);return null!=n&&Kf(t,["config"],function(e,t){const n=Xf(e,["pageSize"]);void 0!==t&&null!=n&&Kf(t,["_query","pageSize"],n);const r=Xf(e,["pageToken"]);return void 0!==t&&null!=r&&Kf(t,["_query","pageToken"],r),{}}(n,t)),t}function Ny(e){const t={},n=Xf(e,["videoMetadata"]);null!=n&&Kf(t,["videoMetadata"],function(e){const t={},n=Xf(e,["fps"]);null!=n&&Kf(t,["fps"],n);const r=Xf(e,["endOffset"]);null!=r&&Kf(t,["endOffset"],r);const o=Xf(e,["startOffset"]);return null!=o&&Kf(t,["startOffset"],o),t}(n));const r=Xf(e,["thought"]);null!=r&&Kf(t,["thought"],r);const o=Xf(e,["inlineData"]);null!=o&&Kf(t,["inlineData"],function(e){const t={},n=Xf(e,["displayName"]);null!=n&&Kf(t,["displayName"],n);const r=Xf(e,["data"]);null!=r&&Kf(t,["data"],r);const o=Xf(e,["mimeType"]);return null!=o&&Kf(t,["mimeType"],o),t}(o));const i=Xf(e,["fileData"]);null!=i&&Kf(t,["fileData"],function(e){const t={},n=Xf(e,["displayName"]);null!=n&&Kf(t,["displayName"],n);const r=Xf(e,["fileUri"]);null!=r&&Kf(t,["fileUri"],r);const o=Xf(e,["mimeType"]);return null!=o&&Kf(t,["mimeType"],o),t}(i));const a=Xf(e,["thoughtSignature"]);null!=a&&Kf(t,["thoughtSignature"],a);const s=Xf(e,["codeExecutionResult"]);null!=s&&Kf(t,["codeExecutionResult"],s);const l=Xf(e,["executableCode"]);null!=l&&Kf(t,["executableCode"],l);const c=Xf(e,["functionCall"]);null!=c&&Kf(t,["functionCall"],c);const u=Xf(e,["functionResponse"]);null!=u&&Kf(t,["functionResponse"],u);const d=Xf(e,["text"]);return null!=d&&Kf(t,["text"],d),t}function Ay(e){const t={},n=Xf(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>Ny(e)))),Kf(t,["parts"],e)}const r=Xf(e,["role"]);return null!=r&&Kf(t,["role"],r),t}function jy(e){const t={},n=Xf(e,["timeRangeFilter"]);null!=n&&Kf(t,["timeRangeFilter"],function(e){const t={},n=Xf(e,["startTime"]);null!=n&&Kf(t,["startTime"],n);const r=Xf(e,["endTime"]);return null!=r&&Kf(t,["endTime"],r),t}(n));const r=Xf(e,["excludeDomains"]);return null!=r&&Kf(t,["excludeDomains"],r),t}function Oy(e){const t={},n=Xf(e,["dynamicRetrievalConfig"]);return null!=n&&Kf(t,["dynamicRetrievalConfig"],function(e){const t={},n=Xf(e,["mode"]);null!=n&&Kf(t,["mode"],n);const r=Xf(e,["dynamicThreshold"]);return null!=r&&Kf(t,["dynamicThreshold"],r),t}(n)),t}function Iy(e){const t={},n=Xf(e,["apiKeyConfig"]);null!=n&&Kf(t,["apiKeyConfig"],function(e){const t={},n=Xf(e,["apiKeyString"]);return null!=n&&Kf(t,["apiKeyString"],n),t}(n));const r=Xf(e,["authType"]);null!=r&&Kf(t,["authType"],r);const o=Xf(e,["googleServiceAccountConfig"]);null!=o&&Kf(t,["googleServiceAccountConfig"],o);const i=Xf(e,["httpBasicAuthConfig"]);null!=i&&Kf(t,["httpBasicAuthConfig"],i);const a=Xf(e,["oauthConfig"]);null!=a&&Kf(t,["oauthConfig"],a);const s=Xf(e,["oidcConfig"]);return null!=s&&Kf(t,["oidcConfig"],s),t}function _y(e){const t={},n=Xf(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>function(e){const t={};if(void 0!==Xf(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=Xf(e,["description"]);null!=n&&Kf(t,["description"],n);const r=Xf(e,["name"]);null!=r&&Kf(t,["name"],r);const o=Xf(e,["parameters"]);null!=o&&Kf(t,["parameters"],o);const i=Xf(e,["parametersJsonSchema"]);null!=i&&Kf(t,["parametersJsonSchema"],i);const a=Xf(e,["response"]);null!=a&&Kf(t,["response"],a);const s=Xf(e,["responseJsonSchema"]);return null!=s&&Kf(t,["responseJsonSchema"],s),t}(e)))),Kf(t,["functionDeclarations"],e)}const r=Xf(e,["retrieval"]);null!=r&&Kf(t,["retrieval"],r);const o=Xf(e,["googleSearch"]);null!=o&&Kf(t,["googleSearch"],jy(o));const i=Xf(e,["googleSearchRetrieval"]);null!=i&&Kf(t,["googleSearchRetrieval"],Oy(i));const a=Xf(e,["enterpriseWebSearch"]);null!=a&&Kf(t,["enterpriseWebSearch"],function(e){const t={},n=Xf(e,["excludeDomains"]);return null!=n&&Kf(t,["excludeDomains"],n),t}(a));const s=Xf(e,["googleMaps"]);null!=s&&Kf(t,["googleMaps"],function(e){const t={},n=Xf(e,["authConfig"]);return null!=n&&Kf(t,["authConfig"],Iy(n)),t}(s));null!=Xf(e,["urlContext"])&&Kf(t,["urlContext"],{});const l=Xf(e,["computerUse"]);null!=l&&Kf(t,["computerUse"],function(e){const t={},n=Xf(e,["environment"]);return null!=n&&Kf(t,["environment"],n),t}(l));const c=Xf(e,["codeExecution"]);return null!=c&&Kf(t,["codeExecution"],c),t}function Py(e){const t={},n=Xf(e,["latLng"]);null!=n&&Kf(t,["latLng"],function(e){const t={},n=Xf(e,["latitude"]);null!=n&&Kf(t,["latitude"],n);const r=Xf(e,["longitude"]);return null!=r&&Kf(t,["longitude"],r),t}(n));const r=Xf(e,["languageCode"]);return null!=r&&Kf(t,["languageCode"],r),t}function My(e){const t={},n=Xf(e,["functionCallingConfig"]);null!=n&&Kf(t,["functionCallingConfig"],function(e){const t={},n=Xf(e,["mode"]);null!=n&&Kf(t,["mode"],n);const r=Xf(e,["allowedFunctionNames"]);return null!=r&&Kf(t,["allowedFunctionNames"],r),t}(n));const r=Xf(e,["retrievalConfig"]);return null!=r&&Kf(t,["retrievalConfig"],Py(r)),t}function Ry(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["model"],mg(e,r));const o=Xf(t,["config"]);return null!=o&&Kf(n,["config"],function(e,t){const n=Xf(e,["ttl"]);void 0!==t&&null!=n&&Kf(t,["ttl"],n);const r=Xf(e,["expireTime"]);void 0!==t&&null!=r&&Kf(t,["expireTime"],r);const o=Xf(e,["displayName"]);void 0!==t&&null!=o&&Kf(t,["displayName"],o);const i=Xf(e,["contents"]);if(void 0!==t&&null!=i){let e=Ng(i);Array.isArray(e)&&(e=e.map((e=>Ay(e)))),Kf(t,["contents"],e)}const a=Xf(e,["systemInstruction"]);void 0!==t&&null!=a&&Kf(t,["systemInstruction"],Ay(Cg(a)));const s=Xf(e,["tools"]);if(void 0!==t&&null!=s){let e=s;Array.isArray(e)&&(e=e.map((e=>_y(e)))),Kf(t,["tools"],e)}const l=Xf(e,["toolConfig"]);void 0!==t&&null!=l&&Kf(t,["toolConfig"],My(l));const c=Xf(e,["kmsKeyName"]);return void 0!==t&&null!=c&&Kf(t,["encryption_spec","kmsKeyName"],c),{}}(o,n)),n}function Dy(e,t){const n={},r=Xf(t,["name"]);null!=r&&Kf(n,["_url","name"],Mg(e,r));const o=Xf(t,["config"]);return null!=o&&Kf(n,["config"],function(e,t){const n=Xf(e,["ttl"]);void 0!==t&&null!=n&&Kf(t,["ttl"],n);const r=Xf(e,["expireTime"]);return void 0!==t&&null!=r&&Kf(t,["expireTime"],r),{}}(o,n)),n}function Ly(e){const t={},n=Xf(e,["config"]);return null!=n&&Kf(t,["config"],function(e,t){const n=Xf(e,["pageSize"]);void 0!==t&&null!=n&&Kf(t,["_query","pageSize"],n);const r=Xf(e,["pageToken"]);return void 0!==t&&null!=r&&Kf(t,["_query","pageToken"],r),{}}(n,t)),t}function Fy(e){const t={},n=Xf(e,["name"]);null!=n&&Kf(t,["name"],n);const r=Xf(e,["displayName"]);null!=r&&Kf(t,["displayName"],r);const o=Xf(e,["model"]);null!=o&&Kf(t,["model"],o);const i=Xf(e,["createTime"]);null!=i&&Kf(t,["createTime"],i);const a=Xf(e,["updateTime"]);null!=a&&Kf(t,["updateTime"],a);const s=Xf(e,["expireTime"]);null!=s&&Kf(t,["expireTime"],s);const l=Xf(e,["usageMetadata"]);return null!=l&&Kf(t,["usageMetadata"],l),t}function Uy(e){const t={},n=Xf(e,["name"]);null!=n&&Kf(t,["name"],n);const r=Xf(e,["displayName"]);null!=r&&Kf(t,["displayName"],r);const o=Xf(e,["model"]);null!=o&&Kf(t,["model"],o);const i=Xf(e,["createTime"]);null!=i&&Kf(t,["createTime"],i);const a=Xf(e,["updateTime"]);null!=a&&Kf(t,["updateTime"],a);const s=Xf(e,["expireTime"]);null!=s&&Kf(t,["expireTime"],s);const l=Xf(e,["usageMetadata"]);return null!=l&&Kf(t,["usageMetadata"],l),t}class Vy extends Yf{constructor(e){var t;super(),t=this,this.apiClient=e,this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new my(Wm.PAGED_ITEM_CACHED_CONTENTS,(e=>t.listInternal(e)),await t.listInternal(e),e)}}async create(e){var t,n,r,o;let i,a="",s={};if(this.apiClient.isVertexAI()){const r=Ry(this.apiClient,e);return a=Jf("cachedContents",r._url),s=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>Uy(e)))}{const t=Ey(this.apiClient,e);return a=Jf("cachedContents",t._url),s=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>Fy(e)))}}async get(e){var t,n,r,o;let i,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Xf(t,["name"]);null!=r&&Kf(n,["_url","name"],Mg(e,r));const o=Xf(t,["config"]);return null!=o&&Kf(n,["config"],o),n}(this.apiClient,e);return a=Jf("{name}",r._url),s=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>Uy(e)))}{const t=function(e,t){const n={},r=Xf(t,["name"]);null!=r&&Kf(n,["_url","name"],Mg(e,r));const o=Xf(t,["config"]);return null!=o&&Kf(n,["config"],o),n}(this.apiClient,e);return a=Jf("{name}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>Fy(e)))}}async delete(e){var t,n,r,o;let i,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Xf(t,["name"]);null!=r&&Kf(n,["_url","name"],Mg(e,r));const o=Xf(t,["config"]);return null!=o&&Kf(n,["config"],o),n}(this.apiClient,e);return a=Jf("{name}",r._url),s=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),i.then((e=>{const t=function(e){const t={},n=Xf(e,["sdkHttpResponse"]);return null!=n&&Kf(t,["sdkHttpResponse"],n),t}(e),n=new ag;return Object.assign(n,t),n}))}{const t=function(e,t){const n={},r=Xf(t,["name"]);null!=r&&Kf(n,["_url","name"],Mg(e,r));const o=Xf(t,["config"]);return null!=o&&Kf(n,["config"],o),n}(this.apiClient,e);return a=Jf("{name}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),i.then((e=>{const t=function(e){const t={},n=Xf(e,["sdkHttpResponse"]);return null!=n&&Kf(t,["sdkHttpResponse"],n),t}(e),n=new ag;return Object.assign(n,t),n}))}}async update(e){var t,n,r,o;let i,a="",s={};if(this.apiClient.isVertexAI()){const r=Dy(this.apiClient,e);return a=Jf("{name}",r._url),s=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>Uy(e)))}{const t=Cy(this.apiClient,e);return a=Jf("{name}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>Fy(e)))}}async listInternal(e){var t,n,r,o;let i,a="",s={};if(this.apiClient.isVertexAI()){const r=Ly(e);return a=Jf("cachedContents",r._url),s=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),i.then((e=>{const t=function(e){const t={},n=Xf(e,["sdkHttpResponse"]);null!=n&&Kf(t,["sdkHttpResponse"],n);const r=Xf(e,["nextPageToken"]);null!=r&&Kf(t,["nextPageToken"],r);const o=Xf(e,["cachedContents"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map((e=>Uy(e)))),Kf(t,["cachedContents"],e)}return t}(e),n=new sg;return Object.assign(n,t),n}))}{const t=Ty(e);return a=Jf("cachedContents",t._url),s=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),i.then((e=>{const t=function(e){const t={},n=Xf(e,["sdkHttpResponse"]);null!=n&&Kf(t,["sdkHttpResponse"],n);const r=Xf(e,["nextPageToken"]);null!=r&&Kf(t,["nextPageToken"],r);const o=Xf(e,["cachedContents"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map((e=>Fy(e)))),Kf(t,["cachedContents"],e)}return t}(e),n=new sg;return Object.assign(n,t),n}))}}}function By(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hy(e){return this instanceof Hy?(this.v=e,this):new Hy(e)}function zy(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",(function(e){return function(t){return Promise.resolve(t).then(e,c)}})),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))},t&&(r[e]=t(r[e])))}function s(e,t){try{(n=o[e](t)).value instanceof Hy?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(Xw){u(i[0][3],Xw)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function Wy(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=By(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function qy(e){var t;if(void 0==e.candidates||0===e.candidates.length)return!1;const n=null===(t=e.candidates[0])||void 0===t?void 0:t.content;return void 0!==n&&Gy(n)}function Gy(e){if(void 0===e.parts||0===e.parts.length)return!1;for(const t of e.parts)if(void 0===t||0===Object.keys(t).length)return!1;return!0}function Yy(e){if(void 0===e||0===e.length)return[];const t=[],n=e.length;let r=0;for(;r<n;)if("user"===e[r].role)t.push(e[r]),r++;else{const o=[];let i=!0;for(;r<n&&"model"===e[r].role;)o.push(e[r]),i&&!Gy(e[r])&&(i=!1),r++;i?t.push(...o):t.pop()}return t}"function"===typeof SuppressedError&&SuppressedError;class Jy{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new Ky(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Ky{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];this.apiClient=e,this.modelsModule=t,this.model=n,this.config=r,this.history=o,this.sendPromise=Promise.resolve(),function(e){if(0!==e.length)for(const t of e)if("user"!==t.role&&"model"!==t.role)throw new Error("Role must be user or model, but got ".concat(t.role,"."))}(o)}async sendMessage(e){var t;await this.sendPromise;const n=Cg(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});return this.sendPromise=(async()=>{var e,t,o;const i=await r,a=null===(t=null===(e=i.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content,s=i.automaticFunctionCallingHistory,l=this.getHistory(!0).length;let c=[];null!=s&&(c=null!==(o=s.slice(l))&&void 0!==o?o:[]);const u=a?[a]:[];this.recordHistory(n,u,c)})(),await this.sendPromise.catch((()=>{this.sendPromise=Promise.resolve()})),r}async sendMessageStream(e){var t;await this.sendPromise;const n=Cg(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});this.sendPromise=r.then((()=>{})).catch((()=>{}));const o=await r;return this.processStreamResponse(o,n)}getHistory(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?Yy(this.history):this.history;return structuredClone(e)}processStreamResponse(e,t){var n,r;return zy(this,arguments,(function*(){var o,i,a,s;const l=[];try{for(var c,u=!0,d=Wy(e);!(o=(c=yield Hy(d.next())).done);u=!0){s=c.value,u=!1;const e=s;if(qy(e)){const t=null===(r=null===(n=e.candidates)||void 0===n?void 0:n[0])||void 0===r?void 0:r.content;void 0!==t&&l.push(t)}yield yield Hy(e)}}catch(p){i={error:p}}finally{try{u||o||!(a=d.return)||(yield Hy(a.call(d)))}finally{if(i)throw i.error}}this.recordHistory(t,l)}))}recordHistory(e,t,n){let r=[];t.length>0&&t.every((e=>void 0!==e.role))?r=t:r.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...Yy(n)):this.history.push(e),this.history.push(...r)}}class Xy extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Xy.prototype)}}function $y(e){const t={},n=Xf(e,["config"]);return null!=n&&Kf(t,["config"],function(e,t){const n=Xf(e,["pageSize"]);void 0!==t&&null!=n&&Kf(t,["_query","pageSize"],n);const r=Xf(e,["pageToken"]);return void 0!==t&&null!=r&&Kf(t,["_query","pageToken"],r),{}}(n,t)),t}function Qy(e){const t={},n=Xf(e,["name"]);null!=n&&Kf(t,["name"],n);const r=Xf(e,["displayName"]);null!=r&&Kf(t,["displayName"],r);const o=Xf(e,["mimeType"]);null!=o&&Kf(t,["mimeType"],o);const i=Xf(e,["sizeBytes"]);null!=i&&Kf(t,["sizeBytes"],i);const a=Xf(e,["createTime"]);null!=a&&Kf(t,["createTime"],a);const s=Xf(e,["expirationTime"]);null!=s&&Kf(t,["expirationTime"],s);const l=Xf(e,["updateTime"]);null!=l&&Kf(t,["updateTime"],l);const c=Xf(e,["sha256Hash"]);null!=c&&Kf(t,["sha256Hash"],c);const u=Xf(e,["uri"]);null!=u&&Kf(t,["uri"],u);const d=Xf(e,["downloadUri"]);null!=d&&Kf(t,["downloadUri"],d);const p=Xf(e,["state"]);null!=p&&Kf(t,["state"],p);const h=Xf(e,["source"]);null!=h&&Kf(t,["source"],h);const f=Xf(e,["videoMetadata"]);null!=f&&Kf(t,["videoMetadata"],f);const m=Xf(e,["error"]);return null!=m&&Kf(t,["error"],function(e){const t={},n=Xf(e,["details"]);null!=n&&Kf(t,["details"],n);const r=Xf(e,["message"]);null!=r&&Kf(t,["message"],r);const o=Xf(e,["code"]);return null!=o&&Kf(t,["code"],o),t}(m)),t}function Zy(e){const t={},n=Xf(e,["name"]);null!=n&&Kf(t,["name"],n);const r=Xf(e,["displayName"]);null!=r&&Kf(t,["displayName"],r);const o=Xf(e,["mimeType"]);null!=o&&Kf(t,["mimeType"],o);const i=Xf(e,["sizeBytes"]);null!=i&&Kf(t,["sizeBytes"],i);const a=Xf(e,["createTime"]);null!=a&&Kf(t,["createTime"],a);const s=Xf(e,["expirationTime"]);null!=s&&Kf(t,["expirationTime"],s);const l=Xf(e,["updateTime"]);null!=l&&Kf(t,["updateTime"],l);const c=Xf(e,["sha256Hash"]);null!=c&&Kf(t,["sha256Hash"],c);const u=Xf(e,["uri"]);null!=u&&Kf(t,["uri"],u);const d=Xf(e,["downloadUri"]);null!=d&&Kf(t,["downloadUri"],d);const p=Xf(e,["state"]);null!=p&&Kf(t,["state"],p);const h=Xf(e,["source"]);null!=h&&Kf(t,["source"],h);const f=Xf(e,["videoMetadata"]);null!=f&&Kf(t,["videoMetadata"],f);const m=Xf(e,["error"]);return null!=m&&Kf(t,["error"],function(e){const t={},n=Xf(e,["details"]);null!=n&&Kf(t,["details"],n);const r=Xf(e,["message"]);null!=r&&Kf(t,["message"],r);const o=Xf(e,["code"]);return null!=o&&Kf(t,["code"],o),t}(m)),t}class ev extends Yf{constructor(e){var t;super(),t=this,this.apiClient=e,this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new my(Wm.PAGED_ITEM_FILES,(e=>t.listInternal(e)),await t.listInternal(e),e)}}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then((e=>Zy(e)))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=$y(e);return o=Jf("files",a._url),i=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),r.then((e=>{const t=function(e){const t={},n=Xf(e,["sdkHttpResponse"]);null!=n&&Kf(t,["sdkHttpResponse"],n);const r=Xf(e,["nextPageToken"]);null!=r&&Kf(t,["nextPageToken"],r);const o=Xf(e,["files"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map((e=>Zy(e)))),Kf(t,["files"],e)}return t}(e),n=new lg;return Object.assign(n,t),n}))}}async createInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=function(e){const t={},n=Xf(e,["file"]);null!=n&&Kf(t,["file"],Qy(n));const r=Xf(e,["config"]);return null!=r&&Kf(t,["config"],r),t}(e);return o=Jf("upload/v1beta/files",a._url),i=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),r.then((e=>{const t=function(e){const t={},n=Xf(e,["sdkHttpResponse"]);return null!=n&&Kf(t,["sdkHttpResponse"],n),t}(e),n=new cg;return Object.assign(n,t),n}))}}async get(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=function(e){const t={},n=Xf(e,["name"]);null!=n&&Kf(t,["_url","file"],Lg(n));const r=Xf(e,["config"]);return null!=r&&Kf(t,["config"],r),t}(e);return o=Jf("files/{file}",a._url),i=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),r.then((e=>Zy(e)))}}async delete(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=function(e){const t={},n=Xf(e,["name"]);null!=n&&Kf(t,["_url","file"],Lg(n));const r=Xf(e,["config"]);return null!=r&&Kf(t,["config"],r),t}(e);return o=Jf("files/{file}",a._url),i=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),r.then((e=>{const t=function(e){const t={},n=Xf(e,["sdkHttpResponse"]);return null!=n&&Kf(t,["sdkHttpResponse"],n),t}(e),n=new ug;return Object.assign(n,t),n}))}}}function tv(e){const t={},n=Xf(e,["prebuiltVoiceConfig"]);return null!=n&&Kf(t,["prebuiltVoiceConfig"],function(e){const t={},n=Xf(e,["voiceName"]);return null!=n&&Kf(t,["voiceName"],n),t}(n)),t}function nv(e){const t={},n=Xf(e,["speakerVoiceConfigs"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>function(e){const t={},n=Xf(e,["speaker"]);null!=n&&Kf(t,["speaker"],n);const r=Xf(e,["voiceConfig"]);return null!=r&&Kf(t,["voiceConfig"],tv(r)),t}(e)))),Kf(t,["speakerVoiceConfigs"],e)}return t}function rv(e){const t={},n=Xf(e,["videoMetadata"]);null!=n&&Kf(t,["videoMetadata"],function(e){const t={},n=Xf(e,["fps"]);null!=n&&Kf(t,["fps"],n);const r=Xf(e,["endOffset"]);null!=r&&Kf(t,["endOffset"],r);const o=Xf(e,["startOffset"]);return null!=o&&Kf(t,["startOffset"],o),t}(n));const r=Xf(e,["thought"]);null!=r&&Kf(t,["thought"],r);const o=Xf(e,["inlineData"]);null!=o&&Kf(t,["inlineData"],function(e){const t={};if(void 0!==Xf(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Xf(e,["data"]);null!=n&&Kf(t,["data"],n);const r=Xf(e,["mimeType"]);return null!=r&&Kf(t,["mimeType"],r),t}(o));const i=Xf(e,["fileData"]);null!=i&&Kf(t,["fileData"],function(e){const t={};if(void 0!==Xf(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Xf(e,["fileUri"]);null!=n&&Kf(t,["fileUri"],n);const r=Xf(e,["mimeType"]);return null!=r&&Kf(t,["mimeType"],r),t}(i));const a=Xf(e,["thoughtSignature"]);null!=a&&Kf(t,["thoughtSignature"],a);const s=Xf(e,["codeExecutionResult"]);null!=s&&Kf(t,["codeExecutionResult"],s);const l=Xf(e,["executableCode"]);null!=l&&Kf(t,["executableCode"],l);const c=Xf(e,["functionCall"]);null!=c&&Kf(t,["functionCall"],c);const u=Xf(e,["functionResponse"]);null!=u&&Kf(t,["functionResponse"],u);const d=Xf(e,["text"]);return null!=d&&Kf(t,["text"],d),t}function ov(e){const t={},n=Xf(e,["timeRangeFilter"]);if(null!=n&&Kf(t,["timeRangeFilter"],function(e){const t={},n=Xf(e,["startTime"]);null!=n&&Kf(t,["startTime"],n);const r=Xf(e,["endTime"]);return null!=r&&Kf(t,["endTime"],r),t}(n)),void 0!==Xf(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function iv(e){const t={},n=Xf(e,["dynamicRetrievalConfig"]);return null!=n&&Kf(t,["dynamicRetrievalConfig"],function(e){const t={},n=Xf(e,["mode"]);null!=n&&Kf(t,["mode"],n);const r=Xf(e,["dynamicThreshold"]);return null!=r&&Kf(t,["dynamicThreshold"],r),t}(n)),t}function av(e){const t={},n=Xf(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>function(e){const t={},n=Xf(e,["behavior"]);null!=n&&Kf(t,["behavior"],n);const r=Xf(e,["description"]);null!=r&&Kf(t,["description"],r);const o=Xf(e,["name"]);null!=o&&Kf(t,["name"],o);const i=Xf(e,["parameters"]);null!=i&&Kf(t,["parameters"],i);const a=Xf(e,["parametersJsonSchema"]);null!=a&&Kf(t,["parametersJsonSchema"],a);const s=Xf(e,["response"]);null!=s&&Kf(t,["response"],s);const l=Xf(e,["responseJsonSchema"]);return null!=l&&Kf(t,["responseJsonSchema"],l),t}(e)))),Kf(t,["functionDeclarations"],e)}if(void 0!==Xf(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=Xf(e,["googleSearch"]);null!=r&&Kf(t,["googleSearch"],ov(r));const o=Xf(e,["googleSearchRetrieval"]);if(null!=o&&Kf(t,["googleSearchRetrieval"],iv(o)),void 0!==Xf(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==Xf(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=Xf(e,["urlContext"])&&Kf(t,["urlContext"],{});const i=Xf(e,["computerUse"]);null!=i&&Kf(t,["computerUse"],function(e){const t={},n=Xf(e,["environment"]);return null!=n&&Kf(t,["environment"],n),t}(i));const a=Xf(e,["codeExecution"]);return null!=a&&Kf(t,["codeExecution"],a),t}function sv(e){const t={},n=Xf(e,["automaticActivityDetection"]);null!=n&&Kf(t,["automaticActivityDetection"],function(e){const t={},n=Xf(e,["disabled"]);null!=n&&Kf(t,["disabled"],n);const r=Xf(e,["startOfSpeechSensitivity"]);null!=r&&Kf(t,["startOfSpeechSensitivity"],r);const o=Xf(e,["endOfSpeechSensitivity"]);null!=o&&Kf(t,["endOfSpeechSensitivity"],o);const i=Xf(e,["prefixPaddingMs"]);null!=i&&Kf(t,["prefixPaddingMs"],i);const a=Xf(e,["silenceDurationMs"]);return null!=a&&Kf(t,["silenceDurationMs"],a),t}(n));const r=Xf(e,["activityHandling"]);null!=r&&Kf(t,["activityHandling"],r);const o=Xf(e,["turnCoverage"]);return null!=o&&Kf(t,["turnCoverage"],o),t}function lv(e){const t={},n=Xf(e,["triggerTokens"]);null!=n&&Kf(t,["triggerTokens"],n);const r=Xf(e,["slidingWindow"]);return null!=r&&Kf(t,["slidingWindow"],function(e){const t={},n=Xf(e,["targetTokens"]);return null!=n&&Kf(t,["targetTokens"],n),t}(r)),t}function cv(e,t){const n=Xf(e,["generationConfig"]);void 0!==t&&null!=n&&Kf(t,["setup","generationConfig"],n);const r=Xf(e,["responseModalities"]);void 0!==t&&null!=r&&Kf(t,["setup","generationConfig","responseModalities"],r);const o=Xf(e,["temperature"]);void 0!==t&&null!=o&&Kf(t,["setup","generationConfig","temperature"],o);const i=Xf(e,["topP"]);void 0!==t&&null!=i&&Kf(t,["setup","generationConfig","topP"],i);const a=Xf(e,["topK"]);void 0!==t&&null!=a&&Kf(t,["setup","generationConfig","topK"],a);const s=Xf(e,["maxOutputTokens"]);void 0!==t&&null!=s&&Kf(t,["setup","generationConfig","maxOutputTokens"],s);const l=Xf(e,["mediaResolution"]);void 0!==t&&null!=l&&Kf(t,["setup","generationConfig","mediaResolution"],l);const c=Xf(e,["seed"]);void 0!==t&&null!=c&&Kf(t,["setup","generationConfig","seed"],c);const u=Xf(e,["speechConfig"]);void 0!==t&&null!=u&&Kf(t,["setup","generationConfig","speechConfig"],function(e){const t={},n=Xf(e,["voiceConfig"]);null!=n&&Kf(t,["voiceConfig"],tv(n));const r=Xf(e,["multiSpeakerVoiceConfig"]);null!=r&&Kf(t,["multiSpeakerVoiceConfig"],nv(r));const o=Xf(e,["languageCode"]);return null!=o&&Kf(t,["languageCode"],o),t}(Ig(u)));const d=Xf(e,["enableAffectiveDialog"]);void 0!==t&&null!=d&&Kf(t,["setup","generationConfig","enableAffectiveDialog"],d);const p=Xf(e,["systemInstruction"]);void 0!==t&&null!=p&&Kf(t,["setup","systemInstruction"],function(e){const t={},n=Xf(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>rv(e)))),Kf(t,["parts"],e)}const r=Xf(e,["role"]);return null!=r&&Kf(t,["role"],r),t}(Cg(p)));const h=Xf(e,["tools"]);if(void 0!==t&&null!=h){let e=Pg(h);Array.isArray(e)&&(e=e.map((e=>av(_g(e))))),Kf(t,["setup","tools"],e)}const f=Xf(e,["sessionResumption"]);void 0!==t&&null!=f&&Kf(t,["setup","sessionResumption"],function(e){const t={},n=Xf(e,["handle"]);if(null!=n&&Kf(t,["handle"],n),void 0!==Xf(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(f));const m=Xf(e,["inputAudioTranscription"]);void 0!==t&&null!=m&&Kf(t,["setup","inputAudioTranscription"],{});const g=Xf(e,["outputAudioTranscription"]);void 0!==t&&null!=g&&Kf(t,["setup","outputAudioTranscription"],{});const y=Xf(e,["realtimeInputConfig"]);void 0!==t&&null!=y&&Kf(t,["setup","realtimeInputConfig"],sv(y));const v=Xf(e,["contextWindowCompression"]);void 0!==t&&null!=v&&Kf(t,["setup","contextWindowCompression"],lv(v));const x=Xf(e,["proactivity"]);return void 0!==t&&null!=x&&Kf(t,["setup","proactivity"],function(e){const t={},n=Xf(e,["proactiveAudio"]);return null!=n&&Kf(t,["proactiveAudio"],n),t}(x)),{}}function uv(e){const t={},n=Xf(e,["media"]);null!=n&&Kf(t,["mediaChunks"],gg(n));const r=Xf(e,["audio"]);null!=r&&Kf(t,["audio"],xg(r));const o=Xf(e,["audioStreamEnd"]);null!=o&&Kf(t,["audioStreamEnd"],o);const i=Xf(e,["video"]);null!=i&&Kf(t,["video"],vg(i));const a=Xf(e,["text"]);null!=a&&Kf(t,["text"],a);null!=Xf(e,["activityStart"])&&Kf(t,["activityStart"],{});return null!=Xf(e,["activityEnd"])&&Kf(t,["activityEnd"],{}),t}function dv(e){const t={},n=Xf(e,["text"]);null!=n&&Kf(t,["text"],n);const r=Xf(e,["weight"]);return null!=r&&Kf(t,["weight"],r),t}function pv(e){const t={},n=Xf(e,["temperature"]);null!=n&&Kf(t,["temperature"],n);const r=Xf(e,["topK"]);null!=r&&Kf(t,["topK"],r);const o=Xf(e,["seed"]);null!=o&&Kf(t,["seed"],o);const i=Xf(e,["guidance"]);null!=i&&Kf(t,["guidance"],i);const a=Xf(e,["bpm"]);null!=a&&Kf(t,["bpm"],a);const s=Xf(e,["density"]);null!=s&&Kf(t,["density"],s);const l=Xf(e,["brightness"]);null!=l&&Kf(t,["brightness"],l);const c=Xf(e,["scale"]);null!=c&&Kf(t,["scale"],c);const u=Xf(e,["muteBass"]);null!=u&&Kf(t,["muteBass"],u);const d=Xf(e,["muteDrums"]);null!=d&&Kf(t,["muteDrums"],d);const p=Xf(e,["onlyBassAndDrums"]);null!=p&&Kf(t,["onlyBassAndDrums"],p);const h=Xf(e,["musicGenerationMode"]);return null!=h&&Kf(t,["musicGenerationMode"],h),t}function hv(e){const t={},n=Xf(e,["model"]);return null!=n&&Kf(t,["model"],n),t}function fv(e){const t={},n=Xf(e,["weightedPrompts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>dv(e)))),Kf(t,["weightedPrompts"],e)}return t}function mv(e){const t={},n=Xf(e,["setup"]);null!=n&&Kf(t,["setup"],hv(n));const r=Xf(e,["clientContent"]);null!=r&&Kf(t,["clientContent"],fv(r));const o=Xf(e,["musicGenerationConfig"]);null!=o&&Kf(t,["musicGenerationConfig"],pv(o));const i=Xf(e,["playbackControl"]);return null!=i&&Kf(t,["playbackControl"],i),t}function gv(e){const t={},n=Xf(e,["prebuiltVoiceConfig"]);return null!=n&&Kf(t,["prebuiltVoiceConfig"],function(e){const t={},n=Xf(e,["voiceName"]);return null!=n&&Kf(t,["voiceName"],n),t}(n)),t}function yv(e){const t={},n=Xf(e,["videoMetadata"]);null!=n&&Kf(t,["videoMetadata"],function(e){const t={},n=Xf(e,["fps"]);null!=n&&Kf(t,["fps"],n);const r=Xf(e,["endOffset"]);null!=r&&Kf(t,["endOffset"],r);const o=Xf(e,["startOffset"]);return null!=o&&Kf(t,["startOffset"],o),t}(n));const r=Xf(e,["thought"]);null!=r&&Kf(t,["thought"],r);const o=Xf(e,["inlineData"]);null!=o&&Kf(t,["inlineData"],function(e){const t={},n=Xf(e,["displayName"]);null!=n&&Kf(t,["displayName"],n);const r=Xf(e,["data"]);null!=r&&Kf(t,["data"],r);const o=Xf(e,["mimeType"]);return null!=o&&Kf(t,["mimeType"],o),t}(o));const i=Xf(e,["fileData"]);null!=i&&Kf(t,["fileData"],function(e){const t={},n=Xf(e,["displayName"]);null!=n&&Kf(t,["displayName"],n);const r=Xf(e,["fileUri"]);null!=r&&Kf(t,["fileUri"],r);const o=Xf(e,["mimeType"]);return null!=o&&Kf(t,["mimeType"],o),t}(i));const a=Xf(e,["thoughtSignature"]);null!=a&&Kf(t,["thoughtSignature"],a);const s=Xf(e,["codeExecutionResult"]);null!=s&&Kf(t,["codeExecutionResult"],s);const l=Xf(e,["executableCode"]);null!=l&&Kf(t,["executableCode"],l);const c=Xf(e,["functionCall"]);null!=c&&Kf(t,["functionCall"],c);const u=Xf(e,["functionResponse"]);null!=u&&Kf(t,["functionResponse"],u);const d=Xf(e,["text"]);return null!=d&&Kf(t,["text"],d),t}function vv(e){const t={},n=Xf(e,["timeRangeFilter"]);null!=n&&Kf(t,["timeRangeFilter"],function(e){const t={},n=Xf(e,["startTime"]);null!=n&&Kf(t,["startTime"],n);const r=Xf(e,["endTime"]);return null!=r&&Kf(t,["endTime"],r),t}(n));const r=Xf(e,["excludeDomains"]);return null!=r&&Kf(t,["excludeDomains"],r),t}function xv(e){const t={},n=Xf(e,["dynamicRetrievalConfig"]);return null!=n&&Kf(t,["dynamicRetrievalConfig"],function(e){const t={},n=Xf(e,["mode"]);null!=n&&Kf(t,["mode"],n);const r=Xf(e,["dynamicThreshold"]);return null!=r&&Kf(t,["dynamicThreshold"],r),t}(n)),t}function bv(e){const t={},n=Xf(e,["apiKeyConfig"]);null!=n&&Kf(t,["apiKeyConfig"],function(e){const t={},n=Xf(e,["apiKeyString"]);return null!=n&&Kf(t,["apiKeyString"],n),t}(n));const r=Xf(e,["authType"]);null!=r&&Kf(t,["authType"],r);const o=Xf(e,["googleServiceAccountConfig"]);null!=o&&Kf(t,["googleServiceAccountConfig"],o);const i=Xf(e,["httpBasicAuthConfig"]);null!=i&&Kf(t,["httpBasicAuthConfig"],i);const a=Xf(e,["oauthConfig"]);null!=a&&Kf(t,["oauthConfig"],a);const s=Xf(e,["oidcConfig"]);return null!=s&&Kf(t,["oidcConfig"],s),t}function wv(e){const t={},n=Xf(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>function(e){const t={};if(void 0!==Xf(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=Xf(e,["description"]);null!=n&&Kf(t,["description"],n);const r=Xf(e,["name"]);null!=r&&Kf(t,["name"],r);const o=Xf(e,["parameters"]);null!=o&&Kf(t,["parameters"],o);const i=Xf(e,["parametersJsonSchema"]);null!=i&&Kf(t,["parametersJsonSchema"],i);const a=Xf(e,["response"]);null!=a&&Kf(t,["response"],a);const s=Xf(e,["responseJsonSchema"]);return null!=s&&Kf(t,["responseJsonSchema"],s),t}(e)))),Kf(t,["functionDeclarations"],e)}const r=Xf(e,["retrieval"]);null!=r&&Kf(t,["retrieval"],r);const o=Xf(e,["googleSearch"]);null!=o&&Kf(t,["googleSearch"],vv(o));const i=Xf(e,["googleSearchRetrieval"]);null!=i&&Kf(t,["googleSearchRetrieval"],xv(i));const a=Xf(e,["enterpriseWebSearch"]);null!=a&&Kf(t,["enterpriseWebSearch"],function(e){const t={},n=Xf(e,["excludeDomains"]);return null!=n&&Kf(t,["excludeDomains"],n),t}(a));const s=Xf(e,["googleMaps"]);null!=s&&Kf(t,["googleMaps"],function(e){const t={},n=Xf(e,["authConfig"]);return null!=n&&Kf(t,["authConfig"],bv(n)),t}(s));null!=Xf(e,["urlContext"])&&Kf(t,["urlContext"],{});const l=Xf(e,["computerUse"]);null!=l&&Kf(t,["computerUse"],function(e){const t={},n=Xf(e,["environment"]);return null!=n&&Kf(t,["environment"],n),t}(l));const c=Xf(e,["codeExecution"]);return null!=c&&Kf(t,["codeExecution"],c),t}function kv(e){const t={},n=Xf(e,["automaticActivityDetection"]);null!=n&&Kf(t,["automaticActivityDetection"],function(e){const t={},n=Xf(e,["disabled"]);null!=n&&Kf(t,["disabled"],n);const r=Xf(e,["startOfSpeechSensitivity"]);null!=r&&Kf(t,["startOfSpeechSensitivity"],r);const o=Xf(e,["endOfSpeechSensitivity"]);null!=o&&Kf(t,["endOfSpeechSensitivity"],o);const i=Xf(e,["prefixPaddingMs"]);null!=i&&Kf(t,["prefixPaddingMs"],i);const a=Xf(e,["silenceDurationMs"]);return null!=a&&Kf(t,["silenceDurationMs"],a),t}(n));const r=Xf(e,["activityHandling"]);null!=r&&Kf(t,["activityHandling"],r);const o=Xf(e,["turnCoverage"]);return null!=o&&Kf(t,["turnCoverage"],o),t}function Sv(e){const t={},n=Xf(e,["triggerTokens"]);null!=n&&Kf(t,["triggerTokens"],n);const r=Xf(e,["slidingWindow"]);return null!=r&&Kf(t,["slidingWindow"],function(e){const t={},n=Xf(e,["targetTokens"]);return null!=n&&Kf(t,["targetTokens"],n),t}(r)),t}function Ev(e,t){const n=Xf(e,["generationConfig"]);void 0!==t&&null!=n&&Kf(t,["setup","generationConfig"],n);const r=Xf(e,["responseModalities"]);void 0!==t&&null!=r&&Kf(t,["setup","generationConfig","responseModalities"],r);const o=Xf(e,["temperature"]);void 0!==t&&null!=o&&Kf(t,["setup","generationConfig","temperature"],o);const i=Xf(e,["topP"]);void 0!==t&&null!=i&&Kf(t,["setup","generationConfig","topP"],i);const a=Xf(e,["topK"]);void 0!==t&&null!=a&&Kf(t,["setup","generationConfig","topK"],a);const s=Xf(e,["maxOutputTokens"]);void 0!==t&&null!=s&&Kf(t,["setup","generationConfig","maxOutputTokens"],s);const l=Xf(e,["mediaResolution"]);void 0!==t&&null!=l&&Kf(t,["setup","generationConfig","mediaResolution"],l);const c=Xf(e,["seed"]);void 0!==t&&null!=c&&Kf(t,["setup","generationConfig","seed"],c);const u=Xf(e,["speechConfig"]);void 0!==t&&null!=u&&Kf(t,["setup","generationConfig","speechConfig"],function(e){const t={},n=Xf(e,["voiceConfig"]);if(null!=n&&Kf(t,["voiceConfig"],gv(n)),void 0!==Xf(e,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=Xf(e,["languageCode"]);return null!=r&&Kf(t,["languageCode"],r),t}(Ig(u)));const d=Xf(e,["enableAffectiveDialog"]);void 0!==t&&null!=d&&Kf(t,["setup","generationConfig","enableAffectiveDialog"],d);const p=Xf(e,["systemInstruction"]);void 0!==t&&null!=p&&Kf(t,["setup","systemInstruction"],function(e){const t={},n=Xf(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>yv(e)))),Kf(t,["parts"],e)}const r=Xf(e,["role"]);return null!=r&&Kf(t,["role"],r),t}(Cg(p)));const h=Xf(e,["tools"]);if(void 0!==t&&null!=h){let e=Pg(h);Array.isArray(e)&&(e=e.map((e=>wv(_g(e))))),Kf(t,["setup","tools"],e)}const f=Xf(e,["sessionResumption"]);void 0!==t&&null!=f&&Kf(t,["setup","sessionResumption"],function(e){const t={},n=Xf(e,["handle"]);null!=n&&Kf(t,["handle"],n);const r=Xf(e,["transparent"]);return null!=r&&Kf(t,["transparent"],r),t}(f));const m=Xf(e,["inputAudioTranscription"]);void 0!==t&&null!=m&&Kf(t,["setup","inputAudioTranscription"],{});const g=Xf(e,["outputAudioTranscription"]);void 0!==t&&null!=g&&Kf(t,["setup","outputAudioTranscription"],{});const y=Xf(e,["realtimeInputConfig"]);void 0!==t&&null!=y&&Kf(t,["setup","realtimeInputConfig"],kv(y));const v=Xf(e,["contextWindowCompression"]);void 0!==t&&null!=v&&Kf(t,["setup","contextWindowCompression"],Sv(v));const x=Xf(e,["proactivity"]);return void 0!==t&&null!=x&&Kf(t,["setup","proactivity"],function(e){const t={},n=Xf(e,["proactiveAudio"]);return null!=n&&Kf(t,["proactiveAudio"],n),t}(x)),{}}function Cv(e){const t={},n=Xf(e,["media"]);null!=n&&Kf(t,["mediaChunks"],gg(n));const r=Xf(e,["audio"]);null!=r&&Kf(t,["audio"],xg(r));const o=Xf(e,["audioStreamEnd"]);null!=o&&Kf(t,["audioStreamEnd"],o);const i=Xf(e,["video"]);null!=i&&Kf(t,["video"],vg(i));const a=Xf(e,["text"]);null!=a&&Kf(t,["text"],a);null!=Xf(e,["activityStart"])&&Kf(t,["activityStart"],{});return null!=Xf(e,["activityEnd"])&&Kf(t,["activityEnd"],{}),t}function Tv(e){const t={},n=Xf(e,["videoMetadata"]);null!=n&&Kf(t,["videoMetadata"],function(e){const t={},n=Xf(e,["fps"]);null!=n&&Kf(t,["fps"],n);const r=Xf(e,["endOffset"]);null!=r&&Kf(t,["endOffset"],r);const o=Xf(e,["startOffset"]);return null!=o&&Kf(t,["startOffset"],o),t}(n));const r=Xf(e,["thought"]);null!=r&&Kf(t,["thought"],r);const o=Xf(e,["inlineData"]);null!=o&&Kf(t,["inlineData"],function(e){const t={},n=Xf(e,["data"]);null!=n&&Kf(t,["data"],n);const r=Xf(e,["mimeType"]);return null!=r&&Kf(t,["mimeType"],r),t}(o));const i=Xf(e,["fileData"]);null!=i&&Kf(t,["fileData"],function(e){const t={},n=Xf(e,["fileUri"]);null!=n&&Kf(t,["fileUri"],n);const r=Xf(e,["mimeType"]);return null!=r&&Kf(t,["mimeType"],r),t}(i));const a=Xf(e,["thoughtSignature"]);null!=a&&Kf(t,["thoughtSignature"],a);const s=Xf(e,["codeExecutionResult"]);null!=s&&Kf(t,["codeExecutionResult"],s);const l=Xf(e,["executableCode"]);null!=l&&Kf(t,["executableCode"],l);const c=Xf(e,["functionCall"]);null!=c&&Kf(t,["functionCall"],c);const u=Xf(e,["functionResponse"]);null!=u&&Kf(t,["functionResponse"],u);const d=Xf(e,["text"]);return null!=d&&Kf(t,["text"],d),t}function Nv(e){const t={},n=Xf(e,["text"]);null!=n&&Kf(t,["text"],n);const r=Xf(e,["finished"]);return null!=r&&Kf(t,["finished"],r),t}function Av(e){const t={},n=Xf(e,["urlMetadata"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>function(e){const t={},n=Xf(e,["retrievedUrl"]);null!=n&&Kf(t,["retrievedUrl"],n);const r=Xf(e,["urlRetrievalStatus"]);return null!=r&&Kf(t,["urlRetrievalStatus"],r),t}(e)))),Kf(t,["urlMetadata"],e)}return t}function jv(e){const t={},n=Xf(e,["modelTurn"]);null!=n&&Kf(t,["modelTurn"],function(e){const t={},n=Xf(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>Tv(e)))),Kf(t,["parts"],e)}const r=Xf(e,["role"]);return null!=r&&Kf(t,["role"],r),t}(n));const r=Xf(e,["turnComplete"]);null!=r&&Kf(t,["turnComplete"],r);const o=Xf(e,["interrupted"]);null!=o&&Kf(t,["interrupted"],o);const i=Xf(e,["groundingMetadata"]);null!=i&&Kf(t,["groundingMetadata"],i);const a=Xf(e,["generationComplete"]);null!=a&&Kf(t,["generationComplete"],a);const s=Xf(e,["inputTranscription"]);null!=s&&Kf(t,["inputTranscription"],Nv(s));const l=Xf(e,["outputTranscription"]);null!=l&&Kf(t,["outputTranscription"],Nv(l));const c=Xf(e,["urlContextMetadata"]);return null!=c&&Kf(t,["urlContextMetadata"],Av(c)),t}function Ov(e){const t={},n=Xf(e,["functionCalls"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>function(e){const t={},n=Xf(e,["id"]);null!=n&&Kf(t,["id"],n);const r=Xf(e,["args"]);null!=r&&Kf(t,["args"],r);const o=Xf(e,["name"]);return null!=o&&Kf(t,["name"],o),t}(e)))),Kf(t,["functionCalls"],e)}return t}function Iv(e){const t={},n=Xf(e,["modality"]);null!=n&&Kf(t,["modality"],n);const r=Xf(e,["tokenCount"]);return null!=r&&Kf(t,["tokenCount"],r),t}function _v(e){const t={};null!=Xf(e,["setupComplete"])&&Kf(t,["setupComplete"],{});const n=Xf(e,["serverContent"]);null!=n&&Kf(t,["serverContent"],jv(n));const r=Xf(e,["toolCall"]);null!=r&&Kf(t,["toolCall"],Ov(r));const o=Xf(e,["toolCallCancellation"]);null!=o&&Kf(t,["toolCallCancellation"],function(e){const t={},n=Xf(e,["ids"]);return null!=n&&Kf(t,["ids"],n),t}(o));const i=Xf(e,["usageMetadata"]);null!=i&&Kf(t,["usageMetadata"],function(e){const t={},n=Xf(e,["promptTokenCount"]);null!=n&&Kf(t,["promptTokenCount"],n);const r=Xf(e,["cachedContentTokenCount"]);null!=r&&Kf(t,["cachedContentTokenCount"],r);const o=Xf(e,["responseTokenCount"]);null!=o&&Kf(t,["responseTokenCount"],o);const i=Xf(e,["toolUsePromptTokenCount"]);null!=i&&Kf(t,["toolUsePromptTokenCount"],i);const a=Xf(e,["thoughtsTokenCount"]);null!=a&&Kf(t,["thoughtsTokenCount"],a);const s=Xf(e,["totalTokenCount"]);null!=s&&Kf(t,["totalTokenCount"],s);const l=Xf(e,["promptTokensDetails"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map((e=>Iv(e)))),Kf(t,["promptTokensDetails"],e)}const c=Xf(e,["cacheTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map((e=>Iv(e)))),Kf(t,["cacheTokensDetails"],e)}const u=Xf(e,["responseTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map((e=>Iv(e)))),Kf(t,["responseTokensDetails"],e)}const d=Xf(e,["toolUsePromptTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map((e=>Iv(e)))),Kf(t,["toolUsePromptTokensDetails"],e)}return t}(i));const a=Xf(e,["goAway"]);null!=a&&Kf(t,["goAway"],function(e){const t={},n=Xf(e,["timeLeft"]);return null!=n&&Kf(t,["timeLeft"],n),t}(a));const s=Xf(e,["sessionResumptionUpdate"]);return null!=s&&Kf(t,["sessionResumptionUpdate"],function(e){const t={},n=Xf(e,["newHandle"]);null!=n&&Kf(t,["newHandle"],n);const r=Xf(e,["resumable"]);null!=r&&Kf(t,["resumable"],r);const o=Xf(e,["lastConsumedClientMessageIndex"]);return null!=o&&Kf(t,["lastConsumedClientMessageIndex"],o),t}(s)),t}function Pv(e){const t={},n=Xf(e,["weightedPrompts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>function(e){const t={},n=Xf(e,["text"]);null!=n&&Kf(t,["text"],n);const r=Xf(e,["weight"]);return null!=r&&Kf(t,["weight"],r),t}(e)))),Kf(t,["weightedPrompts"],e)}return t}function Mv(e){const t={},n=Xf(e,["clientContent"]);null!=n&&Kf(t,["clientContent"],Pv(n));const r=Xf(e,["musicGenerationConfig"]);return null!=r&&Kf(t,["musicGenerationConfig"],function(e){const t={},n=Xf(e,["temperature"]);null!=n&&Kf(t,["temperature"],n);const r=Xf(e,["topK"]);null!=r&&Kf(t,["topK"],r);const o=Xf(e,["seed"]);null!=o&&Kf(t,["seed"],o);const i=Xf(e,["guidance"]);null!=i&&Kf(t,["guidance"],i);const a=Xf(e,["bpm"]);null!=a&&Kf(t,["bpm"],a);const s=Xf(e,["density"]);null!=s&&Kf(t,["density"],s);const l=Xf(e,["brightness"]);null!=l&&Kf(t,["brightness"],l);const c=Xf(e,["scale"]);null!=c&&Kf(t,["scale"],c);const u=Xf(e,["muteBass"]);null!=u&&Kf(t,["muteBass"],u);const d=Xf(e,["muteDrums"]);null!=d&&Kf(t,["muteDrums"],d);const p=Xf(e,["onlyBassAndDrums"]);null!=p&&Kf(t,["onlyBassAndDrums"],p);const h=Xf(e,["musicGenerationMode"]);return null!=h&&Kf(t,["musicGenerationMode"],h),t}(r)),t}function Rv(e){const t={},n=Xf(e,["audioChunks"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>function(e){const t={},n=Xf(e,["data"]);null!=n&&Kf(t,["data"],n);const r=Xf(e,["mimeType"]);null!=r&&Kf(t,["mimeType"],r);const o=Xf(e,["sourceMetadata"]);return null!=o&&Kf(t,["sourceMetadata"],Mv(o)),t}(e)))),Kf(t,["audioChunks"],e)}return t}function Dv(e){const t={};null!=Xf(e,["setupComplete"])&&Kf(t,["setupComplete"],{});const n=Xf(e,["serverContent"]);null!=n&&Kf(t,["serverContent"],Rv(n));const r=Xf(e,["filteredPrompt"]);return null!=r&&Kf(t,["filteredPrompt"],function(e){const t={},n=Xf(e,["text"]);null!=n&&Kf(t,["text"],n);const r=Xf(e,["filteredReason"]);return null!=r&&Kf(t,["filteredReason"],r),t}(r)),t}function Lv(e){const t={},n=Xf(e,["videoMetadata"]);null!=n&&Kf(t,["videoMetadata"],function(e){const t={},n=Xf(e,["fps"]);null!=n&&Kf(t,["fps"],n);const r=Xf(e,["endOffset"]);null!=r&&Kf(t,["endOffset"],r);const o=Xf(e,["startOffset"]);return null!=o&&Kf(t,["startOffset"],o),t}(n));const r=Xf(e,["thought"]);null!=r&&Kf(t,["thought"],r);const o=Xf(e,["inlineData"]);null!=o&&Kf(t,["inlineData"],function(e){const t={},n=Xf(e,["displayName"]);null!=n&&Kf(t,["displayName"],n);const r=Xf(e,["data"]);null!=r&&Kf(t,["data"],r);const o=Xf(e,["mimeType"]);return null!=o&&Kf(t,["mimeType"],o),t}(o));const i=Xf(e,["fileData"]);null!=i&&Kf(t,["fileData"],function(e){const t={},n=Xf(e,["displayName"]);null!=n&&Kf(t,["displayName"],n);const r=Xf(e,["fileUri"]);null!=r&&Kf(t,["fileUri"],r);const o=Xf(e,["mimeType"]);return null!=o&&Kf(t,["mimeType"],o),t}(i));const a=Xf(e,["thoughtSignature"]);null!=a&&Kf(t,["thoughtSignature"],a);const s=Xf(e,["codeExecutionResult"]);null!=s&&Kf(t,["codeExecutionResult"],s);const l=Xf(e,["executableCode"]);null!=l&&Kf(t,["executableCode"],l);const c=Xf(e,["functionCall"]);null!=c&&Kf(t,["functionCall"],c);const u=Xf(e,["functionResponse"]);null!=u&&Kf(t,["functionResponse"],u);const d=Xf(e,["text"]);return null!=d&&Kf(t,["text"],d),t}function Fv(e){const t={},n=Xf(e,["text"]);null!=n&&Kf(t,["text"],n);const r=Xf(e,["finished"]);return null!=r&&Kf(t,["finished"],r),t}function Uv(e){const t={},n=Xf(e,["modelTurn"]);null!=n&&Kf(t,["modelTurn"],function(e){const t={},n=Xf(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>Lv(e)))),Kf(t,["parts"],e)}const r=Xf(e,["role"]);return null!=r&&Kf(t,["role"],r),t}(n));const r=Xf(e,["turnComplete"]);null!=r&&Kf(t,["turnComplete"],r);const o=Xf(e,["interrupted"]);null!=o&&Kf(t,["interrupted"],o);const i=Xf(e,["groundingMetadata"]);null!=i&&Kf(t,["groundingMetadata"],i);const a=Xf(e,["generationComplete"]);null!=a&&Kf(t,["generationComplete"],a);const s=Xf(e,["inputTranscription"]);null!=s&&Kf(t,["inputTranscription"],Fv(s));const l=Xf(e,["outputTranscription"]);return null!=l&&Kf(t,["outputTranscription"],Fv(l)),t}function Vv(e){const t={},n=Xf(e,["functionCalls"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>function(e){const t={},n=Xf(e,["args"]);null!=n&&Kf(t,["args"],n);const r=Xf(e,["name"]);return null!=r&&Kf(t,["name"],r),t}(e)))),Kf(t,["functionCalls"],e)}return t}function Bv(e){const t={},n=Xf(e,["modality"]);null!=n&&Kf(t,["modality"],n);const r=Xf(e,["tokenCount"]);return null!=r&&Kf(t,["tokenCount"],r),t}function Hv(e){const t={},n=Xf(e,["setupComplete"]);null!=n&&Kf(t,["setupComplete"],function(e){const t={},n=Xf(e,["sessionId"]);return null!=n&&Kf(t,["sessionId"],n),t}(n));const r=Xf(e,["serverContent"]);null!=r&&Kf(t,["serverContent"],Uv(r));const o=Xf(e,["toolCall"]);null!=o&&Kf(t,["toolCall"],Vv(o));const i=Xf(e,["toolCallCancellation"]);null!=i&&Kf(t,["toolCallCancellation"],function(e){const t={},n=Xf(e,["ids"]);return null!=n&&Kf(t,["ids"],n),t}(i));const a=Xf(e,["usageMetadata"]);null!=a&&Kf(t,["usageMetadata"],function(e){const t={},n=Xf(e,["promptTokenCount"]);null!=n&&Kf(t,["promptTokenCount"],n);const r=Xf(e,["cachedContentTokenCount"]);null!=r&&Kf(t,["cachedContentTokenCount"],r);const o=Xf(e,["candidatesTokenCount"]);null!=o&&Kf(t,["responseTokenCount"],o);const i=Xf(e,["toolUsePromptTokenCount"]);null!=i&&Kf(t,["toolUsePromptTokenCount"],i);const a=Xf(e,["thoughtsTokenCount"]);null!=a&&Kf(t,["thoughtsTokenCount"],a);const s=Xf(e,["totalTokenCount"]);null!=s&&Kf(t,["totalTokenCount"],s);const l=Xf(e,["promptTokensDetails"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map((e=>Bv(e)))),Kf(t,["promptTokensDetails"],e)}const c=Xf(e,["cacheTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map((e=>Bv(e)))),Kf(t,["cacheTokensDetails"],e)}const u=Xf(e,["candidatesTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map((e=>Bv(e)))),Kf(t,["responseTokensDetails"],e)}const d=Xf(e,["toolUsePromptTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map((e=>Bv(e)))),Kf(t,["toolUsePromptTokensDetails"],e)}const p=Xf(e,["trafficType"]);return null!=p&&Kf(t,["trafficType"],p),t}(a));const s=Xf(e,["goAway"]);null!=s&&Kf(t,["goAway"],function(e){const t={},n=Xf(e,["timeLeft"]);return null!=n&&Kf(t,["timeLeft"],n),t}(s));const l=Xf(e,["sessionResumptionUpdate"]);return null!=l&&Kf(t,["sessionResumptionUpdate"],function(e){const t={},n=Xf(e,["newHandle"]);null!=n&&Kf(t,["newHandle"],n);const r=Xf(e,["resumable"]);null!=r&&Kf(t,["resumable"],r);const o=Xf(e,["lastConsumedClientMessageIndex"]);return null!=o&&Kf(t,["lastConsumedClientMessageIndex"],o),t}(l)),t}function zv(e){const t={},n=Xf(e,["videoMetadata"]);null!=n&&Kf(t,["videoMetadata"],function(e){const t={},n=Xf(e,["fps"]);null!=n&&Kf(t,["fps"],n);const r=Xf(e,["endOffset"]);null!=r&&Kf(t,["endOffset"],r);const o=Xf(e,["startOffset"]);return null!=o&&Kf(t,["startOffset"],o),t}(n));const r=Xf(e,["thought"]);null!=r&&Kf(t,["thought"],r);const o=Xf(e,["inlineData"]);null!=o&&Kf(t,["inlineData"],function(e){const t={};if(void 0!==Xf(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Xf(e,["data"]);null!=n&&Kf(t,["data"],n);const r=Xf(e,["mimeType"]);return null!=r&&Kf(t,["mimeType"],r),t}(o));const i=Xf(e,["fileData"]);null!=i&&Kf(t,["fileData"],function(e){const t={};if(void 0!==Xf(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Xf(e,["fileUri"]);null!=n&&Kf(t,["fileUri"],n);const r=Xf(e,["mimeType"]);return null!=r&&Kf(t,["mimeType"],r),t}(i));const a=Xf(e,["thoughtSignature"]);null!=a&&Kf(t,["thoughtSignature"],a);const s=Xf(e,["codeExecutionResult"]);null!=s&&Kf(t,["codeExecutionResult"],s);const l=Xf(e,["executableCode"]);null!=l&&Kf(t,["executableCode"],l);const c=Xf(e,["functionCall"]);null!=c&&Kf(t,["functionCall"],c);const u=Xf(e,["functionResponse"]);null!=u&&Kf(t,["functionResponse"],u);const d=Xf(e,["text"]);return null!=d&&Kf(t,["text"],d),t}function Wv(e){const t={},n=Xf(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>zv(e)))),Kf(t,["parts"],e)}const r=Xf(e,["role"]);return null!=r&&Kf(t,["role"],r),t}function qv(e){const t={},n=Xf(e,["timeRangeFilter"]);if(null!=n&&Kf(t,["timeRangeFilter"],function(e){const t={},n=Xf(e,["startTime"]);null!=n&&Kf(t,["startTime"],n);const r=Xf(e,["endTime"]);return null!=r&&Kf(t,["endTime"],r),t}(n)),void 0!==Xf(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function Gv(e){const t={},n=Xf(e,["dynamicRetrievalConfig"]);return null!=n&&Kf(t,["dynamicRetrievalConfig"],function(e){const t={},n=Xf(e,["mode"]);null!=n&&Kf(t,["mode"],n);const r=Xf(e,["dynamicThreshold"]);return null!=r&&Kf(t,["dynamicThreshold"],r),t}(n)),t}function Yv(e){const t={},n=Xf(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>function(e){const t={},n=Xf(e,["behavior"]);null!=n&&Kf(t,["behavior"],n);const r=Xf(e,["description"]);null!=r&&Kf(t,["description"],r);const o=Xf(e,["name"]);null!=o&&Kf(t,["name"],o);const i=Xf(e,["parameters"]);null!=i&&Kf(t,["parameters"],i);const a=Xf(e,["parametersJsonSchema"]);null!=a&&Kf(t,["parametersJsonSchema"],a);const s=Xf(e,["response"]);null!=s&&Kf(t,["response"],s);const l=Xf(e,["responseJsonSchema"]);return null!=l&&Kf(t,["responseJsonSchema"],l),t}(e)))),Kf(t,["functionDeclarations"],e)}if(void 0!==Xf(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=Xf(e,["googleSearch"]);null!=r&&Kf(t,["googleSearch"],qv(r));const o=Xf(e,["googleSearchRetrieval"]);if(null!=o&&Kf(t,["googleSearchRetrieval"],Gv(o)),void 0!==Xf(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==Xf(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=Xf(e,["urlContext"])&&Kf(t,["urlContext"],{});const i=Xf(e,["computerUse"]);null!=i&&Kf(t,["computerUse"],function(e){const t={},n=Xf(e,["environment"]);return null!=n&&Kf(t,["environment"],n),t}(i));const a=Xf(e,["codeExecution"]);return null!=a&&Kf(t,["codeExecution"],a),t}function Jv(e){const t={},n=Xf(e,["latLng"]);null!=n&&Kf(t,["latLng"],function(e){const t={},n=Xf(e,["latitude"]);null!=n&&Kf(t,["latitude"],n);const r=Xf(e,["longitude"]);return null!=r&&Kf(t,["longitude"],r),t}(n));const r=Xf(e,["languageCode"]);return null!=r&&Kf(t,["languageCode"],r),t}function Kv(e){const t={},n=Xf(e,["functionCallingConfig"]);null!=n&&Kf(t,["functionCallingConfig"],function(e){const t={},n=Xf(e,["mode"]);null!=n&&Kf(t,["mode"],n);const r=Xf(e,["allowedFunctionNames"]);return null!=r&&Kf(t,["allowedFunctionNames"],r),t}(n));const r=Xf(e,["retrievalConfig"]);return null!=r&&Kf(t,["retrievalConfig"],Jv(r)),t}function Xv(e){const t={},n=Xf(e,["prebuiltVoiceConfig"]);return null!=n&&Kf(t,["prebuiltVoiceConfig"],function(e){const t={},n=Xf(e,["voiceName"]);return null!=n&&Kf(t,["voiceName"],n),t}(n)),t}function $v(e){const t={},n=Xf(e,["speakerVoiceConfigs"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>function(e){const t={},n=Xf(e,["speaker"]);null!=n&&Kf(t,["speaker"],n);const r=Xf(e,["voiceConfig"]);return null!=r&&Kf(t,["voiceConfig"],Xv(r)),t}(e)))),Kf(t,["speakerVoiceConfigs"],e)}return t}function Qv(e,t,n){const r={},o=Xf(t,["systemInstruction"]);void 0!==n&&null!=o&&Kf(n,["systemInstruction"],Wv(Cg(o)));const i=Xf(t,["temperature"]);null!=i&&Kf(r,["temperature"],i);const a=Xf(t,["topP"]);null!=a&&Kf(r,["topP"],a);const s=Xf(t,["topK"]);null!=s&&Kf(r,["topK"],s);const l=Xf(t,["candidateCount"]);null!=l&&Kf(r,["candidateCount"],l);const c=Xf(t,["maxOutputTokens"]);null!=c&&Kf(r,["maxOutputTokens"],c);const u=Xf(t,["stopSequences"]);null!=u&&Kf(r,["stopSequences"],u);const d=Xf(t,["responseLogprobs"]);null!=d&&Kf(r,["responseLogprobs"],d);const p=Xf(t,["logprobs"]);null!=p&&Kf(r,["logprobs"],p);const h=Xf(t,["presencePenalty"]);null!=h&&Kf(r,["presencePenalty"],h);const f=Xf(t,["frequencyPenalty"]);null!=f&&Kf(r,["frequencyPenalty"],f);const m=Xf(t,["seed"]);null!=m&&Kf(r,["seed"],m);const g=Xf(t,["responseMimeType"]);null!=g&&Kf(r,["responseMimeType"],g);const y=Xf(t,["responseSchema"]);null!=y&&Kf(r,["responseSchema"],function(e){const t={},n=Xf(e,["anyOf"]);null!=n&&Kf(t,["anyOf"],n);const r=Xf(e,["default"]);null!=r&&Kf(t,["default"],r);const o=Xf(e,["description"]);null!=o&&Kf(t,["description"],o);const i=Xf(e,["enum"]);null!=i&&Kf(t,["enum"],i);const a=Xf(e,["example"]);null!=a&&Kf(t,["example"],a);const s=Xf(e,["format"]);null!=s&&Kf(t,["format"],s);const l=Xf(e,["items"]);null!=l&&Kf(t,["items"],l);const c=Xf(e,["maxItems"]);null!=c&&Kf(t,["maxItems"],c);const u=Xf(e,["maxLength"]);null!=u&&Kf(t,["maxLength"],u);const d=Xf(e,["maxProperties"]);null!=d&&Kf(t,["maxProperties"],d);const p=Xf(e,["maximum"]);null!=p&&Kf(t,["maximum"],p);const h=Xf(e,["minItems"]);null!=h&&Kf(t,["minItems"],h);const f=Xf(e,["minLength"]);null!=f&&Kf(t,["minLength"],f);const m=Xf(e,["minProperties"]);null!=m&&Kf(t,["minProperties"],m);const g=Xf(e,["minimum"]);null!=g&&Kf(t,["minimum"],g);const y=Xf(e,["nullable"]);null!=y&&Kf(t,["nullable"],y);const v=Xf(e,["pattern"]);null!=v&&Kf(t,["pattern"],v);const x=Xf(e,["properties"]);null!=x&&Kf(t,["properties"],x);const b=Xf(e,["propertyOrdering"]);null!=b&&Kf(t,["propertyOrdering"],b);const w=Xf(e,["required"]);null!=w&&Kf(t,["required"],w);const k=Xf(e,["title"]);null!=k&&Kf(t,["title"],k);const S=Xf(e,["type"]);return null!=S&&Kf(t,["type"],S),t}(jg(y)));const v=Xf(t,["responseJsonSchema"]);if(null!=v&&Kf(r,["responseJsonSchema"],v),void 0!==Xf(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==Xf(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=Xf(t,["safetySettings"]);if(void 0!==n&&null!=x){let e=x;Array.isArray(e)&&(e=e.map((e=>function(e){const t={};if(void 0!==Xf(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const n=Xf(e,["category"]);null!=n&&Kf(t,["category"],n);const r=Xf(e,["threshold"]);return null!=r&&Kf(t,["threshold"],r),t}(e)))),Kf(n,["safetySettings"],e)}const b=Xf(t,["tools"]);if(void 0!==n&&null!=b){let e=Pg(b);Array.isArray(e)&&(e=e.map((e=>Yv(_g(e))))),Kf(n,["tools"],e)}const w=Xf(t,["toolConfig"]);if(void 0!==n&&null!=w&&Kf(n,["toolConfig"],Kv(w)),void 0!==Xf(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const k=Xf(t,["cachedContent"]);void 0!==n&&null!=k&&Kf(n,["cachedContent"],Mg(e,k));const S=Xf(t,["responseModalities"]);null!=S&&Kf(r,["responseModalities"],S);const E=Xf(t,["mediaResolution"]);null!=E&&Kf(r,["mediaResolution"],E);const C=Xf(t,["speechConfig"]);if(null!=C&&Kf(r,["speechConfig"],function(e){const t={},n=Xf(e,["voiceConfig"]);null!=n&&Kf(t,["voiceConfig"],Xv(n));const r=Xf(e,["multiSpeakerVoiceConfig"]);null!=r&&Kf(t,["multiSpeakerVoiceConfig"],$v(r));const o=Xf(e,["languageCode"]);return null!=o&&Kf(t,["languageCode"],o),t}(Og(C))),void 0!==Xf(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const T=Xf(t,["thinkingConfig"]);return null!=T&&Kf(r,["thinkingConfig"],function(e){const t={},n=Xf(e,["includeThoughts"]);null!=n&&Kf(t,["includeThoughts"],n);const r=Xf(e,["thinkingBudget"]);return null!=r&&Kf(t,["thinkingBudget"],r),t}(T)),r}function Zv(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["_url","model"],fg(e,r));const o=Xf(t,["contents"]);if(null!=o){let e=Ng(o);Array.isArray(e)&&(e=e.map((e=>Wv(e)))),Kf(n,["contents"],e)}const i=Xf(t,["config"]);return null!=i&&Kf(n,["generationConfig"],Qv(e,i,n)),n}function ex(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["_url","model"],fg(e,r));const o=Xf(t,["contents"]);null!=o&&Kf(n,["requests[]","content"],Tg(e,o));const i=Xf(t,["config"]);null!=i&&Kf(n,["config"],function(e,t){const n=Xf(e,["taskType"]);void 0!==t&&null!=n&&Kf(t,["requests[]","taskType"],n);const r=Xf(e,["title"]);void 0!==t&&null!=r&&Kf(t,["requests[]","title"],r);const o=Xf(e,["outputDimensionality"]);if(void 0!==t&&null!=o&&Kf(t,["requests[]","outputDimensionality"],o),void 0!==Xf(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==Xf(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.");return{}}(i,n));const a=Xf(t,["model"]);return void 0!==a&&Kf(n,["requests[]","model"],fg(e,a)),n}function tx(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["_url","model"],fg(e,r));const o=Xf(t,["prompt"]);null!=o&&Kf(n,["instances[0]","prompt"],o);const i=Xf(t,["config"]);return null!=i&&Kf(n,["config"],function(e,t){if(void 0!==Xf(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==Xf(e,["negativePrompt"]))throw new Error("negativePrompt parameter is not supported in Gemini API.");const n=Xf(e,["numberOfImages"]);void 0!==t&&null!=n&&Kf(t,["parameters","sampleCount"],n);const r=Xf(e,["aspectRatio"]);void 0!==t&&null!=r&&Kf(t,["parameters","aspectRatio"],r);const o=Xf(e,["guidanceScale"]);if(void 0!==t&&null!=o&&Kf(t,["parameters","guidanceScale"],o),void 0!==Xf(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const i=Xf(e,["safetyFilterLevel"]);void 0!==t&&null!=i&&Kf(t,["parameters","safetySetting"],i);const a=Xf(e,["personGeneration"]);void 0!==t&&null!=a&&Kf(t,["parameters","personGeneration"],a);const s=Xf(e,["includeSafetyAttributes"]);void 0!==t&&null!=s&&Kf(t,["parameters","includeSafetyAttributes"],s);const l=Xf(e,["includeRaiReason"]);void 0!==t&&null!=l&&Kf(t,["parameters","includeRaiReason"],l);const c=Xf(e,["language"]);void 0!==t&&null!=c&&Kf(t,["parameters","language"],c);const u=Xf(e,["outputMimeType"]);void 0!==t&&null!=u&&Kf(t,["parameters","outputOptions","mimeType"],u);const d=Xf(e,["outputCompressionQuality"]);if(void 0!==t&&null!=d&&Kf(t,["parameters","outputOptions","compressionQuality"],d),void 0!==Xf(e,["addWatermark"]))throw new Error("addWatermark parameter is not supported in Gemini API.");const p=Xf(e,["imageSize"]);if(void 0!==t&&null!=p&&Kf(t,["parameters","sampleImageSize"],p),void 0!==Xf(e,["enhancePrompt"]))throw new Error("enhancePrompt parameter is not supported in Gemini API.");return{}}(i,n)),n}function nx(e,t){const n={},r=Xf(t,["config"]);return null!=r&&Kf(n,["config"],function(e,t,n){const r=Xf(t,["pageSize"]);void 0!==n&&null!=r&&Kf(n,["_query","pageSize"],r);const o=Xf(t,["pageToken"]);void 0!==n&&null!=o&&Kf(n,["_query","pageToken"],o);const i=Xf(t,["filter"]);void 0!==n&&null!=i&&Kf(n,["_query","filter"],i);const a=Xf(t,["queryBase"]);return void 0!==n&&null!=a&&Kf(n,["_url","models_url"],Fg(e,a)),{}}(e,r,n)),n}function rx(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["_url","name"],fg(e,r));const o=Xf(t,["config"]);return null!=o&&Kf(n,["config"],function(e,t){const n=Xf(e,["displayName"]);void 0!==t&&null!=n&&Kf(t,["displayName"],n);const r=Xf(e,["description"]);void 0!==t&&null!=r&&Kf(t,["description"],r);const o=Xf(e,["defaultCheckpointId"]);return void 0!==t&&null!=o&&Kf(t,["defaultCheckpointId"],o),{}}(o,n)),n}function ox(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["_url","model"],fg(e,r));const o=Xf(t,["contents"]);if(null!=o){let e=Ng(o);Array.isArray(e)&&(e=e.map((e=>Wv(e)))),Kf(n,["contents"],e)}const i=Xf(t,["config"]);return null!=i&&Kf(n,["config"],function(e){if(void 0!==Xf(e,["systemInstruction"]))throw new Error("systemInstruction parameter is not supported in Gemini API.");if(void 0!==Xf(e,["tools"]))throw new Error("tools parameter is not supported in Gemini API.");if(void 0!==Xf(e,["generationConfig"]))throw new Error("generationConfig parameter is not supported in Gemini API.");return{}}(i)),n}function ix(e){const t={};if(void 0!==Xf(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const n=Xf(e,["imageBytes"]);null!=n&&Kf(t,["bytesBase64Encoded"],Dg(n));const r=Xf(e,["mimeType"]);return null!=r&&Kf(t,["mimeType"],r),t}function ax(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["_url","model"],fg(e,r));const o=Xf(t,["prompt"]);null!=o&&Kf(n,["instances[0]","prompt"],o);const i=Xf(t,["image"]);if(null!=i&&Kf(n,["instances[0]","image"],ix(i)),void 0!==Xf(t,["video"]))throw new Error("video parameter is not supported in Gemini API.");const a=Xf(t,["source"]);null!=a&&Kf(n,["config"],function(e,t){const n=Xf(e,["prompt"]);void 0!==t&&null!=n&&Kf(t,["instances[0]","prompt"],n);const r=Xf(e,["image"]);if(void 0!==t&&null!=r&&Kf(t,["instances[0]","image"],ix(r)),void 0!==Xf(e,["video"]))throw new Error("video parameter is not supported in Gemini API.");return{}}(a,n));const s=Xf(t,["config"]);return null!=s&&Kf(n,["config"],function(e,t){const n=Xf(e,["numberOfVideos"]);if(void 0!==t&&null!=n&&Kf(t,["parameters","sampleCount"],n),void 0!==Xf(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==Xf(e,["fps"]))throw new Error("fps parameter is not supported in Gemini API.");const r=Xf(e,["durationSeconds"]);if(void 0!==t&&null!=r&&Kf(t,["parameters","durationSeconds"],r),void 0!==Xf(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const o=Xf(e,["aspectRatio"]);if(void 0!==t&&null!=o&&Kf(t,["parameters","aspectRatio"],o),void 0!==Xf(e,["resolution"]))throw new Error("resolution parameter is not supported in Gemini API.");const i=Xf(e,["personGeneration"]);if(void 0!==t&&null!=i&&Kf(t,["parameters","personGeneration"],i),void 0!==Xf(e,["pubsubTopic"]))throw new Error("pubsubTopic parameter is not supported in Gemini API.");const a=Xf(e,["negativePrompt"]);void 0!==t&&null!=a&&Kf(t,["parameters","negativePrompt"],a);const s=Xf(e,["enhancePrompt"]);if(void 0!==t&&null!=s&&Kf(t,["parameters","enhancePrompt"],s),void 0!==Xf(e,["generateAudio"]))throw new Error("generateAudio parameter is not supported in Gemini API.");if(void 0!==Xf(e,["lastFrame"]))throw new Error("lastFrame parameter is not supported in Gemini API.");if(void 0!==Xf(e,["referenceImages"]))throw new Error("referenceImages parameter is not supported in Gemini API.");if(void 0!==Xf(e,["compressionQuality"]))throw new Error("compressionQuality parameter is not supported in Gemini API.");return{}}(s,n)),n}function sx(e){const t={},n=Xf(e,["videoMetadata"]);null!=n&&Kf(t,["videoMetadata"],function(e){const t={},n=Xf(e,["fps"]);null!=n&&Kf(t,["fps"],n);const r=Xf(e,["endOffset"]);null!=r&&Kf(t,["endOffset"],r);const o=Xf(e,["startOffset"]);return null!=o&&Kf(t,["startOffset"],o),t}(n));const r=Xf(e,["thought"]);null!=r&&Kf(t,["thought"],r);const o=Xf(e,["inlineData"]);null!=o&&Kf(t,["inlineData"],function(e){const t={},n=Xf(e,["displayName"]);null!=n&&Kf(t,["displayName"],n);const r=Xf(e,["data"]);null!=r&&Kf(t,["data"],r);const o=Xf(e,["mimeType"]);return null!=o&&Kf(t,["mimeType"],o),t}(o));const i=Xf(e,["fileData"]);null!=i&&Kf(t,["fileData"],function(e){const t={},n=Xf(e,["displayName"]);null!=n&&Kf(t,["displayName"],n);const r=Xf(e,["fileUri"]);null!=r&&Kf(t,["fileUri"],r);const o=Xf(e,["mimeType"]);return null!=o&&Kf(t,["mimeType"],o),t}(i));const a=Xf(e,["thoughtSignature"]);null!=a&&Kf(t,["thoughtSignature"],a);const s=Xf(e,["codeExecutionResult"]);null!=s&&Kf(t,["codeExecutionResult"],s);const l=Xf(e,["executableCode"]);null!=l&&Kf(t,["executableCode"],l);const c=Xf(e,["functionCall"]);null!=c&&Kf(t,["functionCall"],c);const u=Xf(e,["functionResponse"]);null!=u&&Kf(t,["functionResponse"],u);const d=Xf(e,["text"]);return null!=d&&Kf(t,["text"],d),t}function lx(e){const t={},n=Xf(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>sx(e)))),Kf(t,["parts"],e)}const r=Xf(e,["role"]);return null!=r&&Kf(t,["role"],r),t}function cx(e){const t={},n=Xf(e,["timeRangeFilter"]);null!=n&&Kf(t,["timeRangeFilter"],function(e){const t={},n=Xf(e,["startTime"]);null!=n&&Kf(t,["startTime"],n);const r=Xf(e,["endTime"]);return null!=r&&Kf(t,["endTime"],r),t}(n));const r=Xf(e,["excludeDomains"]);return null!=r&&Kf(t,["excludeDomains"],r),t}function ux(e){const t={},n=Xf(e,["dynamicRetrievalConfig"]);return null!=n&&Kf(t,["dynamicRetrievalConfig"],function(e){const t={},n=Xf(e,["mode"]);null!=n&&Kf(t,["mode"],n);const r=Xf(e,["dynamicThreshold"]);return null!=r&&Kf(t,["dynamicThreshold"],r),t}(n)),t}function dx(e){const t={},n=Xf(e,["apiKeyConfig"]);null!=n&&Kf(t,["apiKeyConfig"],function(e){const t={},n=Xf(e,["apiKeyString"]);return null!=n&&Kf(t,["apiKeyString"],n),t}(n));const r=Xf(e,["authType"]);null!=r&&Kf(t,["authType"],r);const o=Xf(e,["googleServiceAccountConfig"]);null!=o&&Kf(t,["googleServiceAccountConfig"],o);const i=Xf(e,["httpBasicAuthConfig"]);null!=i&&Kf(t,["httpBasicAuthConfig"],i);const a=Xf(e,["oauthConfig"]);null!=a&&Kf(t,["oauthConfig"],a);const s=Xf(e,["oidcConfig"]);return null!=s&&Kf(t,["oidcConfig"],s),t}function px(e){const t={},n=Xf(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>function(e){const t={};if(void 0!==Xf(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=Xf(e,["description"]);null!=n&&Kf(t,["description"],n);const r=Xf(e,["name"]);null!=r&&Kf(t,["name"],r);const o=Xf(e,["parameters"]);null!=o&&Kf(t,["parameters"],o);const i=Xf(e,["parametersJsonSchema"]);null!=i&&Kf(t,["parametersJsonSchema"],i);const a=Xf(e,["response"]);null!=a&&Kf(t,["response"],a);const s=Xf(e,["responseJsonSchema"]);return null!=s&&Kf(t,["responseJsonSchema"],s),t}(e)))),Kf(t,["functionDeclarations"],e)}const r=Xf(e,["retrieval"]);null!=r&&Kf(t,["retrieval"],r);const o=Xf(e,["googleSearch"]);null!=o&&Kf(t,["googleSearch"],cx(o));const i=Xf(e,["googleSearchRetrieval"]);null!=i&&Kf(t,["googleSearchRetrieval"],ux(i));const a=Xf(e,["enterpriseWebSearch"]);null!=a&&Kf(t,["enterpriseWebSearch"],function(e){const t={},n=Xf(e,["excludeDomains"]);return null!=n&&Kf(t,["excludeDomains"],n),t}(a));const s=Xf(e,["googleMaps"]);null!=s&&Kf(t,["googleMaps"],function(e){const t={},n=Xf(e,["authConfig"]);return null!=n&&Kf(t,["authConfig"],dx(n)),t}(s));null!=Xf(e,["urlContext"])&&Kf(t,["urlContext"],{});const l=Xf(e,["computerUse"]);null!=l&&Kf(t,["computerUse"],function(e){const t={},n=Xf(e,["environment"]);return null!=n&&Kf(t,["environment"],n),t}(l));const c=Xf(e,["codeExecution"]);return null!=c&&Kf(t,["codeExecution"],c),t}function hx(e){const t={},n=Xf(e,["latLng"]);null!=n&&Kf(t,["latLng"],function(e){const t={},n=Xf(e,["latitude"]);null!=n&&Kf(t,["latitude"],n);const r=Xf(e,["longitude"]);return null!=r&&Kf(t,["longitude"],r),t}(n));const r=Xf(e,["languageCode"]);return null!=r&&Kf(t,["languageCode"],r),t}function fx(e){const t={},n=Xf(e,["functionCallingConfig"]);null!=n&&Kf(t,["functionCallingConfig"],function(e){const t={},n=Xf(e,["mode"]);null!=n&&Kf(t,["mode"],n);const r=Xf(e,["allowedFunctionNames"]);return null!=r&&Kf(t,["allowedFunctionNames"],r),t}(n));const r=Xf(e,["retrievalConfig"]);return null!=r&&Kf(t,["retrievalConfig"],hx(r)),t}function mx(e){const t={},n=Xf(e,["prebuiltVoiceConfig"]);return null!=n&&Kf(t,["prebuiltVoiceConfig"],function(e){const t={},n=Xf(e,["voiceName"]);return null!=n&&Kf(t,["voiceName"],n),t}(n)),t}function gx(e,t,n){const r={},o=Xf(t,["systemInstruction"]);void 0!==n&&null!=o&&Kf(n,["systemInstruction"],lx(Cg(o)));const i=Xf(t,["temperature"]);null!=i&&Kf(r,["temperature"],i);const a=Xf(t,["topP"]);null!=a&&Kf(r,["topP"],a);const s=Xf(t,["topK"]);null!=s&&Kf(r,["topK"],s);const l=Xf(t,["candidateCount"]);null!=l&&Kf(r,["candidateCount"],l);const c=Xf(t,["maxOutputTokens"]);null!=c&&Kf(r,["maxOutputTokens"],c);const u=Xf(t,["stopSequences"]);null!=u&&Kf(r,["stopSequences"],u);const d=Xf(t,["responseLogprobs"]);null!=d&&Kf(r,["responseLogprobs"],d);const p=Xf(t,["logprobs"]);null!=p&&Kf(r,["logprobs"],p);const h=Xf(t,["presencePenalty"]);null!=h&&Kf(r,["presencePenalty"],h);const f=Xf(t,["frequencyPenalty"]);null!=f&&Kf(r,["frequencyPenalty"],f);const m=Xf(t,["seed"]);null!=m&&Kf(r,["seed"],m);const g=Xf(t,["responseMimeType"]);null!=g&&Kf(r,["responseMimeType"],g);const y=Xf(t,["responseSchema"]);null!=y&&Kf(r,["responseSchema"],function(e){const t={},n=Xf(e,["anyOf"]);null!=n&&Kf(t,["anyOf"],n);const r=Xf(e,["default"]);null!=r&&Kf(t,["default"],r);const o=Xf(e,["description"]);null!=o&&Kf(t,["description"],o);const i=Xf(e,["enum"]);null!=i&&Kf(t,["enum"],i);const a=Xf(e,["example"]);null!=a&&Kf(t,["example"],a);const s=Xf(e,["format"]);null!=s&&Kf(t,["format"],s);const l=Xf(e,["items"]);null!=l&&Kf(t,["items"],l);const c=Xf(e,["maxItems"]);null!=c&&Kf(t,["maxItems"],c);const u=Xf(e,["maxLength"]);null!=u&&Kf(t,["maxLength"],u);const d=Xf(e,["maxProperties"]);null!=d&&Kf(t,["maxProperties"],d);const p=Xf(e,["maximum"]);null!=p&&Kf(t,["maximum"],p);const h=Xf(e,["minItems"]);null!=h&&Kf(t,["minItems"],h);const f=Xf(e,["minLength"]);null!=f&&Kf(t,["minLength"],f);const m=Xf(e,["minProperties"]);null!=m&&Kf(t,["minProperties"],m);const g=Xf(e,["minimum"]);null!=g&&Kf(t,["minimum"],g);const y=Xf(e,["nullable"]);null!=y&&Kf(t,["nullable"],y);const v=Xf(e,["pattern"]);null!=v&&Kf(t,["pattern"],v);const x=Xf(e,["properties"]);null!=x&&Kf(t,["properties"],x);const b=Xf(e,["propertyOrdering"]);null!=b&&Kf(t,["propertyOrdering"],b);const w=Xf(e,["required"]);null!=w&&Kf(t,["required"],w);const k=Xf(e,["title"]);null!=k&&Kf(t,["title"],k);const S=Xf(e,["type"]);return null!=S&&Kf(t,["type"],S),t}(jg(y)));const v=Xf(t,["responseJsonSchema"]);null!=v&&Kf(r,["responseJsonSchema"],v);const x=Xf(t,["routingConfig"]);null!=x&&Kf(r,["routingConfig"],x);const b=Xf(t,["modelSelectionConfig"]);null!=b&&Kf(r,["modelConfig"],function(e){const t={},n=Xf(e,["featureSelectionPreference"]);return null!=n&&Kf(t,["featureSelectionPreference"],n),t}(b));const w=Xf(t,["safetySettings"]);if(void 0!==n&&null!=w){let e=w;Array.isArray(e)&&(e=e.map((e=>function(e){const t={},n=Xf(e,["method"]);null!=n&&Kf(t,["method"],n);const r=Xf(e,["category"]);null!=r&&Kf(t,["category"],r);const o=Xf(e,["threshold"]);return null!=o&&Kf(t,["threshold"],o),t}(e)))),Kf(n,["safetySettings"],e)}const k=Xf(t,["tools"]);if(void 0!==n&&null!=k){let e=Pg(k);Array.isArray(e)&&(e=e.map((e=>px(_g(e))))),Kf(n,["tools"],e)}const S=Xf(t,["toolConfig"]);void 0!==n&&null!=S&&Kf(n,["toolConfig"],fx(S));const E=Xf(t,["labels"]);void 0!==n&&null!=E&&Kf(n,["labels"],E);const C=Xf(t,["cachedContent"]);void 0!==n&&null!=C&&Kf(n,["cachedContent"],Mg(e,C));const T=Xf(t,["responseModalities"]);null!=T&&Kf(r,["responseModalities"],T);const N=Xf(t,["mediaResolution"]);null!=N&&Kf(r,["mediaResolution"],N);const A=Xf(t,["speechConfig"]);null!=A&&Kf(r,["speechConfig"],function(e){const t={},n=Xf(e,["voiceConfig"]);if(null!=n&&Kf(t,["voiceConfig"],mx(n)),void 0!==Xf(e,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=Xf(e,["languageCode"]);return null!=r&&Kf(t,["languageCode"],r),t}(Og(A)));const j=Xf(t,["audioTimestamp"]);null!=j&&Kf(r,["audioTimestamp"],j);const O=Xf(t,["thinkingConfig"]);return null!=O&&Kf(r,["thinkingConfig"],function(e){const t={},n=Xf(e,["includeThoughts"]);null!=n&&Kf(t,["includeThoughts"],n);const r=Xf(e,["thinkingBudget"]);return null!=r&&Kf(t,["thinkingBudget"],r),t}(O)),r}function yx(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["_url","model"],fg(e,r));const o=Xf(t,["contents"]);if(null!=o){let e=Ng(o);Array.isArray(e)&&(e=e.map((e=>lx(e)))),Kf(n,["contents"],e)}const i=Xf(t,["config"]);return null!=i&&Kf(n,["generationConfig"],gx(e,i,n)),n}function vx(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["_url","model"],fg(e,r));const o=Xf(t,["contents"]);null!=o&&Kf(n,["instances[]","content"],Tg(e,o));const i=Xf(t,["config"]);return null!=i&&Kf(n,["config"],function(e,t){const n=Xf(e,["taskType"]);void 0!==t&&null!=n&&Kf(t,["instances[]","task_type"],n);const r=Xf(e,["title"]);void 0!==t&&null!=r&&Kf(t,["instances[]","title"],r);const o=Xf(e,["outputDimensionality"]);void 0!==t&&null!=o&&Kf(t,["parameters","outputDimensionality"],o);const i=Xf(e,["mimeType"]);void 0!==t&&null!=i&&Kf(t,["instances[]","mimeType"],i);const a=Xf(e,["autoTruncate"]);return void 0!==t&&null!=a&&Kf(t,["parameters","autoTruncate"],a),{}}(i,n)),n}function xx(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["_url","model"],fg(e,r));const o=Xf(t,["prompt"]);null!=o&&Kf(n,["instances[0]","prompt"],o);const i=Xf(t,["config"]);return null!=i&&Kf(n,["config"],function(e,t){const n=Xf(e,["outputGcsUri"]);void 0!==t&&null!=n&&Kf(t,["parameters","storageUri"],n);const r=Xf(e,["negativePrompt"]);void 0!==t&&null!=r&&Kf(t,["parameters","negativePrompt"],r);const o=Xf(e,["numberOfImages"]);void 0!==t&&null!=o&&Kf(t,["parameters","sampleCount"],o);const i=Xf(e,["aspectRatio"]);void 0!==t&&null!=i&&Kf(t,["parameters","aspectRatio"],i);const a=Xf(e,["guidanceScale"]);void 0!==t&&null!=a&&Kf(t,["parameters","guidanceScale"],a);const s=Xf(e,["seed"]);void 0!==t&&null!=s&&Kf(t,["parameters","seed"],s);const l=Xf(e,["safetyFilterLevel"]);void 0!==t&&null!=l&&Kf(t,["parameters","safetySetting"],l);const c=Xf(e,["personGeneration"]);void 0!==t&&null!=c&&Kf(t,["parameters","personGeneration"],c);const u=Xf(e,["includeSafetyAttributes"]);void 0!==t&&null!=u&&Kf(t,["parameters","includeSafetyAttributes"],u);const d=Xf(e,["includeRaiReason"]);void 0!==t&&null!=d&&Kf(t,["parameters","includeRaiReason"],d);const p=Xf(e,["language"]);void 0!==t&&null!=p&&Kf(t,["parameters","language"],p);const h=Xf(e,["outputMimeType"]);void 0!==t&&null!=h&&Kf(t,["parameters","outputOptions","mimeType"],h);const f=Xf(e,["outputCompressionQuality"]);void 0!==t&&null!=f&&Kf(t,["parameters","outputOptions","compressionQuality"],f);const m=Xf(e,["addWatermark"]);void 0!==t&&null!=m&&Kf(t,["parameters","addWatermark"],m);const g=Xf(e,["imageSize"]);void 0!==t&&null!=g&&Kf(t,["parameters","sampleImageSize"],g);const y=Xf(e,["enhancePrompt"]);return void 0!==t&&null!=y&&Kf(t,["parameters","enhancePrompt"],y),{}}(i,n)),n}function bx(e){const t={},n=Xf(e,["gcsUri"]);null!=n&&Kf(t,["gcsUri"],n);const r=Xf(e,["imageBytes"]);null!=r&&Kf(t,["bytesBase64Encoded"],Dg(r));const o=Xf(e,["mimeType"]);return null!=o&&Kf(t,["mimeType"],o),t}function wx(e){const t={},n=Xf(e,["referenceImage"]);null!=n&&Kf(t,["referenceImage"],bx(n));const r=Xf(e,["referenceId"]);null!=r&&Kf(t,["referenceId"],r);const o=Xf(e,["referenceType"]);null!=o&&Kf(t,["referenceType"],o);const i=Xf(e,["maskImageConfig"]);null!=i&&Kf(t,["maskImageConfig"],function(e){const t={},n=Xf(e,["maskMode"]);null!=n&&Kf(t,["maskMode"],n);const r=Xf(e,["segmentationClasses"]);null!=r&&Kf(t,["maskClasses"],r);const o=Xf(e,["maskDilation"]);return null!=o&&Kf(t,["dilation"],o),t}(i));const a=Xf(e,["controlImageConfig"]);null!=a&&Kf(t,["controlImageConfig"],function(e){const t={},n=Xf(e,["controlType"]);null!=n&&Kf(t,["controlType"],n);const r=Xf(e,["enableControlImageComputation"]);return null!=r&&Kf(t,["computeControl"],r),t}(a));const s=Xf(e,["styleImageConfig"]);null!=s&&Kf(t,["styleImageConfig"],function(e){const t={},n=Xf(e,["styleDescription"]);return null!=n&&Kf(t,["styleDescription"],n),t}(s));const l=Xf(e,["subjectImageConfig"]);return null!=l&&Kf(t,["subjectImageConfig"],function(e){const t={},n=Xf(e,["subjectType"]);null!=n&&Kf(t,["subjectType"],n);const r=Xf(e,["subjectDescription"]);return null!=r&&Kf(t,["subjectDescription"],r),t}(l)),t}function kx(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["_url","model"],fg(e,r));const o=Xf(t,["prompt"]);null!=o&&Kf(n,["instances[0]","prompt"],o);const i=Xf(t,["referenceImages"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map((e=>wx(e)))),Kf(n,["instances[0]","referenceImages"],e)}const a=Xf(t,["config"]);return null!=a&&Kf(n,["config"],function(e,t){const n=Xf(e,["outputGcsUri"]);void 0!==t&&null!=n&&Kf(t,["parameters","storageUri"],n);const r=Xf(e,["negativePrompt"]);void 0!==t&&null!=r&&Kf(t,["parameters","negativePrompt"],r);const o=Xf(e,["numberOfImages"]);void 0!==t&&null!=o&&Kf(t,["parameters","sampleCount"],o);const i=Xf(e,["aspectRatio"]);void 0!==t&&null!=i&&Kf(t,["parameters","aspectRatio"],i);const a=Xf(e,["guidanceScale"]);void 0!==t&&null!=a&&Kf(t,["parameters","guidanceScale"],a);const s=Xf(e,["seed"]);void 0!==t&&null!=s&&Kf(t,["parameters","seed"],s);const l=Xf(e,["safetyFilterLevel"]);void 0!==t&&null!=l&&Kf(t,["parameters","safetySetting"],l);const c=Xf(e,["personGeneration"]);void 0!==t&&null!=c&&Kf(t,["parameters","personGeneration"],c);const u=Xf(e,["includeSafetyAttributes"]);void 0!==t&&null!=u&&Kf(t,["parameters","includeSafetyAttributes"],u);const d=Xf(e,["includeRaiReason"]);void 0!==t&&null!=d&&Kf(t,["parameters","includeRaiReason"],d);const p=Xf(e,["language"]);void 0!==t&&null!=p&&Kf(t,["parameters","language"],p);const h=Xf(e,["outputMimeType"]);void 0!==t&&null!=h&&Kf(t,["parameters","outputOptions","mimeType"],h);const f=Xf(e,["outputCompressionQuality"]);void 0!==t&&null!=f&&Kf(t,["parameters","outputOptions","compressionQuality"],f);const m=Xf(e,["addWatermark"]);void 0!==t&&null!=m&&Kf(t,["parameters","addWatermark"],m);const g=Xf(e,["editMode"]);void 0!==t&&null!=g&&Kf(t,["parameters","editMode"],g);const y=Xf(e,["baseSteps"]);return void 0!==t&&null!=y&&Kf(t,["parameters","editConfig","baseSteps"],y),{}}(a,n)),n}function Sx(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["_url","model"],fg(e,r));const o=Xf(t,["image"]);null!=o&&Kf(n,["instances[0]","image"],bx(o));const i=Xf(t,["upscaleFactor"]);null!=i&&Kf(n,["parameters","upscaleConfig","upscaleFactor"],i);const a=Xf(t,["config"]);return null!=a&&Kf(n,["config"],function(e,t){const n=Xf(e,["outputGcsUri"]);void 0!==t&&null!=n&&Kf(t,["parameters","storageUri"],n);const r=Xf(e,["includeRaiReason"]);void 0!==t&&null!=r&&Kf(t,["parameters","includeRaiReason"],r);const o=Xf(e,["outputMimeType"]);void 0!==t&&null!=o&&Kf(t,["parameters","outputOptions","mimeType"],o);const i=Xf(e,["outputCompressionQuality"]);void 0!==t&&null!=i&&Kf(t,["parameters","outputOptions","compressionQuality"],i);const a=Xf(e,["enhanceInputImage"]);void 0!==t&&null!=a&&Kf(t,["parameters","upscaleConfig","enhanceInputImage"],a);const s=Xf(e,["imagePreservationFactor"]);void 0!==t&&null!=s&&Kf(t,["parameters","upscaleConfig","imagePreservationFactor"],s);const l=Xf(e,["numberOfImages"]);void 0!==t&&null!=l&&Kf(t,["parameters","sampleCount"],l);const c=Xf(e,["mode"]);return void 0!==t&&null!=c&&Kf(t,["parameters","mode"],c),{}}(a,n)),n}function Ex(e,t){const n=Xf(e,["prompt"]);void 0!==t&&null!=n&&Kf(t,["instances[0]","prompt"],n);const r=Xf(e,["personImage"]);void 0!==t&&null!=r&&Kf(t,["instances[0]","personImage","image"],bx(r));const o=Xf(e,["productImages"]);if(void 0!==t&&null!=o){let e=o;Array.isArray(e)&&(e=e.map((e=>function(e){const t={},n=Xf(e,["productImage"]);return null!=n&&Kf(t,["image"],bx(n)),t}(e)))),Kf(t,["instances[0]","productImages"],e)}return{}}function Cx(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["_url","model"],fg(e,r));const o=Xf(t,["source"]);null!=o&&Kf(n,["config"],Ex(o,n));const i=Xf(t,["config"]);return null!=i&&Kf(n,["config"],function(e,t){const n=Xf(e,["numberOfImages"]);void 0!==t&&null!=n&&Kf(t,["parameters","sampleCount"],n);const r=Xf(e,["baseSteps"]);void 0!==t&&null!=r&&Kf(t,["parameters","editConfig","baseSteps"],r);const o=Xf(e,["outputGcsUri"]);void 0!==t&&null!=o&&Kf(t,["parameters","storageUri"],o);const i=Xf(e,["seed"]);void 0!==t&&null!=i&&Kf(t,["parameters","seed"],i);const a=Xf(e,["safetyFilterLevel"]);void 0!==t&&null!=a&&Kf(t,["parameters","safetySetting"],a);const s=Xf(e,["personGeneration"]);void 0!==t&&null!=s&&Kf(t,["parameters","personGeneration"],s);const l=Xf(e,["addWatermark"]);void 0!==t&&null!=l&&Kf(t,["parameters","addWatermark"],l);const c=Xf(e,["outputMimeType"]);void 0!==t&&null!=c&&Kf(t,["parameters","outputOptions","mimeType"],c);const u=Xf(e,["outputCompressionQuality"]);void 0!==t&&null!=u&&Kf(t,["parameters","outputOptions","compressionQuality"],u);const d=Xf(e,["enhancePrompt"]);return void 0!==t&&null!=d&&Kf(t,["parameters","enhancePrompt"],d),{}}(i,n)),n}function Tx(e,t){const n=Xf(e,["prompt"]);void 0!==t&&null!=n&&Kf(t,["instances[0]","prompt"],n);const r=Xf(e,["image"]);void 0!==t&&null!=r&&Kf(t,["instances[0]","image"],bx(r));const o=Xf(e,["scribbleImage"]);return void 0!==t&&null!=o&&Kf(t,["instances[0]","scribble"],function(e){const t={},n=Xf(e,["image"]);return null!=n&&Kf(t,["image"],bx(n)),t}(o)),{}}function Nx(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["_url","model"],fg(e,r));const o=Xf(t,["source"]);null!=o&&Kf(n,["config"],Tx(o,n));const i=Xf(t,["config"]);return null!=i&&Kf(n,["config"],function(e,t){const n=Xf(e,["mode"]);void 0!==t&&null!=n&&Kf(t,["parameters","mode"],n);const r=Xf(e,["maxPredictions"]);void 0!==t&&null!=r&&Kf(t,["parameters","maxPredictions"],r);const o=Xf(e,["confidenceThreshold"]);void 0!==t&&null!=o&&Kf(t,["parameters","confidenceThreshold"],o);const i=Xf(e,["maskDilation"]);void 0!==t&&null!=i&&Kf(t,["parameters","maskDilation"],i);const a=Xf(e,["binaryColorThreshold"]);return void 0!==t&&null!=a&&Kf(t,["parameters","binaryColorThreshold"],a),{}}(i,n)),n}function Ax(e,t){const n={},r=Xf(t,["config"]);return null!=r&&Kf(n,["config"],function(e,t,n){const r=Xf(t,["pageSize"]);void 0!==n&&null!=r&&Kf(n,["_query","pageSize"],r);const o=Xf(t,["pageToken"]);void 0!==n&&null!=o&&Kf(n,["_query","pageToken"],o);const i=Xf(t,["filter"]);void 0!==n&&null!=i&&Kf(n,["_query","filter"],i);const a=Xf(t,["queryBase"]);return void 0!==n&&null!=a&&Kf(n,["_url","models_url"],Fg(e,a)),{}}(e,r,n)),n}function jx(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["_url","model"],fg(e,r));const o=Xf(t,["config"]);return null!=o&&Kf(n,["config"],function(e,t){const n=Xf(e,["displayName"]);void 0!==t&&null!=n&&Kf(t,["displayName"],n);const r=Xf(e,["description"]);void 0!==t&&null!=r&&Kf(t,["description"],r);const o=Xf(e,["defaultCheckpointId"]);return void 0!==t&&null!=o&&Kf(t,["defaultCheckpointId"],o),{}}(o,n)),n}function Ox(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["_url","model"],fg(e,r));const o=Xf(t,["contents"]);if(null!=o){let e=Ng(o);Array.isArray(e)&&(e=e.map((e=>lx(e)))),Kf(n,["contents"],e)}const i=Xf(t,["config"]);return null!=i&&Kf(n,["config"],function(e,t){const n=Xf(e,["systemInstruction"]);void 0!==t&&null!=n&&Kf(t,["systemInstruction"],lx(Cg(n)));const r=Xf(e,["tools"]);if(void 0!==t&&null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>px(e)))),Kf(t,["tools"],e)}const o=Xf(e,["generationConfig"]);return void 0!==t&&null!=o&&Kf(t,["generationConfig"],o),{}}(i,n)),n}function Ix(e){const t={},n=Xf(e,["uri"]);null!=n&&Kf(t,["gcsUri"],n);const r=Xf(e,["videoBytes"]);null!=r&&Kf(t,["bytesBase64Encoded"],Dg(r));const o=Xf(e,["mimeType"]);return null!=o&&Kf(t,["mimeType"],o),t}function _x(e,t){const n=Xf(e,["numberOfVideos"]);void 0!==t&&null!=n&&Kf(t,["parameters","sampleCount"],n);const r=Xf(e,["outputGcsUri"]);void 0!==t&&null!=r&&Kf(t,["parameters","storageUri"],r);const o=Xf(e,["fps"]);void 0!==t&&null!=o&&Kf(t,["parameters","fps"],o);const i=Xf(e,["durationSeconds"]);void 0!==t&&null!=i&&Kf(t,["parameters","durationSeconds"],i);const a=Xf(e,["seed"]);void 0!==t&&null!=a&&Kf(t,["parameters","seed"],a);const s=Xf(e,["aspectRatio"]);void 0!==t&&null!=s&&Kf(t,["parameters","aspectRatio"],s);const l=Xf(e,["resolution"]);void 0!==t&&null!=l&&Kf(t,["parameters","resolution"],l);const c=Xf(e,["personGeneration"]);void 0!==t&&null!=c&&Kf(t,["parameters","personGeneration"],c);const u=Xf(e,["pubsubTopic"]);void 0!==t&&null!=u&&Kf(t,["parameters","pubsubTopic"],u);const d=Xf(e,["negativePrompt"]);void 0!==t&&null!=d&&Kf(t,["parameters","negativePrompt"],d);const p=Xf(e,["enhancePrompt"]);void 0!==t&&null!=p&&Kf(t,["parameters","enhancePrompt"],p);const h=Xf(e,["generateAudio"]);void 0!==t&&null!=h&&Kf(t,["parameters","generateAudio"],h);const f=Xf(e,["lastFrame"]);void 0!==t&&null!=f&&Kf(t,["instances[0]","lastFrame"],bx(f));const m=Xf(e,["referenceImages"]);if(void 0!==t&&null!=m){let e=m;Array.isArray(e)&&(e=e.map((e=>function(e){const t={},n=Xf(e,["image"]);null!=n&&Kf(t,["image"],bx(n));const r=Xf(e,["referenceType"]);return null!=r&&Kf(t,["referenceType"],r),t}(e)))),Kf(t,["instances[0]","referenceImages"],e)}const g=Xf(e,["compressionQuality"]);return void 0!==t&&null!=g&&Kf(t,["parameters","compressionQuality"],g),{}}function Px(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["_url","model"],fg(e,r));const o=Xf(t,["prompt"]);null!=o&&Kf(n,["instances[0]","prompt"],o);const i=Xf(t,["image"]);null!=i&&Kf(n,["instances[0]","image"],bx(i));const a=Xf(t,["video"]);null!=a&&Kf(n,["instances[0]","video"],Ix(a));const s=Xf(t,["source"]);null!=s&&Kf(n,["config"],function(e,t){const n=Xf(e,["prompt"]);void 0!==t&&null!=n&&Kf(t,["instances[0]","prompt"],n);const r=Xf(e,["image"]);void 0!==t&&null!=r&&Kf(t,["instances[0]","image"],bx(r));const o=Xf(e,["video"]);return void 0!==t&&null!=o&&Kf(t,["instances[0]","video"],Ix(o)),{}}(s,n));const l=Xf(t,["config"]);return null!=l&&Kf(n,["config"],_x(l,n)),n}function Mx(e){const t={},n=Xf(e,["videoMetadata"]);null!=n&&Kf(t,["videoMetadata"],function(e){const t={},n=Xf(e,["fps"]);null!=n&&Kf(t,["fps"],n);const r=Xf(e,["endOffset"]);null!=r&&Kf(t,["endOffset"],r);const o=Xf(e,["startOffset"]);return null!=o&&Kf(t,["startOffset"],o),t}(n));const r=Xf(e,["thought"]);null!=r&&Kf(t,["thought"],r);const o=Xf(e,["inlineData"]);null!=o&&Kf(t,["inlineData"],function(e){const t={},n=Xf(e,["data"]);null!=n&&Kf(t,["data"],n);const r=Xf(e,["mimeType"]);return null!=r&&Kf(t,["mimeType"],r),t}(o));const i=Xf(e,["fileData"]);null!=i&&Kf(t,["fileData"],function(e){const t={},n=Xf(e,["fileUri"]);null!=n&&Kf(t,["fileUri"],n);const r=Xf(e,["mimeType"]);return null!=r&&Kf(t,["mimeType"],r),t}(i));const a=Xf(e,["thoughtSignature"]);null!=a&&Kf(t,["thoughtSignature"],a);const s=Xf(e,["codeExecutionResult"]);null!=s&&Kf(t,["codeExecutionResult"],s);const l=Xf(e,["executableCode"]);null!=l&&Kf(t,["executableCode"],l);const c=Xf(e,["functionCall"]);null!=c&&Kf(t,["functionCall"],c);const u=Xf(e,["functionResponse"]);null!=u&&Kf(t,["functionResponse"],u);const d=Xf(e,["text"]);return null!=d&&Kf(t,["text"],d),t}function Rx(e){const t={},n=Xf(e,["urlMetadata"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>function(e){const t={},n=Xf(e,["retrievedUrl"]);null!=n&&Kf(t,["retrievedUrl"],n);const r=Xf(e,["urlRetrievalStatus"]);return null!=r&&Kf(t,["urlRetrievalStatus"],r),t}(e)))),Kf(t,["urlMetadata"],e)}return t}function Dx(e){const t={},n=Xf(e,["content"]);null!=n&&Kf(t,["content"],function(e){const t={},n=Xf(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>Mx(e)))),Kf(t,["parts"],e)}const r=Xf(e,["role"]);return null!=r&&Kf(t,["role"],r),t}(n));const r=Xf(e,["citationMetadata"]);null!=r&&Kf(t,["citationMetadata"],function(e){const t={},n=Xf(e,["citationSources"]);return null!=n&&Kf(t,["citations"],n),t}(r));const o=Xf(e,["tokenCount"]);null!=o&&Kf(t,["tokenCount"],o);const i=Xf(e,["finishReason"]);null!=i&&Kf(t,["finishReason"],i);const a=Xf(e,["urlContextMetadata"]);null!=a&&Kf(t,["urlContextMetadata"],Rx(a));const s=Xf(e,["avgLogprobs"]);null!=s&&Kf(t,["avgLogprobs"],s);const l=Xf(e,["groundingMetadata"]);null!=l&&Kf(t,["groundingMetadata"],l);const c=Xf(e,["index"]);null!=c&&Kf(t,["index"],c);const u=Xf(e,["logprobsResult"]);null!=u&&Kf(t,["logprobsResult"],u);const d=Xf(e,["safetyRatings"]);return null!=d&&Kf(t,["safetyRatings"],d),t}function Lx(e){const t={},n=Xf(e,["sdkHttpResponse"]);null!=n&&Kf(t,["sdkHttpResponse"],n);const r=Xf(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Dx(e)))),Kf(t,["candidates"],e)}const o=Xf(e,["modelVersion"]);null!=o&&Kf(t,["modelVersion"],o);const i=Xf(e,["promptFeedback"]);null!=i&&Kf(t,["promptFeedback"],i);const a=Xf(e,["responseId"]);null!=a&&Kf(t,["responseId"],a);const s=Xf(e,["usageMetadata"]);return null!=s&&Kf(t,["usageMetadata"],s),t}function Fx(e){const t={},n=Xf(e,["sdkHttpResponse"]);null!=n&&Kf(t,["sdkHttpResponse"],n);const r=Xf(e,["embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e){const t={},n=Xf(e,["values"]);return null!=n&&Kf(t,["values"],n),t}(e)))),Kf(t,["embeddings"],e)}return null!=Xf(e,["metadata"])&&Kf(t,["metadata"],{}),t}function Ux(e){const t={},n=Xf(e,["safetyAttributes","categories"]);null!=n&&Kf(t,["categories"],n);const r=Xf(e,["safetyAttributes","scores"]);null!=r&&Kf(t,["scores"],r);const o=Xf(e,["contentType"]);return null!=o&&Kf(t,["contentType"],o),t}function Vx(e){const t={},n=Xf(e,["_self"]);null!=n&&Kf(t,["image"],function(e){const t={},n=Xf(e,["bytesBase64Encoded"]);null!=n&&Kf(t,["imageBytes"],Dg(n));const r=Xf(e,["mimeType"]);return null!=r&&Kf(t,["mimeType"],r),t}(n));const r=Xf(e,["raiFilteredReason"]);null!=r&&Kf(t,["raiFilteredReason"],r);const o=Xf(e,["_self"]);return null!=o&&Kf(t,["safetyAttributes"],Ux(o)),t}function Bx(e){const t={},n=Xf(e,["name"]);null!=n&&Kf(t,["name"],n);const r=Xf(e,["displayName"]);null!=r&&Kf(t,["displayName"],r);const o=Xf(e,["description"]);null!=o&&Kf(t,["description"],o);const i=Xf(e,["version"]);null!=i&&Kf(t,["version"],i);const a=Xf(e,["_self"]);null!=a&&Kf(t,["tunedModelInfo"],function(e){const t={},n=Xf(e,["baseModel"]);null!=n&&Kf(t,["baseModel"],n);const r=Xf(e,["createTime"]);null!=r&&Kf(t,["createTime"],r);const o=Xf(e,["updateTime"]);return null!=o&&Kf(t,["updateTime"],o),t}(a));const s=Xf(e,["inputTokenLimit"]);null!=s&&Kf(t,["inputTokenLimit"],s);const l=Xf(e,["outputTokenLimit"]);null!=l&&Kf(t,["outputTokenLimit"],l);const c=Xf(e,["supportedGenerationMethods"]);return null!=c&&Kf(t,["supportedActions"],c),t}function Hx(e){const t={},n=Xf(e,["_self"]);return null!=n&&Kf(t,["video"],function(e){const t={},n=Xf(e,["video","uri"]);null!=n&&Kf(t,["uri"],n);const r=Xf(e,["video","encodedVideo"]);null!=r&&Kf(t,["videoBytes"],Dg(r));const o=Xf(e,["encoding"]);return null!=o&&Kf(t,["mimeType"],o),t}(n)),t}function zx(e){const t={},n=Xf(e,["name"]);null!=n&&Kf(t,["name"],n);const r=Xf(e,["metadata"]);null!=r&&Kf(t,["metadata"],r);const o=Xf(e,["done"]);null!=o&&Kf(t,["done"],o);const i=Xf(e,["error"]);null!=i&&Kf(t,["error"],i);const a=Xf(e,["response","generateVideoResponse"]);return null!=a&&Kf(t,["response"],function(e){const t={},n=Xf(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>Hx(e)))),Kf(t,["generatedVideos"],e)}const r=Xf(e,["raiMediaFilteredCount"]);null!=r&&Kf(t,["raiMediaFilteredCount"],r);const o=Xf(e,["raiMediaFilteredReasons"]);return null!=o&&Kf(t,["raiMediaFilteredReasons"],o),t}(a)),t}function Wx(e){const t={},n=Xf(e,["videoMetadata"]);null!=n&&Kf(t,["videoMetadata"],function(e){const t={},n=Xf(e,["fps"]);null!=n&&Kf(t,["fps"],n);const r=Xf(e,["endOffset"]);null!=r&&Kf(t,["endOffset"],r);const o=Xf(e,["startOffset"]);return null!=o&&Kf(t,["startOffset"],o),t}(n));const r=Xf(e,["thought"]);null!=r&&Kf(t,["thought"],r);const o=Xf(e,["inlineData"]);null!=o&&Kf(t,["inlineData"],function(e){const t={},n=Xf(e,["displayName"]);null!=n&&Kf(t,["displayName"],n);const r=Xf(e,["data"]);null!=r&&Kf(t,["data"],r);const o=Xf(e,["mimeType"]);return null!=o&&Kf(t,["mimeType"],o),t}(o));const i=Xf(e,["fileData"]);null!=i&&Kf(t,["fileData"],function(e){const t={},n=Xf(e,["displayName"]);null!=n&&Kf(t,["displayName"],n);const r=Xf(e,["fileUri"]);null!=r&&Kf(t,["fileUri"],r);const o=Xf(e,["mimeType"]);return null!=o&&Kf(t,["mimeType"],o),t}(i));const a=Xf(e,["thoughtSignature"]);null!=a&&Kf(t,["thoughtSignature"],a);const s=Xf(e,["codeExecutionResult"]);null!=s&&Kf(t,["codeExecutionResult"],s);const l=Xf(e,["executableCode"]);null!=l&&Kf(t,["executableCode"],l);const c=Xf(e,["functionCall"]);null!=c&&Kf(t,["functionCall"],c);const u=Xf(e,["functionResponse"]);null!=u&&Kf(t,["functionResponse"],u);const d=Xf(e,["text"]);return null!=d&&Kf(t,["text"],d),t}function qx(e){const t={},n=Xf(e,["urlMetadata"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>function(e){const t={},n=Xf(e,["retrievedUrl"]);null!=n&&Kf(t,["retrievedUrl"],n);const r=Xf(e,["urlRetrievalStatus"]);return null!=r&&Kf(t,["urlRetrievalStatus"],r),t}(e)))),Kf(t,["urlMetadata"],e)}return t}function Gx(e){const t={},n=Xf(e,["content"]);null!=n&&Kf(t,["content"],function(e){const t={},n=Xf(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>Wx(e)))),Kf(t,["parts"],e)}const r=Xf(e,["role"]);return null!=r&&Kf(t,["role"],r),t}(n));const r=Xf(e,["citationMetadata"]);null!=r&&Kf(t,["citationMetadata"],function(e){const t={},n=Xf(e,["citations"]);return null!=n&&Kf(t,["citations"],n),t}(r));const o=Xf(e,["finishMessage"]);null!=o&&Kf(t,["finishMessage"],o);const i=Xf(e,["finishReason"]);null!=i&&Kf(t,["finishReason"],i);const a=Xf(e,["urlContextMetadata"]);null!=a&&Kf(t,["urlContextMetadata"],qx(a));const s=Xf(e,["avgLogprobs"]);null!=s&&Kf(t,["avgLogprobs"],s);const l=Xf(e,["groundingMetadata"]);null!=l&&Kf(t,["groundingMetadata"],l);const c=Xf(e,["index"]);null!=c&&Kf(t,["index"],c);const u=Xf(e,["logprobsResult"]);null!=u&&Kf(t,["logprobsResult"],u);const d=Xf(e,["safetyRatings"]);return null!=d&&Kf(t,["safetyRatings"],d),t}function Yx(e){const t={},n=Xf(e,["sdkHttpResponse"]);null!=n&&Kf(t,["sdkHttpResponse"],n);const r=Xf(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Gx(e)))),Kf(t,["candidates"],e)}const o=Xf(e,["createTime"]);null!=o&&Kf(t,["createTime"],o);const i=Xf(e,["modelVersion"]);null!=i&&Kf(t,["modelVersion"],i);const a=Xf(e,["promptFeedback"]);null!=a&&Kf(t,["promptFeedback"],a);const s=Xf(e,["responseId"]);null!=s&&Kf(t,["responseId"],s);const l=Xf(e,["usageMetadata"]);return null!=l&&Kf(t,["usageMetadata"],l),t}function Jx(e){const t={},n=Xf(e,["values"]);null!=n&&Kf(t,["values"],n);const r=Xf(e,["statistics"]);return null!=r&&Kf(t,["statistics"],function(e){const t={},n=Xf(e,["truncated"]);null!=n&&Kf(t,["truncated"],n);const r=Xf(e,["token_count"]);return null!=r&&Kf(t,["tokenCount"],r),t}(r)),t}function Kx(e){const t={},n=Xf(e,["sdkHttpResponse"]);null!=n&&Kf(t,["sdkHttpResponse"],n);const r=Xf(e,["predictions[]","embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Jx(e)))),Kf(t,["embeddings"],e)}const o=Xf(e,["metadata"]);return null!=o&&Kf(t,["metadata"],function(e){const t={},n=Xf(e,["billableCharacterCount"]);return null!=n&&Kf(t,["billableCharacterCount"],n),t}(o)),t}function Xx(e){const t={},n=Xf(e,["gcsUri"]);null!=n&&Kf(t,["gcsUri"],n);const r=Xf(e,["bytesBase64Encoded"]);null!=r&&Kf(t,["imageBytes"],Dg(r));const o=Xf(e,["mimeType"]);return null!=o&&Kf(t,["mimeType"],o),t}function $x(e){const t={},n=Xf(e,["safetyAttributes","categories"]);null!=n&&Kf(t,["categories"],n);const r=Xf(e,["safetyAttributes","scores"]);null!=r&&Kf(t,["scores"],r);const o=Xf(e,["contentType"]);return null!=o&&Kf(t,["contentType"],o),t}function Qx(e){const t={},n=Xf(e,["_self"]);null!=n&&Kf(t,["image"],Xx(n));const r=Xf(e,["raiFilteredReason"]);null!=r&&Kf(t,["raiFilteredReason"],r);const o=Xf(e,["_self"]);null!=o&&Kf(t,["safetyAttributes"],$x(o));const i=Xf(e,["prompt"]);return null!=i&&Kf(t,["enhancedPrompt"],i),t}function Zx(e){const t={},n=Xf(e,["_self"]);null!=n&&Kf(t,["mask"],Xx(n));const r=Xf(e,["labels"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e){const t={},n=Xf(e,["label"]);null!=n&&Kf(t,["label"],n);const r=Xf(e,["score"]);return null!=r&&Kf(t,["score"],r),t}(e)))),Kf(t,["labels"],e)}return t}function eb(e){const t={},n=Xf(e,["name"]);null!=n&&Kf(t,["name"],n);const r=Xf(e,["displayName"]);null!=r&&Kf(t,["displayName"],r);const o=Xf(e,["description"]);null!=o&&Kf(t,["description"],o);const i=Xf(e,["versionId"]);null!=i&&Kf(t,["version"],i);const a=Xf(e,["deployedModels"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map((e=>function(e){const t={},n=Xf(e,["endpoint"]);null!=n&&Kf(t,["name"],n);const r=Xf(e,["deployedModelId"]);return null!=r&&Kf(t,["deployedModelId"],r),t}(e)))),Kf(t,["endpoints"],e)}const s=Xf(e,["labels"]);null!=s&&Kf(t,["labels"],s);const l=Xf(e,["_self"]);null!=l&&Kf(t,["tunedModelInfo"],function(e){const t={},n=Xf(e,["labels","google-vertex-llm-tuning-base-model-id"]);null!=n&&Kf(t,["baseModel"],n);const r=Xf(e,["createTime"]);null!=r&&Kf(t,["createTime"],r);const o=Xf(e,["updateTime"]);return null!=o&&Kf(t,["updateTime"],o),t}(l));const c=Xf(e,["defaultCheckpointId"]);null!=c&&Kf(t,["defaultCheckpointId"],c);const u=Xf(e,["checkpoints"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map((e=>function(e){const t={},n=Xf(e,["checkpointId"]);null!=n&&Kf(t,["checkpointId"],n);const r=Xf(e,["epoch"]);null!=r&&Kf(t,["epoch"],r);const o=Xf(e,["step"]);return null!=o&&Kf(t,["step"],o),t}(e)))),Kf(t,["checkpoints"],e)}return t}function tb(e){const t={},n=Xf(e,["_self"]);return null!=n&&Kf(t,["video"],function(e){const t={},n=Xf(e,["gcsUri"]);null!=n&&Kf(t,["uri"],n);const r=Xf(e,["bytesBase64Encoded"]);null!=r&&Kf(t,["videoBytes"],Dg(r));const o=Xf(e,["mimeType"]);return null!=o&&Kf(t,["mimeType"],o),t}(n)),t}function nb(e){const t={},n=Xf(e,["name"]);null!=n&&Kf(t,["name"],n);const r=Xf(e,["metadata"]);null!=r&&Kf(t,["metadata"],r);const o=Xf(e,["done"]);null!=o&&Kf(t,["done"],o);const i=Xf(e,["error"]);null!=i&&Kf(t,["error"],i);const a=Xf(e,["response"]);return null!=a&&Kf(t,["response"],function(e){const t={},n=Xf(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>tb(e)))),Kf(t,["generatedVideos"],e)}const r=Xf(e,["raiMediaFilteredCount"]);null!=r&&Kf(t,["raiMediaFilteredCount"],r);const o=Xf(e,["raiMediaFilteredReasons"]);return null!=o&&Kf(t,["raiMediaFilteredReasons"],o),t}(a)),t}const rb="x-goog-api-client",ob="google-genai-sdk/".concat("1.16.0"),ib=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class ab{constructor(e){var t,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=null!==(t=this.clientOptions.apiVersion)&&void 0!==t?t:"v1beta1",r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=null!==(n=this.clientOptions.apiVersion)&&void 0!==n?n:"v1beta",r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&"global"!==this.clientOptions.location?"https://".concat(this.clientOptions.location,"-aiplatform.googleapis.com/"):"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:(this.clientOptions.project=void 0,this.clientOptions.location=void 0)}isVertexAI(){var e;return null!==(e=this.clientOptions.vertexai)&&void 0!==e&&e}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.apiVersion)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.baseUrl)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.headers)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||void 0===e.baseUrl||void 0===e.apiVersion)throw new Error("HTTP options are not correctly set.");const t=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&""!==e.apiVersion&&t.push(e.apiVersion),t.join("/")}getBaseResourcePath(){return"projects/".concat(this.clientOptions.project,"/locations/").concat(this.clientOptions.location)}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol="http:"==t.protocol?"ws":"wss",t.toString()}setBaseUrl(e){if(!this.clientOptions.httpOptions)throw new Error("HTTP options are not correctly set.");this.clientOptions.httpOptions.baseUrl=e}constructUrl(e,t,n){const r=[this.getRequestUrlInternal(t)];n&&r.push(this.getBaseResourcePath()),""!==e&&r.push(e);return new URL("".concat(r.join("/")))}shouldPrependVertexProjectPath(e){return!this.clientOptions.apiKey&&(!!this.clientOptions.vertexai&&(!e.path.startsWith("projects/")&&("GET"!==e.httpMethod||!e.path.startsWith("publishers/google/models"))))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);if(e.queryParams)for(const[i,a]of Object.entries(e.queryParams))r.searchParams.append(i,String(a));let o={};if("GET"===e.httpMethod){if(e.body&&"{}"!==e.body)throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.unaryApiCall(r,o,e.httpMethod)}patchHttpOptions(e,t){const n=JSON.parse(JSON.stringify(e));for(const[r,o]of Object.entries(t))"object"===typeof o?n[r]=Object.assign(Object.assign({},n[r]),o):void 0!==o&&(n[r]=o);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);r.searchParams.has("alt")&&"sse"===r.searchParams.get("alt")||r.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.streamApiCall(r,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n){if(t&&t.timeout||n){const r=new AbortController,o=r.signal;if(t.timeout&&(null===t||void 0===t?void 0:t.timeout)>0){const e=setTimeout((()=>r.abort()),t.timeout);e&&"function"===typeof e.unref&&e.unref()}n&&n.addEventListener("abort",(()=>{r.abort()})),e.signal=o}return t&&null!==t.extraBody&&function(e,t){if(!t||0===Object.keys(t).length)return;if(e.body instanceof Blob)return void console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");let n={};if("string"===typeof e.body&&e.body.length>0)try{const t=JSON.parse(e.body);if("object"!==typeof t||null===t||Array.isArray(t))return void console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");n=t}catch(Xw){return void console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.")}function r(e,t){const n=Object.assign({},e);for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)){const e=t[o],i=n[o];e&&"object"===typeof e&&!Array.isArray(e)&&i&&"object"===typeof i&&!Array.isArray(i)?n[o]=r(i,e):(i&&e&&typeof i!==typeof e&&console.warn('includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "'.concat(o,'". Original type: ').concat(typeof i,", New type: ").concat(typeof e,". Overwriting.")),n[o]=e)}return n}const o=r(n,t);e.body=JSON.stringify(o)}(e,t.extraBody),e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then((async e=>(await sb(e),new qm(e)))).catch((e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))}))}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then((async e=>(await sb(e),this.processStreamResponse(e)))).catch((e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))}))}processStreamResponse(e){var t;return zy(this,arguments,(function*(){const n=null===(t=null===e||void 0===e?void 0:e.body)||void 0===t?void 0:t.getReader(),r=new TextDecoder("utf-8");if(!n)throw new Error("Response body is empty");try{let t="";for(;;){const{done:o,value:i}=yield Hy(n.read());if(o){if(t.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const a=r.decode(i,{stream:!0});try{const e=JSON.parse(a);if("error"in e){const t=JSON.parse(JSON.stringify(e.error)),n=t.status,r=t.code,o="got status: ".concat(n,". ").concat(JSON.stringify(e));if(r>=400&&r<600){throw new Xy({message:o,status:r})}}}catch(Xw){if("ApiError"===Xw.name)throw Xw}t+=a;let s=t.match(ib);for(;s;){const n=s[1];try{const r=new Response(n,{headers:null===e||void 0===e?void 0:e.headers,status:null===e||void 0===e?void 0:e.status,statusText:null===e||void 0===e?void 0:e.statusText});yield yield Hy(new qm(r)),t=t.slice(s[0].length),s=t.match(ib)}catch(Xw){throw new Error("exception parsing stream chunk ".concat(n,". ").concat(Xw))}}}}finally{n.releaseLock()}}))}async apiCall(e,t){return fetch(e,t).catch((e=>{throw new Error("exception ".concat(e," sending request"))}))}getDefaultHeaders(){const e={},t=ob+" "+this.clientOptions.userAgentExtra;return e["User-Agent"]=t,e[rb]=t,e["Content-Type"]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[n,r]of Object.entries(e.headers))t.append(n,r);e.timeout&&e.timeout>0&&t.append("X-Server-Timeout",String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var n;const r={};null!=t&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name="files/".concat(r.name));const o=this.clientOptions.uploader,i=await o.stat(e);r.sizeBytes=String(i.size);const a=null!==(n=null===t||void 0===t?void 0:t.mimeType)&&void 0!==n?n:i.type;if(void 0===a||""===a)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=a;const s=await this.fetchUploadUrl(r,t);return o.upload(e,s,this)}async downloadFile(e){const t=this.clientOptions.downloader;await t.download(e,this)}async fetchUploadUrl(e,t){var n;let r={};r=(null===t||void 0===t?void 0:t.httpOptions)?t.httpOptions:{apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(e.sizeBytes),"X-Goog-Upload-Header-Content-Type":"".concat(e.mimeType)}};const o={file:e},i=await this.request({path:Jf("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:r});if(!i||!(null===i||void 0===i?void 0:i.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const a=null===(n=null===i||void 0===i?void 0:i.headers)||void 0===n?void 0:n["x-goog-upload-url"];if(void 0===a)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return a}}async function sb(e){var t;if(void 0===e)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;r=(null===(t=e.headers.get("content-type"))||void 0===t?void 0:t.includes("application/json"))?await e.json():{error:{message:await e.text(),code:e.status,status:e.statusText}};const o=JSON.stringify(r);if(n>=400&&n<600){throw new Xy({message:o,status:n})}throw new Error(o)}}let lb=!1;function cb(e){for(const n of e){if(null!==(t=n)&&"object"===typeof t&&t instanceof pb)return!0;if("object"===typeof n&&"inputSchema"in n)return!0}var t;return lb}function ub(e){var t;const n=null!==(t=e[rb])&&void 0!==t?t:"";e[rb]=(n+" ".concat("mcp_used/unknown")).trimStart()}function db(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return zy(this,arguments,(function*(){let n,r=0;for(;r<t;){const t=yield Hy(e.listTools({cursor:n}));for(const e of t.tools)yield yield Hy(e),r++;if(!t.nextCursor)break;n=t.nextCursor}}))}class pb{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new pb(e,t)}async initialize(){var e,t,n,r;if(this.mcpTools.length>0)return;const o={},i=[];for(const u of this.mcpClients)try{for(var a,s=!0,l=(t=void 0,Wy(db(u)));!(e=(a=await l.next()).done);s=!0){r=a.value,s=!1;const e=r;i.push(e);const t=e.name;if(o[t])throw new Error("Duplicate function name ".concat(t," found in MCP tools. Please ensure function names are unique."));o[t]=u}}catch(c){t={error:c}}finally{try{s||e||!(n=l.return)||await n.call(l)}finally{if(t)throw t.error}}this.mcpTools=i,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[],r=new Set;for(const o of e){const e=o.name;if(r.has(e))throw new Error("Duplicate function name ".concat(e," found in MCP tools. Please ensure function names are unique."));r.add(e);const i=Bg(o,t);i.functionDeclarations&&n.push(...i.functionDeclarations)}return{functionDeclarations:n}}(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const e=this.functionNameToMcpClient[n.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const o=await e.callTool({name:n.name,arguments:n.args},void 0,r);t.push({functionResponse:{name:n.name,response:o.isError?{error:o}:o}})}return t}}class hb{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){var t,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),i=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),s="".concat(r,"/ws/google.ai.generativelanguage.").concat(o,".GenerativeService.BidiGenerateMusic?key=").concat(a);let l=()=>{};const c=new Promise((e=>{l=e})),u=e.callbacks,d=(this.apiClient,{onopen:function(){l({})},onmessage:e=>{!async function(e,t,n){const r=new hg;let o;o=n.data instanceof Blob?JSON.parse(await n.data.text()):JSON.parse(n.data);const i=Dv(o);Object.assign(r,i),t(r)}(0,u.onmessage,e)},onerror:null!==(t=null===u||void 0===u?void 0:u.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null===u||void 0===u?void 0:u.onclose)&&void 0!==n?n:function(e){}}),p=this.webSocketFactory.create(s,function(e){const t={};return e.forEach(((e,n)=>{t[n]=e})),t}(i),d);p.connect(),await c;const h=mv({setup:hv({model:fg(this.apiClient,e.model)})});return p.send(JSON.stringify(h)),new fb(p,this.apiClient)}}class fb{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||0===Object.keys(e.weightedPrompts).length)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=fv(function(e){const t={},n=Xf(e,["weightedPrompts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>dv(e)))),Kf(t,["weightedPrompts"],e)}return t}(e));this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=mv(function(e){const t={},n=Xf(e,["musicGenerationConfig"]);return null!=n&&Kf(t,["musicGenerationConfig"],pv(n)),t}(e));this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t=mv({playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(zm.PLAY)}pause(){this.sendPlaybackControl(zm.PAUSE)}stop(){this.sendPlaybackControl(zm.STOP)}resetContext(){this.sendPlaybackControl(zm.RESET_CONTEXT)}close(){this.conn.close()}}class mb{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new hb(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,n,r,o,i,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const s=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion();let c;const u=this.apiClient.getHeaders();e.config&&e.config.tools&&cb(e.config.tools)&&ub(u);const d=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}(u);if(this.apiClient.isVertexAI())c="".concat(s,"/ws/google.cloud.aiplatform.").concat(l,".LlmBidiService/BidiGenerateContent"),await this.auth.addAuthHeaders(d);else{const e=this.apiClient.getApiKey();let t="BidiGenerateContent",n="key";(null===e||void 0===e?void 0:e.startsWith("auth_tokens/"))&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),"v1alpha"!==l&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),t="BidiGenerateContentConstrained",n="access_token"),c="".concat(s,"/ws/google.ai.generativelanguage.").concat(l,".GenerativeService.").concat(t,"?").concat(n,"=").concat(e)}let p=()=>{};const h=new Promise((e=>{p=e})),f=e.callbacks,m=this.apiClient,g={onopen:function(){var e;null===(e=null===f||void 0===f?void 0:f.onopen)||void 0===e||e.call(f),p({})},onmessage:e=>{!async function(e,t,n){const r=new pg;let o;o=n.data instanceof Blob?await n.data.text():n.data instanceof ArrayBuffer?(new TextDecoder).decode(n.data):n.data;const i=JSON.parse(o);if(e.isVertexAI()){const e=Hv(i);Object.assign(r,e)}else{const e=_v(i);Object.assign(r,e)}t(r)}(m,f.onmessage,e)},onerror:null!==(t=null===f||void 0===f?void 0:f.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null===f||void 0===f?void 0:f.onclose)&&void 0!==n?n:function(e){}},y=this.webSocketFactory.create(c,function(e){const t={};return e.forEach(((e,n)=>{t[n]=e})),t}(d),g);y.connect(),await h;let v=fg(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&v.startsWith("publishers/")){const e=this.apiClient.getProject(),t=this.apiClient.getLocation();v="projects/".concat(e,"/locations/").concat(t,"/")+v}let x={};this.apiClient.isVertexAI()&&void 0===(null===(r=e.config)||void 0===r?void 0:r.responseModalities)&&(void 0===e.config?e.config={responseModalities:[hm.AUDIO]}:e.config.responseModalities=[hm.AUDIO]),(null===(o=e.config)||void 0===o?void 0:o.generationConfig)&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const b=null!==(a=null===(i=e.config)||void 0===i?void 0:i.tools)&&void 0!==a?a:[],w=[];for(const S of b)if(this.isCallableTool(S)){const e=S;w.push(await e.tool())}else w.push(S);w.length>0&&(e.config.tools=w);const k={model:v,config:e.config,callbacks:e.callbacks};return x=this.apiClient.isVertexAI()?function(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["setup","model"],fg(e,r));const o=Xf(t,["config"]);return null!=o&&Kf(n,["config"],Ev(o,n)),n}(this.apiClient,k):function(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["setup","model"],fg(e,r));const o=Xf(t,["config"]);return null!=o&&Kf(n,["config"],cv(o,n)),n}(this.apiClient,k),delete x.config,y.send(JSON.stringify(x)),new yb(y,this.apiClient)}isCallableTool(e){return"callTool"in e&&"function"===typeof e.callTool}}const gb={turnComplete:!0};class yb{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(null!==t.turns&&void 0!==t.turns){let r=[];try{r=Ng(t.turns),r=e.isVertexAI()?r.map((e=>lx(e))):r.map((e=>Wv(e)))}catch(n){throw new Error('Failed to parse client content "turns", type: \''.concat(typeof t.turns,"'"))}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(null==t.functionResponses)throw new Error("functionResponses is required.");if(n=Array.isArray(t.functionResponses)?t.functionResponses:[t.functionResponses],0===n.length)throw new Error("functionResponses is required.");for(const r of n){if("object"!==typeof r||null===r||!("name"in r)||!("response"in r))throw new Error("Could not parse function response, type '".concat(typeof r,"'."));if(!e.isVertexAI()&&!("id"in r))throw new Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},gb),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};t=this.apiClient.isVertexAI()?{realtimeInput:Cv(e)}:{realtimeInput:uv(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(null==e.functionResponses)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function vb(e){var t,n,r;if(null===(t=null===e||void 0===e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.disable)return!0;let o=!1;for(const a of null!==(n=null===e||void 0===e?void 0:e.tools)&&void 0!==n?n:[])if(xb(a)){o=!0;break}if(!o)return!0;const i=null===(r=null===e||void 0===e?void 0:e.automaticFunctionCalling)||void 0===r?void 0:r.maximumRemoteCalls;return!!(i&&(i<0||!Number.isInteger(i))||0==i)&&(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0)}function xb(e){return"callTool"in e&&"function"===typeof e.callTool}function bb(e){var t;return!(null===(t=null===e||void 0===e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.ignoreCallHistory)}class wb extends Yf{constructor(e){super(),this.apiClient=e,this.generateContent=async e=>{var t,n,r,o,i;const a=await this.processParamsMaybeAddMcpUsage(e);if(this.maybeMoveToResponseJsonSchem(e),!function(e){var t,n,r;return null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some((e=>xb(e))))&&void 0!==r&&r}(e)||vb(e.config))return await this.generateContentInternal(a);if(function(e){var t,n,r;return null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some((e=>!xb(e))))&&void 0!==r&&r}(e))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let s,l;const c=Ng(a.contents),u=null!==(r=null===(n=null===(t=a.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let d=0;for(;d<u&&(s=await this.generateContentInternal(a),s.functionCalls&&0!==s.functionCalls.length);){const t=s.candidates[0].content,n=[];for(const r of null!==(i=null===(o=e.config)||void 0===o?void 0:o.tools)&&void 0!==i?i:[])if(xb(r)){const e=r,t=await e.callTool(s.functionCalls);n.push(...t)}d++,l={role:"user",parts:n},a.contents=Ng(a.contents),a.contents.push(t),a.contents.push(l),bb(a.config)&&(c.push(t),c.push(l))}return bb(a.config)&&(s.automaticFunctionCallingHistory=c),s},this.generateContentStream=async e=>{if(this.maybeMoveToResponseJsonSchem(e),vb(e.config)){const t=await this.processParamsMaybeAddMcpUsage(e);return await this.generateContentStreamInternal(t)}return await this.processAfcStream(e)},this.generateImages=async e=>await this.generateImagesInternal(e).then((e=>{var t;let n;const r=[];if(null===e||void 0===e?void 0:e.generatedImages)for(const i of e.generatedImages)i&&(null===i||void 0===i?void 0:i.safetyAttributes)&&"Positive Prompt"===(null===(t=null===i||void 0===i?void 0:i.safetyAttributes)||void 0===t?void 0:t.contentType)?n=null===i||void 0===i?void 0:i.safetyAttributes:r.push(i);let o;return o=n?{generatedImages:r,positivePromptSafetyAttributes:n,sdkHttpResponse:e.sdkHttpResponse}:{generatedImages:r,sdkHttpResponse:e.sdkHttpResponse},o})),this.list=async e=>{var t;const n={config:Object.assign(Object.assign({},{queryBase:!0}),null===e||void 0===e?void 0:e.config)};if(this.apiClient.isVertexAI()&&!n.config.queryBase){if(null===(t=n.config)||void 0===t?void 0:t.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");n.config.filter="labels.tune-type:*"}return new my(Wm.PAGED_ITEM_MODELS,(e=>this.listInternal(e)),await this.listInternal(n),n)},this.editImage=async e=>{const t={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(t.referenceImages=e.referenceImages.map((e=>e.toReferenceImageAPI()))),await this.editImageInternal(t)},this.upscaleImage=async e=>{let t={numberOfImages:1,mode:"upscale"};e.config&&(t=Object.assign(Object.assign({},t),e.config));const n={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:t};return await this.upscaleImageInternal(n)},this.generateVideos=async e=>{if((e.prompt||e.image||e.video)&&e.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(e)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,n,r;const o=null===(t=e.config)||void 0===t?void 0:t.tools;if(!o)return e;const i=await Promise.all(o.map((async e=>{if(xb(e)){const t=e;return await t.tool()}return e}))),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:i})};if(a.config.tools=i,e.config&&e.config.tools&&cb(e.config.tools)){const t=null!==(r=null===(n=e.config.httpOptions)||void 0===n?void 0:n.headers)&&void 0!==r?r:{};let o=Object.assign({},t);0===Object.keys(o).length&&(o=this.apiClient.getDefaultHeaders()),ub(o),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:o})}return a}async initAfcToolsMap(e){var t,n,r;const o=new Map;for(const i of null!==(n=null===(t=e.config)||void 0===t?void 0:t.tools)&&void 0!==n?n:[])if(xb(i)){const e=i,t=await e.tool();for(const n of null!==(r=t.functionDeclarations)&&void 0!==r?r:[]){if(!n.name)throw new Error("Function declaration name is required.");if(o.has(n.name))throw new Error("Duplicate tool declaration name: ".concat(n.name));o.set(n.name,e)}}return o}async processAfcStream(e){var t,n,r;const o=null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let i=!1,a=0;return function(e,t,n){var r,s;return zy(this,arguments,(function*(){for(var l,c,u,d;a<o;){i&&(a++,i=!1);const g=yield Hy(e.processParamsMaybeAddMcpUsage(n)),y=yield Hy(e.generateContentStreamInternal(g)),v=[],x=[];try{for(var p,h=!0,f=(c=void 0,Wy(y));!(l=(p=yield Hy(f.next())).done);h=!0){d=p.value,h=!1;const e=d;if(yield yield Hy(e),e.candidates&&(null===(r=e.candidates[0])||void 0===r?void 0:r.content)){x.push(e.candidates[0].content);for(const n of null!==(s=e.candidates[0].content.parts)&&void 0!==s?s:[])if(a<o&&n.functionCall){if(!n.functionCall.name)throw new Error("Function call name was not returned by the model.");if(!t.has(n.functionCall.name))throw new Error("Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ".concat(t.keys(),", mising tool: ").concat(n.functionCall.name));{const e=yield Hy(t.get(n.functionCall.name).callTool([n.functionCall]));v.push(...e)}}}}}catch(m){c={error:m}}finally{try{h||l||!(u=f.return)||(yield Hy(u.call(f)))}finally{if(c)throw c.error}}if(!(v.length>0))break;{i=!0;const e=new Gm;e.candidates=[{content:{role:"user",parts:v}}],yield yield Hy(e);const t=[];t.push(...x),t.push({role:"user",parts:v});const r=Ng(n.contents).concat(t);n.contents=r}}}))}(this,await this.initAfcToolsMap(e),e)}async generateContentInternal(e){var t,n,r,o;let i,a="",s={};if(this.apiClient.isVertexAI()){const r=yx(this.apiClient,e);return a=Jf("{model}:generateContent",r._url),s=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),i.then((e=>{const t=Yx(e),n=new Gm;return Object.assign(n,t),n}))}{const t=Zv(this.apiClient,e);return a=Jf("{model}:generateContent",t._url),s=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),i.then((e=>{const t=Lx(e),n=new Gm;return Object.assign(n,t),n}))}}async generateContentStreamInternal(e){var t,n,r,o;let i,a="",s={};if(this.apiClient.isVertexAI()){const r=yx(this.apiClient,e);a=Jf("{model}:streamGenerateContent?alt=sse",r._url),s=r._query,delete r.config,delete r._url,delete r._query;return i=this.apiClient.requestStream({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}),i.then((function(e){return zy(this,arguments,(function*(){var t,n,r,o;try{for(var i,a=!0,s=Wy(e);!(t=(i=yield Hy(s.next())).done);a=!0){o=i.value,a=!1;const e=o,t=Yx(yield Hy(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new Gm;Object.assign(n,t),yield yield Hy(n)}}catch(l){n={error:l}}finally{try{a||t||!(r=s.return)||(yield Hy(r.call(s)))}finally{if(n)throw n.error}}}))}))}{const t=Zv(this.apiClient,e);a=Jf("{model}:streamGenerateContent?alt=sse",t._url),s=t._query,delete t.config,delete t._url,delete t._query;return i=this.apiClient.requestStream({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}),i.then((function(e){return zy(this,arguments,(function*(){var t,n,r,o;try{for(var i,a=!0,s=Wy(e);!(t=(i=yield Hy(s.next())).done);a=!0){o=i.value,a=!1;const e=o,t=Lx(yield Hy(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new Gm;Object.assign(n,t),yield yield Hy(n)}}catch(l){n={error:l}}finally{try{a||t||!(r=s.return)||(yield Hy(r.call(s)))}finally{if(n)throw n.error}}}))}))}}async embedContent(e){var t,n,r,o;let i,a="",s={};if(this.apiClient.isVertexAI()){const r=vx(this.apiClient,e);return a=Jf("{model}:predict",r._url),s=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),i.then((e=>{const t=Kx(e),n=new Ym;return Object.assign(n,t),n}))}{const t=ex(this.apiClient,e);return a=Jf("{model}:batchEmbedContents",t._url),s=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),i.then((e=>{const t=Fx(e),n=new Ym;return Object.assign(n,t),n}))}}async generateImagesInternal(e){var t,n,r,o;let i,a="",s={};if(this.apiClient.isVertexAI()){const r=xx(this.apiClient,e);return a=Jf("{model}:predict",r._url),s=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),i.then((e=>{const t=function(e){const t={},n=Xf(e,["sdkHttpResponse"]);null!=n&&Kf(t,["sdkHttpResponse"],n);const r=Xf(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Qx(e)))),Kf(t,["generatedImages"],e)}const o=Xf(e,["positivePromptSafetyAttributes"]);return null!=o&&Kf(t,["positivePromptSafetyAttributes"],$x(o)),t}(e),n=new Jm;return Object.assign(n,t),n}))}{const t=tx(this.apiClient,e);return a=Jf("{model}:predict",t._url),s=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),i.then((e=>{const t=function(e){const t={},n=Xf(e,["sdkHttpResponse"]);null!=n&&Kf(t,["sdkHttpResponse"],n);const r=Xf(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Vx(e)))),Kf(t,["generatedImages"],e)}const o=Xf(e,["positivePromptSafetyAttributes"]);return null!=o&&Kf(t,["positivePromptSafetyAttributes"],Ux(o)),t}(e),n=new Jm;return Object.assign(n,t),n}))}}async editImageInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const a=kx(this.apiClient,e);return o=Jf("{model}:predict",a._url),i=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),r.then((e=>{const t=function(e){const t={},n=Xf(e,["sdkHttpResponse"]);null!=n&&Kf(t,["sdkHttpResponse"],n);const r=Xf(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Qx(e)))),Kf(t,["generatedImages"],e)}return t}(e),n=new Km;return Object.assign(n,t),n}))}throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const a=Sx(this.apiClient,e);return o=Jf("{model}:predict",a._url),i=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),r.then((e=>{const t=function(e){const t={},n=Xf(e,["sdkHttpResponse"]);null!=n&&Kf(t,["sdkHttpResponse"],n);const r=Xf(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Qx(e)))),Kf(t,["generatedImages"],e)}return t}(e),n=new Xm;return Object.assign(n,t),n}))}throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const a=Cx(this.apiClient,e);return o=Jf("{model}:predict",a._url),i=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),r.then((e=>{const t=function(e){const t={},n=Xf(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>Qx(e)))),Kf(t,["generatedImages"],e)}return t}(e),n=new $m;return Object.assign(n,t),n}))}throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const a=Nx(this.apiClient,e);return o=Jf("{model}:predict",a._url),i=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),r.then((e=>{const t=function(e){const t={},n=Xf(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>Zx(e)))),Kf(t,["generatedMasks"],e)}return t}(e),n=new Qm;return Object.assign(n,t),n}))}throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,n,r,o;let i,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["_url","name"],fg(e,r));const o=Xf(t,["config"]);return null!=o&&Kf(n,["config"],o),n}(this.apiClient,e);return a=Jf("{name}",r._url),s=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>eb(e)))}{const t=function(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["_url","name"],fg(e,r));const o=Xf(t,["config"]);return null!=o&&Kf(n,["config"],o),n}(this.apiClient,e);return a=Jf("{name}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>Bx(e)))}}async listInternal(e){var t,n,r,o;let i,a="",s={};if(this.apiClient.isVertexAI()){const r=Ax(this.apiClient,e);return a=Jf("{models_url}",r._url),s=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),i.then((e=>{const t=function(e){const t={},n=Xf(e,["sdkHttpResponse"]);null!=n&&Kf(t,["sdkHttpResponse"],n);const r=Xf(e,["nextPageToken"]);null!=r&&Kf(t,["nextPageToken"],r);const o=Xf(e,["_self"]);if(null!=o){let e=Ug(o);Array.isArray(e)&&(e=e.map((e=>eb(e)))),Kf(t,["models"],e)}return t}(e),n=new Zm;return Object.assign(n,t),n}))}{const t=nx(this.apiClient,e);return a=Jf("{models_url}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),i.then((e=>{const t=function(e){const t={},n=Xf(e,["sdkHttpResponse"]);null!=n&&Kf(t,["sdkHttpResponse"],n);const r=Xf(e,["nextPageToken"]);null!=r&&Kf(t,["nextPageToken"],r);const o=Xf(e,["_self"]);if(null!=o){let e=Ug(o);Array.isArray(e)&&(e=e.map((e=>Bx(e)))),Kf(t,["models"],e)}return t}(e),n=new Zm;return Object.assign(n,t),n}))}}async update(e){var t,n,r,o;let i,a="",s={};if(this.apiClient.isVertexAI()){const r=jx(this.apiClient,e);return a=Jf("{model}",r._url),s=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>eb(e)))}{const t=rx(this.apiClient,e);return a=Jf("{name}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>Bx(e)))}}async delete(e){var t,n,r,o;let i,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["_url","name"],fg(e,r));const o=Xf(t,["config"]);return null!=o&&Kf(n,["config"],o),n}(this.apiClient,e);return a=Jf("{name}",r._url),s=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),i.then((e=>{const t=function(e){const t={},n=Xf(e,["sdkHttpResponse"]);return null!=n&&Kf(t,["sdkHttpResponse"],n),t}(e),n=new eg;return Object.assign(n,t),n}))}{const t=function(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["_url","name"],fg(e,r));const o=Xf(t,["config"]);return null!=o&&Kf(n,["config"],o),n}(this.apiClient,e);return a=Jf("{name}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),i.then((e=>{const t=function(e){const t={},n=Xf(e,["sdkHttpResponse"]);return null!=n&&Kf(t,["sdkHttpResponse"],n),t}(e),n=new eg;return Object.assign(n,t),n}))}}async countTokens(e){var t,n,r,o;let i,a="",s={};if(this.apiClient.isVertexAI()){const r=Ox(this.apiClient,e);return a=Jf("{model}:countTokens",r._url),s=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),i.then((e=>{const t=function(e){const t={},n=Xf(e,["sdkHttpResponse"]);null!=n&&Kf(t,["sdkHttpResponse"],n);const r=Xf(e,["totalTokens"]);return null!=r&&Kf(t,["totalTokens"],r),t}(e),n=new tg;return Object.assign(n,t),n}))}{const t=ox(this.apiClient,e);return a=Jf("{model}:countTokens",t._url),s=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),i.then((e=>{const t=function(e){const t={},n=Xf(e,["sdkHttpResponse"]);null!=n&&Kf(t,["sdkHttpResponse"],n);const r=Xf(e,["totalTokens"]);null!=r&&Kf(t,["totalTokens"],r);const o=Xf(e,["cachedContentTokenCount"]);return null!=o&&Kf(t,["cachedContentTokenCount"],o),t}(e),n=new tg;return Object.assign(n,t),n}))}}async computeTokens(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const a=function(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["_url","model"],fg(e,r));const o=Xf(t,["contents"]);if(null!=o){let e=Ng(o);Array.isArray(e)&&(e=e.map((e=>lx(e)))),Kf(n,["contents"],e)}const i=Xf(t,["config"]);return null!=i&&Kf(n,["config"],i),n}(this.apiClient,e);return o=Jf("{model}:computeTokens",a._url),i=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),r.then((e=>{const t=function(e){const t={},n=Xf(e,["sdkHttpResponse"]);null!=n&&Kf(t,["sdkHttpResponse"],n);const r=Xf(e,["tokensInfo"]);return null!=r&&Kf(t,["tokensInfo"],r),t}(e),n=new ng;return Object.assign(n,t),n}))}throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,n,r,o;let i,a="",s={};if(this.apiClient.isVertexAI()){const r=Px(this.apiClient,e);return a=Jf("{model}:predictLongRunning",r._url),s=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>{const t=nb(e),n=new og;return Object.assign(n,t),n}))}{const t=ax(this.apiClient,e);return a=Jf("{model}:predictLongRunning",t._url),s=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>{const t=zx(e),n=new og;return Object.assign(n,t),n}))}}}class kb extends Yf{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let r;n&&"httpOptions"in n&&(r=n.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:o,isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,isVertexAI:!1})}}async get(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let r;n&&"httpOptions"in n&&(r=n.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:o,isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,isVertexAI:!1})}}async getVideosOperationInternal(e){var t,n,r,o;let i,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=Xf(e,["operationName"]);null!=n&&Kf(t,["_url","operationName"],n);const r=Xf(e,["config"]);return null!=r&&Kf(t,["config"],r),t}(e);return a=Jf("{operationName}",r._url),s=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i}{const t=function(e){const t={},n=Xf(e,["operationName"]);null!=n&&Kf(t,["_url","operationName"],n);const r=Xf(e,["config"]);return null!=r&&Kf(t,["config"],r),t}(e);return a=Jf("{operationName}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i}}async fetchPredictVideosOperationInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const a=function(e){const t={},n=Xf(e,["operationName"]);null!=n&&Kf(t,["operationName"],n);const r=Xf(e,["resourceName"]);null!=r&&Kf(t,["_url","resourceName"],r);const o=Xf(e,["config"]);return null!=o&&Kf(t,["config"],o),t}(e);return o=Jf("{resourceName}:fetchPredictOperation",a._url),i=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),r}throw new Error("This method is only supported by the Vertex AI.")}}function Sb(e){const t={},n=Xf(e,["prebuiltVoiceConfig"]);return null!=n&&Kf(t,["prebuiltVoiceConfig"],function(e){const t={},n=Xf(e,["voiceName"]);return null!=n&&Kf(t,["voiceName"],n),t}(n)),t}function Eb(e){const t={},n=Xf(e,["speakerVoiceConfigs"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>function(e){const t={},n=Xf(e,["speaker"]);null!=n&&Kf(t,["speaker"],n);const r=Xf(e,["voiceConfig"]);return null!=r&&Kf(t,["voiceConfig"],Sb(r)),t}(e)))),Kf(t,["speakerVoiceConfigs"],e)}return t}function Cb(e){const t={},n=Xf(e,["videoMetadata"]);null!=n&&Kf(t,["videoMetadata"],function(e){const t={},n=Xf(e,["fps"]);null!=n&&Kf(t,["fps"],n);const r=Xf(e,["endOffset"]);null!=r&&Kf(t,["endOffset"],r);const o=Xf(e,["startOffset"]);return null!=o&&Kf(t,["startOffset"],o),t}(n));const r=Xf(e,["thought"]);null!=r&&Kf(t,["thought"],r);const o=Xf(e,["inlineData"]);null!=o&&Kf(t,["inlineData"],function(e){const t={};if(void 0!==Xf(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Xf(e,["data"]);null!=n&&Kf(t,["data"],n);const r=Xf(e,["mimeType"]);return null!=r&&Kf(t,["mimeType"],r),t}(o));const i=Xf(e,["fileData"]);null!=i&&Kf(t,["fileData"],function(e){const t={};if(void 0!==Xf(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Xf(e,["fileUri"]);null!=n&&Kf(t,["fileUri"],n);const r=Xf(e,["mimeType"]);return null!=r&&Kf(t,["mimeType"],r),t}(i));const a=Xf(e,["thoughtSignature"]);null!=a&&Kf(t,["thoughtSignature"],a);const s=Xf(e,["codeExecutionResult"]);null!=s&&Kf(t,["codeExecutionResult"],s);const l=Xf(e,["executableCode"]);null!=l&&Kf(t,["executableCode"],l);const c=Xf(e,["functionCall"]);null!=c&&Kf(t,["functionCall"],c);const u=Xf(e,["functionResponse"]);null!=u&&Kf(t,["functionResponse"],u);const d=Xf(e,["text"]);return null!=d&&Kf(t,["text"],d),t}function Tb(e){const t={},n=Xf(e,["timeRangeFilter"]);if(null!=n&&Kf(t,["timeRangeFilter"],function(e){const t={},n=Xf(e,["startTime"]);null!=n&&Kf(t,["startTime"],n);const r=Xf(e,["endTime"]);return null!=r&&Kf(t,["endTime"],r),t}(n)),void 0!==Xf(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function Nb(e){const t={},n=Xf(e,["dynamicRetrievalConfig"]);return null!=n&&Kf(t,["dynamicRetrievalConfig"],function(e){const t={},n=Xf(e,["mode"]);null!=n&&Kf(t,["mode"],n);const r=Xf(e,["dynamicThreshold"]);return null!=r&&Kf(t,["dynamicThreshold"],r),t}(n)),t}function Ab(e){const t={},n=Xf(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>function(e){const t={},n=Xf(e,["behavior"]);null!=n&&Kf(t,["behavior"],n);const r=Xf(e,["description"]);null!=r&&Kf(t,["description"],r);const o=Xf(e,["name"]);null!=o&&Kf(t,["name"],o);const i=Xf(e,["parameters"]);null!=i&&Kf(t,["parameters"],i);const a=Xf(e,["parametersJsonSchema"]);null!=a&&Kf(t,["parametersJsonSchema"],a);const s=Xf(e,["response"]);null!=s&&Kf(t,["response"],s);const l=Xf(e,["responseJsonSchema"]);return null!=l&&Kf(t,["responseJsonSchema"],l),t}(e)))),Kf(t,["functionDeclarations"],e)}if(void 0!==Xf(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=Xf(e,["googleSearch"]);null!=r&&Kf(t,["googleSearch"],Tb(r));const o=Xf(e,["googleSearchRetrieval"]);if(null!=o&&Kf(t,["googleSearchRetrieval"],Nb(o)),void 0!==Xf(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==Xf(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=Xf(e,["urlContext"])&&Kf(t,["urlContext"],{});const i=Xf(e,["computerUse"]);null!=i&&Kf(t,["computerUse"],function(e){const t={},n=Xf(e,["environment"]);return null!=n&&Kf(t,["environment"],n),t}(i));const a=Xf(e,["codeExecution"]);return null!=a&&Kf(t,["codeExecution"],a),t}function jb(e){const t={},n=Xf(e,["automaticActivityDetection"]);null!=n&&Kf(t,["automaticActivityDetection"],function(e){const t={},n=Xf(e,["disabled"]);null!=n&&Kf(t,["disabled"],n);const r=Xf(e,["startOfSpeechSensitivity"]);null!=r&&Kf(t,["startOfSpeechSensitivity"],r);const o=Xf(e,["endOfSpeechSensitivity"]);null!=o&&Kf(t,["endOfSpeechSensitivity"],o);const i=Xf(e,["prefixPaddingMs"]);null!=i&&Kf(t,["prefixPaddingMs"],i);const a=Xf(e,["silenceDurationMs"]);return null!=a&&Kf(t,["silenceDurationMs"],a),t}(n));const r=Xf(e,["activityHandling"]);null!=r&&Kf(t,["activityHandling"],r);const o=Xf(e,["turnCoverage"]);return null!=o&&Kf(t,["turnCoverage"],o),t}function Ob(e){const t={},n=Xf(e,["triggerTokens"]);null!=n&&Kf(t,["triggerTokens"],n);const r=Xf(e,["slidingWindow"]);return null!=r&&Kf(t,["slidingWindow"],function(e){const t={},n=Xf(e,["targetTokens"]);return null!=n&&Kf(t,["targetTokens"],n),t}(r)),t}function Ib(e,t){const n=Xf(e,["generationConfig"]);void 0!==t&&null!=n&&Kf(t,["setup","generationConfig"],n);const r=Xf(e,["responseModalities"]);void 0!==t&&null!=r&&Kf(t,["setup","generationConfig","responseModalities"],r);const o=Xf(e,["temperature"]);void 0!==t&&null!=o&&Kf(t,["setup","generationConfig","temperature"],o);const i=Xf(e,["topP"]);void 0!==t&&null!=i&&Kf(t,["setup","generationConfig","topP"],i);const a=Xf(e,["topK"]);void 0!==t&&null!=a&&Kf(t,["setup","generationConfig","topK"],a);const s=Xf(e,["maxOutputTokens"]);void 0!==t&&null!=s&&Kf(t,["setup","generationConfig","maxOutputTokens"],s);const l=Xf(e,["mediaResolution"]);void 0!==t&&null!=l&&Kf(t,["setup","generationConfig","mediaResolution"],l);const c=Xf(e,["seed"]);void 0!==t&&null!=c&&Kf(t,["setup","generationConfig","seed"],c);const u=Xf(e,["speechConfig"]);void 0!==t&&null!=u&&Kf(t,["setup","generationConfig","speechConfig"],function(e){const t={},n=Xf(e,["voiceConfig"]);null!=n&&Kf(t,["voiceConfig"],Sb(n));const r=Xf(e,["multiSpeakerVoiceConfig"]);null!=r&&Kf(t,["multiSpeakerVoiceConfig"],Eb(r));const o=Xf(e,["languageCode"]);return null!=o&&Kf(t,["languageCode"],o),t}(Ig(u)));const d=Xf(e,["enableAffectiveDialog"]);void 0!==t&&null!=d&&Kf(t,["setup","generationConfig","enableAffectiveDialog"],d);const p=Xf(e,["systemInstruction"]);void 0!==t&&null!=p&&Kf(t,["setup","systemInstruction"],function(e){const t={},n=Xf(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>Cb(e)))),Kf(t,["parts"],e)}const r=Xf(e,["role"]);return null!=r&&Kf(t,["role"],r),t}(Cg(p)));const h=Xf(e,["tools"]);if(void 0!==t&&null!=h){let e=Pg(h);Array.isArray(e)&&(e=e.map((e=>Ab(_g(e))))),Kf(t,["setup","tools"],e)}const f=Xf(e,["sessionResumption"]);void 0!==t&&null!=f&&Kf(t,["setup","sessionResumption"],function(e){const t={},n=Xf(e,["handle"]);if(null!=n&&Kf(t,["handle"],n),void 0!==Xf(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(f));const m=Xf(e,["inputAudioTranscription"]);void 0!==t&&null!=m&&Kf(t,["setup","inputAudioTranscription"],{});const g=Xf(e,["outputAudioTranscription"]);void 0!==t&&null!=g&&Kf(t,["setup","outputAudioTranscription"],{});const y=Xf(e,["realtimeInputConfig"]);void 0!==t&&null!=y&&Kf(t,["setup","realtimeInputConfig"],jb(y));const v=Xf(e,["contextWindowCompression"]);void 0!==t&&null!=v&&Kf(t,["setup","contextWindowCompression"],Ob(v));const x=Xf(e,["proactivity"]);return void 0!==t&&null!=x&&Kf(t,["setup","proactivity"],function(e){const t={},n=Xf(e,["proactiveAudio"]);return null!=n&&Kf(t,["proactiveAudio"],n),t}(x)),{}}function _b(e,t,n){const r=Xf(t,["expireTime"]);void 0!==n&&null!=r&&Kf(n,["expireTime"],r);const o=Xf(t,["newSessionExpireTime"]);void 0!==n&&null!=o&&Kf(n,["newSessionExpireTime"],o);const i=Xf(t,["uses"]);void 0!==n&&null!=i&&Kf(n,["uses"],i);const a=Xf(t,["liveConnectConstraints"]);void 0!==n&&null!=a&&Kf(n,["bidiGenerateContentSetup"],function(e,t){const n={},r=Xf(t,["model"]);null!=r&&Kf(n,["setup","model"],fg(e,r));const o=Xf(t,["config"]);return null!=o&&Kf(n,["config"],Ib(o,n)),n}(e,a));const s=Xf(t,["lockAdditionalFields"]);return void 0!==n&&null!=s&&Kf(n,["fieldMask"],s),{}}function Pb(e,t){let n=null;const r=e.bidiGenerateContentSetup;if("object"===typeof r&&null!==r&&"setup"in r){const t=r.setup;"object"===typeof t&&null!==t?(e.bidiGenerateContentSetup=t,n=t):delete e.bidiGenerateContentSetup}else void 0!==r&&delete e.bidiGenerateContentSetup;const o=e.fieldMask;if(n){const r=function(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if("object"===typeof r&&null!=r&&Object.keys(r).length>0){const e=Object.keys(r).map((e=>"".concat(n,".").concat(e)));t.push(...e)}else t.push(n)}return t.join(",")}(n);if(Array.isArray(null===t||void 0===t?void 0:t.lockAdditionalFields)&&0===(null===t||void 0===t?void 0:t.lockAdditionalFields.length))r?e.fieldMask=r:delete e.fieldMask;else if((null===t||void 0===t?void 0:t.lockAdditionalFields)&&t.lockAdditionalFields.length>0&&null!==o&&Array.isArray(o)&&o.length>0){const t=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let n=[];o.length>0&&(n=o.map((e=>t.includes(e)?"generationConfig.".concat(e):e)));const i=[];r&&i.push(r),n.length>0&&i.push(...n),i.length>0?e.fieldMask=i.join(","):delete e.fieldMask}else delete e.fieldMask}else null!==o&&Array.isArray(o)&&o.length>0?e.fieldMask=o.join(","):delete e.fieldMask;return e}class Mb extends Yf{constructor(e){super(),this.apiClient=e}async create(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=function(e,t){const n={},r=Xf(t,["config"]);return null!=r&&Kf(n,["config"],_b(e,r,n)),n}(this.apiClient,e);o=Jf("auth_tokens",a._url),i=a._query,delete a.config,delete a._url,delete a._query;const s=Pb(a,e.config);return r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),r.then((e=>function(e){const t={},n=Xf(e,["name"]);return null!=n&&Kf(t,["name"],n),t}(e)))}}}function Rb(e){const t={},n=Xf(e,["config"]);return null!=n&&Kf(t,["config"],function(e,t){const n=Xf(e,["pageSize"]);void 0!==t&&null!=n&&Kf(t,["_query","pageSize"],n);const r=Xf(e,["pageToken"]);void 0!==t&&null!=r&&Kf(t,["_query","pageToken"],r);const o=Xf(e,["filter"]);return void 0!==t&&null!=o&&Kf(t,["_query","filter"],o),{}}(n,t)),t}function Db(e){const t={};if(void 0!==Xf(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==Xf(e,["vertexDatasetResource"]))throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=Xf(e,["examples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map((e=>function(e){const t={},n=Xf(e,["textInput"]);null!=n&&Kf(t,["textInput"],n);const r=Xf(e,["output"]);return null!=r&&Kf(t,["output"],r),t}(e)))),Kf(t,["examples","examples"],e)}return t}function Lb(e){const t={},n=Xf(e,["baseModel"]);null!=n&&Kf(t,["baseModel"],n);const r=Xf(e,["preTunedModel"]);null!=r&&Kf(t,["preTunedModel"],r);const o=Xf(e,["trainingDataset"]);null!=o&&Kf(t,["tuningTask","trainingData"],Db(o));const i=Xf(e,["config"]);return null!=i&&Kf(t,["config"],function(e,t){const n={};if(void 0!==Xf(e,["validationDataset"]))throw new Error("validationDataset parameter is not supported in Gemini API.");const r=Xf(e,["tunedModelDisplayName"]);if(void 0!==t&&null!=r&&Kf(t,["displayName"],r),void 0!==Xf(e,["description"]))throw new Error("description parameter is not supported in Gemini API.");const o=Xf(e,["epochCount"]);void 0!==t&&null!=o&&Kf(t,["tuningTask","hyperparameters","epochCount"],o);const i=Xf(e,["learningRateMultiplier"]);if(null!=i&&Kf(n,["tuningTask","hyperparameters","learningRateMultiplier"],i),void 0!==Xf(e,["exportLastCheckpointOnly"]))throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(void 0!==Xf(e,["preTunedModelCheckpointId"]))throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(void 0!==Xf(e,["adapterSize"]))throw new Error("adapterSize parameter is not supported in Gemini API.");const a=Xf(e,["batchSize"]);void 0!==t&&null!=a&&Kf(t,["tuningTask","hyperparameters","batchSize"],a);const s=Xf(e,["learningRate"]);return void 0!==t&&null!=s&&Kf(t,["tuningTask","hyperparameters","learningRate"],s),n}(i,t)),t}function Fb(e){const t={},n=Xf(e,["config"]);return null!=n&&Kf(t,["config"],function(e,t){const n=Xf(e,["pageSize"]);void 0!==t&&null!=n&&Kf(t,["_query","pageSize"],n);const r=Xf(e,["pageToken"]);void 0!==t&&null!=r&&Kf(t,["_query","pageToken"],r);const o=Xf(e,["filter"]);return void 0!==t&&null!=o&&Kf(t,["_query","filter"],o),{}}(n,t)),t}function Ub(e,t){const n={},r=Xf(e,["validationDataset"]);void 0!==t&&null!=r&&Kf(t,["supervisedTuningSpec"],function(e,t){const n={},r=Xf(e,["gcsUri"]);null!=r&&Kf(n,["validationDatasetUri"],r);const o=Xf(e,["vertexDatasetResource"]);return void 0!==t&&null!=o&&Kf(t,["supervisedTuningSpec","trainingDatasetUri"],o),n}(r,n));const o=Xf(e,["tunedModelDisplayName"]);void 0!==t&&null!=o&&Kf(t,["tunedModelDisplayName"],o);const i=Xf(e,["description"]);void 0!==t&&null!=i&&Kf(t,["description"],i);const a=Xf(e,["epochCount"]);void 0!==t&&null!=a&&Kf(t,["supervisedTuningSpec","hyperParameters","epochCount"],a);const s=Xf(e,["learningRateMultiplier"]);void 0!==t&&null!=s&&Kf(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],s);const l=Xf(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=l&&Kf(t,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const c=Xf(e,["preTunedModelCheckpointId"]);null!=c&&Kf(n,["preTunedModel","checkpointId"],c);const u=Xf(e,["adapterSize"]);if(void 0!==t&&null!=u&&Kf(t,["supervisedTuningSpec","hyperParameters","adapterSize"],u),void 0!==Xf(e,["batchSize"]))throw new Error("batchSize parameter is not supported in Vertex AI.");if(void 0!==Xf(e,["learningRate"]))throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function Vb(e){const t={},n=Xf(e,["baseModel"]);null!=n&&Kf(t,["baseModel"],n);const r=Xf(e,["preTunedModel"]);null!=r&&Kf(t,["preTunedModel"],r);const o=Xf(e,["trainingDataset"]);null!=o&&Kf(t,["supervisedTuningSpec","trainingDatasetUri"],function(e,t){const n=Xf(e,["gcsUri"]);void 0!==t&&null!=n&&Kf(t,["supervisedTuningSpec","trainingDatasetUri"],n);const r=Xf(e,["vertexDatasetResource"]);if(void 0!==t&&null!=r&&Kf(t,["supervisedTuningSpec","trainingDatasetUri"],r),void 0!==Xf(e,["examples"]))throw new Error("examples parameter is not supported in Vertex AI.");return{}}(o,t));const i=Xf(e,["config"]);return null!=i&&Kf(t,["config"],Ub(i,t)),t}function Bb(e){const t={},n=Xf(e,["sdkHttpResponse"]);null!=n&&Kf(t,["sdkHttpResponse"],n);const r=Xf(e,["name"]);null!=r&&Kf(t,["name"],r);const o=Xf(e,["state"]);null!=o&&Kf(t,["state"],Rg(o));const i=Xf(e,["createTime"]);null!=i&&Kf(t,["createTime"],i);const a=Xf(e,["tuningTask","startTime"]);null!=a&&Kf(t,["startTime"],a);const s=Xf(e,["tuningTask","completeTime"]);null!=s&&Kf(t,["endTime"],s);const l=Xf(e,["updateTime"]);null!=l&&Kf(t,["updateTime"],l);const c=Xf(e,["description"]);null!=c&&Kf(t,["description"],c);const u=Xf(e,["baseModel"]);null!=u&&Kf(t,["baseModel"],u);const d=Xf(e,["_self"]);null!=d&&Kf(t,["tunedModel"],function(e){const t={},n=Xf(e,["name"]);null!=n&&Kf(t,["model"],n);const r=Xf(e,["name"]);return null!=r&&Kf(t,["endpoint"],r),t}(d));const p=Xf(e,["customBaseModel"]);null!=p&&Kf(t,["customBaseModel"],p);const h=Xf(e,["experiment"]);null!=h&&Kf(t,["experiment"],h);const f=Xf(e,["labels"]);null!=f&&Kf(t,["labels"],f);const m=Xf(e,["outputUri"]);null!=m&&Kf(t,["outputUri"],m);const g=Xf(e,["pipelineJob"]);null!=g&&Kf(t,["pipelineJob"],g);const y=Xf(e,["serviceAccount"]);null!=y&&Kf(t,["serviceAccount"],y);const v=Xf(e,["tunedModelDisplayName"]);return null!=v&&Kf(t,["tunedModelDisplayName"],v),t}function Hb(e){const t={},n=Xf(e,["model"]);null!=n&&Kf(t,["model"],n);const r=Xf(e,["endpoint"]);null!=r&&Kf(t,["endpoint"],r);const o=Xf(e,["checkpoints"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map((e=>function(e){const t={},n=Xf(e,["checkpointId"]);null!=n&&Kf(t,["checkpointId"],n);const r=Xf(e,["epoch"]);null!=r&&Kf(t,["epoch"],r);const o=Xf(e,["step"]);null!=o&&Kf(t,["step"],o);const i=Xf(e,["endpoint"]);return null!=i&&Kf(t,["endpoint"],i),t}(e)))),Kf(t,["checkpoints"],e)}return t}function zb(e){const t={},n=Xf(e,["sdkHttpResponse"]);null!=n&&Kf(t,["sdkHttpResponse"],n);const r=Xf(e,["name"]);null!=r&&Kf(t,["name"],r);const o=Xf(e,["state"]);null!=o&&Kf(t,["state"],Rg(o));const i=Xf(e,["createTime"]);null!=i&&Kf(t,["createTime"],i);const a=Xf(e,["startTime"]);null!=a&&Kf(t,["startTime"],a);const s=Xf(e,["endTime"]);null!=s&&Kf(t,["endTime"],s);const l=Xf(e,["updateTime"]);null!=l&&Kf(t,["updateTime"],l);const c=Xf(e,["error"]);null!=c&&Kf(t,["error"],c);const u=Xf(e,["description"]);null!=u&&Kf(t,["description"],u);const d=Xf(e,["baseModel"]);null!=d&&Kf(t,["baseModel"],d);const p=Xf(e,["tunedModel"]);null!=p&&Kf(t,["tunedModel"],Hb(p));const h=Xf(e,["preTunedModel"]);null!=h&&Kf(t,["preTunedModel"],h);const f=Xf(e,["supervisedTuningSpec"]);null!=f&&Kf(t,["supervisedTuningSpec"],f);const m=Xf(e,["tuningDataStats"]);null!=m&&Kf(t,["tuningDataStats"],m);const g=Xf(e,["encryptionSpec"]);null!=g&&Kf(t,["encryptionSpec"],g);const y=Xf(e,["partnerModelTuningSpec"]);null!=y&&Kf(t,["partnerModelTuningSpec"],y);const v=Xf(e,["customBaseModel"]);null!=v&&Kf(t,["customBaseModel"],v);const x=Xf(e,["experiment"]);null!=x&&Kf(t,["experiment"],x);const b=Xf(e,["labels"]);null!=b&&Kf(t,["labels"],b);const w=Xf(e,["outputUri"]);null!=w&&Kf(t,["outputUri"],w);const k=Xf(e,["pipelineJob"]);null!=k&&Kf(t,["pipelineJob"],k);const S=Xf(e,["serviceAccount"]);null!=S&&Kf(t,["serviceAccount"],S);const E=Xf(e,["tunedModelDisplayName"]);return null!=E&&Kf(t,["tunedModelDisplayName"],E),t}class Wb extends Yf{constructor(e){var t;super(),t=this,this.apiClient=e,this.get=async e=>await this.getInternal(e),this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new my(Wm.PAGED_ITEM_TUNING_JOBS,(e=>t.listInternal(e)),await t.listInternal(e),e)},this.tune=async e=>{if(this.apiClient.isVertexAI()){if(e.baseModel.startsWith("projects/")){const t={tunedModelName:e.baseModel},n=Object.assign(Object.assign({},e),{preTunedModel:t});return n.baseModel=void 0,await this.tuneInternal(n)}{const t=Object.assign({},e);return await this.tuneInternal(t)}}{const t=Object.assign({},e),n=await this.tuneMldevInternal(t);let r="";void 0!==n.metadata&&void 0!==n.metadata.tunedModel?r=n.metadata.tunedModel:void 0!==n.name&&n.name.includes("/operations/")&&(r=n.name.split("/operations/")[0]);return{name:r,state:mm.JOB_STATE_QUEUED}}}}async getInternal(e){var t,n,r,o;let i,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=Xf(e,["name"]);null!=n&&Kf(t,["_url","name"],n);const r=Xf(e,["config"]);return null!=r&&Kf(t,["config"],r),t}(e);return a=Jf("{name}",r._url),s=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),i.then((e=>zb(e)))}{const t=function(e){const t={},n=Xf(e,["name"]);null!=n&&Kf(t,["_url","name"],n);const r=Xf(e,["config"]);return null!=r&&Kf(t,["config"],r),t}(e);return a=Jf("{name}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),i.then((e=>Bb(e)))}}async listInternal(e){var t,n,r,o;let i,a="",s={};if(this.apiClient.isVertexAI()){const r=Fb(e);return a=Jf("tuningJobs",r._url),s=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),i.then((e=>{const t=function(e){const t={},n=Xf(e,["sdkHttpResponse"]);null!=n&&Kf(t,["sdkHttpResponse"],n);const r=Xf(e,["nextPageToken"]);null!=r&&Kf(t,["nextPageToken"],r);const o=Xf(e,["tuningJobs"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map((e=>zb(e)))),Kf(t,["tuningJobs"],e)}return t}(e),n=new ig;return Object.assign(n,t),n}))}{const t=Rb(e);return a=Jf("tunedModels",t._url),s=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),i.then((e=>{const t=function(e){const t={},n=Xf(e,["sdkHttpResponse"]);null!=n&&Kf(t,["sdkHttpResponse"],n);const r=Xf(e,["nextPageToken"]);null!=r&&Kf(t,["nextPageToken"],r);const o=Xf(e,["tunedModels"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map((e=>Bb(e)))),Kf(t,["tuningJobs"],e)}return t}(e),n=new ig;return Object.assign(n,t),n}))}}async cancel(e){var t,n,r,o;let i="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=Xf(e,["name"]);null!=n&&Kf(t,["_url","name"],n);const r=Xf(e,["config"]);return null!=r&&Kf(t,["config"],r),t}(e);i=Jf("{name}:cancel",r._url),a=r._query,delete r.config,delete r._url,delete r._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}else{const t=function(e){const t={},n=Xf(e,["name"]);null!=n&&Kf(t,["_url","name"],n);const r=Xf(e,["config"]);return null!=r&&Kf(t,["config"],r),t}(e);i=Jf("{name}:cancel",t._url),a=t._query,delete t.config,delete t._url,delete t._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal})}}async tuneInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const a=Vb(e);return o=Jf("tuningJobs",a._url),i=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),r.then((e=>zb(e)))}throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Lb(e);return o=Jf("tunedModels",a._url),i=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json().then((t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})))),r.then((e=>function(e){const t={},n=Xf(e,["sdkHttpResponse"]);null!=n&&Kf(t,["sdkHttpResponse"],n);const r=Xf(e,["name"]);null!=r&&Kf(t,["name"],r);const o=Xf(e,["metadata"]);null!=o&&Kf(t,["metadata"],o);const i=Xf(e,["done"]);null!=i&&Kf(t,["done"],i);const a=Xf(e,["error"]);return null!=a&&Kf(t,["error"],a),t}(e)))}}}class qb{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Gb="x-goog-upload-status";function Yb(e){return new Promise((t=>setTimeout(t,e)))}class Jb{async upload(e,t,n){if("string"===typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var r,o,i;let a=0,s=0,l=new qm(new Response),c="upload";for(a=e.size;s<a;){const i=Math.min(8388608,a-s),u=e.slice(s,s+i);s+i>=a&&(c+=", finalize");let d=0,p=1e3;for(;d<3&&(l=await n.request({path:"",body:u,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(i)}}}),!(null===(r=null===l||void 0===l?void 0:l.headers)||void 0===r?void 0:r[Gb]));)d++,await Yb(p),p*=2;if(s+=i,"active"!==(null===(o=null===l||void 0===l?void 0:l.headers)||void 0===o?void 0:o[Gb]))break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const u=await(null===l||void 0===l?void 0:l.json());if("final"!==(null===(i=null===l||void 0===l?void 0:l.headers)||void 0===i?void 0:i[Gb]))throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}(e,t,n)}async stat(e){if("string"===typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e){return{size:e.size,type:e.type}}(e)}}class Kb{create(e,t,n){return new Xb(e,t,n)}}class Xb{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.close()}}const $b="x-goog-api-key";class Qb{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(null===e.get($b)){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append($b,this.apiKey)}}}const Zb="AIzaSyBgRStk_AblzYAnyp7GeQhI9HkUtmQEqxY";const ew=new class{constructor(e){var t;if(null==e.apiKey)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=null!==(t=e.vertexai)&&void 0!==t&&t,this.apiKey=e.apiKey;const n=Gf(e.httpOptions,e.vertexai,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion;const r=new Qb(this.apiKey);this.apiClient=new ab({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:"gl-node/web",uploader:new Jb,downloader:new qb}),this.models=new wb(this.apiClient),this.live=new mb(this.apiClient,r,new Kb),this.batches=new gy(this.apiClient),this.chats=new Jy(this.models,this.apiClient),this.caches=new Vy(this.apiClient),this.files=new ev(this.apiClient),this.operations=new kb(this.apiClient),this.authTokens=new Mb(this.apiClient),this.tunings=new Wb(this.apiClient)}}({apiKey:Zb}),tw=[...Object.values(of),"NOVEL_NODE","TODO_LIST","TODO_VIEW","DOCUMENT_NODE","DELEGATION_NODE"],nw={type:em.OBJECT,properties:{nodes:{type:em.ARRAY,items:{type:em.OBJECT,properties:{type:{type:em.STRING,enum:[...tw,"NOVEL_NODE","TODO_LIST","TODO_VIEW","DOCUMENT_NODE","DELEGATION_NODE","COMMENT"],description:"The type of the workflow node."},label:{type:em.STRING,description:"A concise, user-friendly label for what this node does."},assignedTo:{type:em.STRING,description:'Role or person responsible for this task (e.g., "Founder", "Legal Team", "Marketing Manager").'},priority:{type:em.STRING,enum:["CRITICAL","HIGH","MEDIUM","LOW"],description:"Priority level of this task."},estimatedDuration:{type:em.STRING,description:'Estimated time to complete (e.g., "2 weeks", "3 days", "1 month").'},dependencies:{type:em.ARRAY,items:{type:em.STRING},description:"Labels of nodes that must be completed before this one."},requiredDocuments:{type:em.ARRAY,items:{type:em.STRING},description:"List of documents needed for this step."},todoItems:{type:em.ARRAY,items:{type:em.OBJECT,properties:{task:{type:em.STRING},assignedTo:{type:em.STRING},deadline:{type:em.STRING},completed:{type:em.BOOLEAN,default:!1}}},description:"Subtasks for TODO_LIST nodes."},successCriteria:{type:em.STRING,description:"How to measure completion of this step."},phase:{type:em.STRING,enum:["PLANNING","FOUNDATION","DEVELOPMENT","LAUNCH","GROWTH","SCALING"],description:"Business development phase."},text:{type:em.STRING,description:"Text content for COMMENT nodes."},items:{type:em.ARRAY,items:{type:em.OBJECT,properties:{text:{type:em.STRING},completed:{type:em.BOOLEAN,default:!1},assignedTo:{type:em.STRING},deadline:{type:em.STRING}}},description:"Todo items for TODO_LIST nodes."}},required:["type","label"]}},projectMetadata:{type:em.OBJECT,properties:{totalEstimatedTime:{type:em.STRING},criticalPath:{type:em.ARRAY,items:{type:em.STRING}},keyMilestones:{type:em.ARRAY,items:{type:em.OBJECT,properties:{name:{type:em.STRING},targetDate:{type:em.STRING},deliverables:{type:em.ARRAY,items:{type:em.STRING}}}}},teamRoles:{type:em.ARRAY,items:{type:em.OBJECT,properties:{role:{type:em.STRING},responsibilities:{type:em.ARRAY,items:{type:em.STRING}},requiredSkills:{type:em.ARRAY,items:{type:em.STRING}}}}},documentChecklist:{type:em.ARRAY,items:{type:em.OBJECT,properties:{category:{type:em.STRING},documents:{type:em.ARRAY,items:{type:em.STRING}}}}}}}},required:["nodes","projectMetadata"]},rw={type:em.OBJECT,properties:{type:{type:em.STRING,enum:tw,description:"The single most appropriate node type for the user request."},label:{type:em.STRING,description:"A concise, user-friendly label for what this node does."},assignedTo:{type:em.STRING,description:"Role or person responsible for this task."},priority:{type:em.STRING,enum:["CRITICAL","HIGH","MEDIUM","LOW"],description:"Priority level of this task."},estimatedDuration:{type:em.STRING,description:"Estimated time to complete."},requiredDocuments:{type:em.ARRAY,items:{type:em.STRING},description:"List of documents needed for this step."}},required:["type","label","assignedTo","priority"]};function ow(){var e;return e=function*(e,t){const n={role:"system",content:{expertise:"business strategist, project manager, process automation specialist",task:"Create a COMPREHENSIVE, DETAILED, ERROR-FREE business execution plan",structure_requirements:["Create 10-15 granular, actionable nodes organized into clear phases (PLANNING, FOUNDATION, DEVELOPMENT, LAUNCH, GROWTH, SCALING)","Each node must be atomic - one clear action, not multiple combined tasks","Establish clear dependencies showing which tasks must be completed before others","Include realistic timelines and resource estimates","Add COMMENT nodes to explain complex workflow sections and provide context","Include TODO_LIST nodes with specific actionable items for parallel tasks that are directly related to the business plan","Organize nodes in a logical flow with clear progression from one phase to the next"],delegation_system:{role_assignment:"Assign each task to a specific role (e.g., 'Founder', 'Legal Counsel', 'Marketing Manager', 'Financial Advisor', 'HR Manager', 'Tech Lead', 'Sales Director')",priority_levels:["CRITICAL","HIGH","MEDIUM","LOW"],duration_estimation:"Include estimated duration for each task (be realistic: days, weeks, or months)",complex_node_handling:"For complex nodes, break down into subtasks with individual assignments"},document_requirements:{categories:{legal:["Business licenses","permits","EIN","operating agreements","contracts","NDAs"],financial:["Business plan","financial projections","budget","invoices","tax forms"],hr:["Job descriptions","employment contracts","onboarding materials","policies"],marketing:["Brand guidelines","content calendar","marketing plan","campaign materials"],operational:["SOPs","vendor agreements","inventory lists","quality checklists"],compliance:["Insurance policies","health permits","safety certifications"]}},todo_breakdown:{requirements:["Clear, actionable task description","Assigned role/person","Realistic deadline","Success criteria","Mark completed tasks with completed: true"],examples:["Research 3 potential suppliers for raw materials by next Friday","Schedule meeting with legal counsel to review partnership agreement","Create social media accounts on Facebook, Instagram, and LinkedIn","Set up project management tool and invite team members","Prepare presentation deck for investor meeting"]},available_node_types:tw,node_type_descriptions:{MARKET_RESEARCH:"Industry analysis, competitor research, customer surveys",REGISTER_BUSINESS:"Legal entity formation, registration, business structure",COMPLIANCE_CHECK:"Permits, licenses, regulatory requirements, insurance",HIRE_EMPLOYEE:"Recruitment, onboarding, team building",CREATE_WEBSITE:"Online presence, e-commerce, digital infrastructure",SOCIAL_POST:"Marketing campaigns, social media, content creation",MANAGE_INVOICES:"Financial operations, accounting, payment systems",EXPAND_BUSINESS:"Growth initiatives, scaling, new markets",TODO_LIST:"Groups of parallel tasks that can be done simultaneously with specific todo items that are directly related to the current workflow",DOCUMENT_NODE:"Document preparation, review, and organization",DELEGATION_NODE:"Task assignment and team coordination",NOVEL_NODE:"Innovative or unique elements specific to the business",COMMENT:"Explanatory notes that describe workflow sections, provide context, or explain complex decisions"},project_metadata:{total_estimated_timeline:"Calculate total estimated timeline",critical_path:"Identify critical path (sequence of tasks that determines minimum project duration)",key_milestones:"Define key milestones with target dates and deliverables",team_roles:"List all team roles with responsibilities and required skills",document_checklist:"Create comprehensive document checklist organized by category"},quality_standards:{label_format:"Each label must be a specific action statement (e.g., 'File Articles of Incorporation with State' not 'Legal Setup')",success_criteria:"Success criteria must be measurable (e.g., '50 customer interviews completed' not 'understand market')",dependencies:"Dependencies must be logical and explicit",timeline:"Timeline must account for approval processes, waiting periods, and realistic work capacity",comment_nodes:"Use COMMENT nodes to explain workflow sections, complex decisions, and provide context for better understanding",todo_lists:"Include TODO_LIST nodes with specific actionable items that can be tracked in the TODO panel and are directly related to the business plan"},error_free_workflow_requirements:{triggers_and_connections:"Ensure all nodes have proper triggers and connections",dependency_validation:"Validate that all dependencies are correctly specified",required_fields:"Confirm that all required fields are filled in",node_types:"Check that all node types are valid and appropriate for the task",workflow_completeness:"Verify that the workflow is complete and executable from start to finish",circular_dependencies:"Ensure there are no circular dependencies",team_roles:"Make sure all team roles are clearly defined",document_requirements:"Confirm that all document requirements are realistic and necessary",comment_usage:"Include COMMENT nodes to explain workflow logic and provide context",todo_inclusion:"Include relevant TODO_LIST nodes with actionable items for parallel tasks that are directly related to the current workflow"}}},r="\n".concat(JSON.stringify(n,null,2),'\n\nUser Request: "').concat(e,'"\n\nCreate a complete, executable, ERROR-FREE business plan that someone could follow step-by-step to build this business from concept to operation.\n\nVERY IMPORTANT: Respond with a JSON object containing an array of nodes. Each node should be a separate JSON object in the array. I need you to format your response as a valid JSON array of node objects.\n\nFor TODO_LIST nodes, make sure to include specific, actionable todo items that are directly related to the business plan. For example, if the business is about opening a restaurant, include todo items like "Research local health department regulations", "Create menu with pricing", "Hire kitchen staff", etc.\n\nFor COMMENT nodes, provide helpful explanations about workflow sections or complex decisions.\n');try{console.log("Calling AI model with prompt:",e.substring(0,100)+"...");const n=yield Hf(ew.models.generateContent({model:"gemini-2.5-flash",contents:r,config:{responseMimeType:"application/json",responseSchema:nw}}));console.log("Received response from AI model");const o=n.text.trim();console.log("Response text:",o.substring(0,200)+"...");const i=JSON.parse(o);if(!i.nodes||!Array.isArray(i.nodes))throw new Error("AI response does not contain a valid nodes array.");for(const e of i.nodes)if(e&&"object"===typeof e&&"type"in e&&"label"in e&&(tw.includes(e.type)||"COMMENT"===e.type)){const n={type:e.type,label:e.label,phase:e.phase||"PLANNING"};"COMMENT"===e.type?n.text=e.text||e.label:"TODO_LIST"===e.type?e.items&&Array.isArray(e.items)?n.items=e.items.map((e=>({text:e.text||"",completed:e.completed||!1,assignedTo:e.assignedTo||"",deadline:e.deadline||""}))):e.todoItems&&Array.isArray(e.todoItems)?n.items=e.todoItems.map((e=>({text:e.task||e.text||"",completed:e.completed||!1,assignedTo:e.assignedTo||"",deadline:e.deadline||""}))):n.items=[]:e.assignedTo&&(n.assignedTo=e.assignedTo,n.priority=e.priority||"MEDIUM",n.estimatedDuration=e.estimatedDuration||"",n.requiredDocuments=e.requiredDocuments||[],n.todoItems=e.todoItems||[],n.successCriteria=e.successCriteria||""),yield n,t&&t(n),yield Hf(new Promise((e=>setTimeout(e,100))))}return{metadata:i.projectMetadata||{}}}catch(o){throw console.error("Error generating workflow from prompt:",o),o.message.includes("API key")?new Error("Invalid API key. Please check your Gemini API configuration."):o.message.includes("quota")?new Error("API quota exceeded. Please try again later or check your Gemini API plan."):o.message.includes("parse")?new Error("Failed to parse AI response. The response format was unexpected."):new Error("Failed to communicate with the AI model: ".concat(o.message))}},ow=function(){return new zf(e.apply(this,arguments))},ow.apply(this,arguments)}const iw=e=>new Promise((t=>setTimeout(t,e)));function aw(e,t){return e.replace(/\{\{([^}]+)\}\}/g,((e,n)=>{const r=n.trim().split(".");let o=t;for(const t of r){if(!o||"object"!==typeof o||!(t in o))return"{{".concat(n,"}}");o=o[t]}return"object"===typeof o?JSON.stringify(o):o}))}async function sw(e,t,n){const r=e.data.delegation;if(!r||r.delegationType===uf)return null;if(r.delegationType===df){const t=r.delegateToHuman.contactName||"Unknown Contact";n(e.id,"Delegating to human: ".concat(t,". Waiting for response..."),"info");const i={id:r.delegateToHuman.contactId,name:t,email:r.delegateToHuman.contactEmail||"",role:r.delegateToHuman.contactRole||""};try{await Qh.sendDelegationNotification(e,i,r.delegateToHuman.instructions),n(e.id,"Notification sent to ".concat(t,"."),"info")}catch(o){n(e.id,"Failed to send notification to ".concat(t,": ").concat(o.message),"error")}const a=r.delegateToHuman.expectedResponseTime||5;n(e.id,"Waiting for ".concat(a," hours for response..."),"info"),await iw(Math.min(1e3*a,1e4)),n(e.id,"Received response from ".concat(t,". Continuing execution."),"info");try{await Qh.sendCompletionNotification(e,i,'Task "'.concat(e.label,'" has been completed by ').concat(t,"."))}catch(o){n(e.id,"Failed to send completion notification: ".concat(o.message),"error")}return{status:"completed",delegatedTo:t}}if(r.delegationType===pf){const t=r.delegateToAgent.agentName||"Unknown Agent";return n(e.id,"Delegating to agent: ".concat(t,". Processing..."),"info"),await iw(3e3),n(e.id,"Processing completed by ".concat(t,"."),"info"),{status:"completed",delegatedTo:t}}return null}const lw="7918152804:AAEfqKOSPdTW26F1OpWBhn3onVP3pk-6Jgs",cw="-4856358827";function uw(e){return e?e.replace(/[_*[\]()~`>#+-=|{}.!]/g,(e=>"\\".concat(e))):"N/A"}async function dw(e,t,n,r,o){const i=(new Date).toLocaleString("en-IN",{timeZone:"Asia/Kolkata"}),a=n.reduce(((e,t)=>(e[t.type]=(e[t.type]||0)+1,e)),{}),s=Object.entries(a).map((e=>{let[t,n]=e;return"".concat(t,": ").concat(n)})).join(", ")||"None",l=["*Workflow AI Signup & Export*","*Name:* ".concat(uw(e)),"*Email:* ".concat(uw(t)),"*Date and Time:* ".concat(uw(i)),"*Workflow Summary:* ".concat(uw(s)),"*Node Count:* ".concat(n.length),"*Edge Count:* ".concat(r.length),"*Group Count:* ".concat(o.length)].join("\n");try{const i=await async function(e,t,n){const r=await fetch("https://api.telegram.org/bot".concat(e,"/sendMessage"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:t,text:n,parse_mode:"MarkdownV2",disable_notification:!0})}),o=await r.json();if(!o.ok)throw new Error(o.description);return o}(lw,cw,l);console.log("Telegram signup message sent:",i);const a=JSON.stringify({nodes:n,edges:r,groups:o},null,2),s=new Blob([a],{type:"application/json"}),c=new FormData;c.append("chat_id",cw),c.append("document",s,"workflow-".concat(Date.now(),".json")),c.append("caption","Workflow export for ".concat(uw(e)," (").concat(uw(t),")"));const u=await fetch("https://api.telegram.org/bot".concat(lw,"/sendDocument"),{method:"POST",body:c}),d=await u.json();return d.ok?console.log("Telegram workflow document sent:",d):console.error("Error sending workflow document:",d.description),!0}catch(c){return console.error("Error sending Telegram message:",c),!1}}const pw=e=>{let{isOpen:t,onClose:n,onExport:o,nodes:i,edges:a,groups:s}=e;const[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[p,h]=(0,r.useState)(!1);return t?(0,Hn.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,Hn.jsx)("div",{className:"bg-dark-surface rounded-xl border border-dark-border w-full max-w-md max-h-[90vh] overflow-y-auto",children:(0,Hn.jsxs)("div",{className:"p-6",children:[(0,Hn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Hn.jsx)("h3",{className:"text-xl font-bold text-dark-text-primary",children:p?"Thank You!":"Join Our Waitlist"}),(0,Hn.jsx)("button",{onClick:n,className:"text-dark-text-secondary hover:text-white",children:(0,Hn.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),p?(0,Hn.jsxs)("div",{className:"text-center py-4",children:[(0,Hn.jsx)("div",{className:"w-16 h-16 bg-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Hn.jsx)("svg",{className:"w-8 h-8 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,Hn.jsx)("p",{className:"text-dark-text-secondary mb-4",children:"Thank you for signing up! Your workflow is being downloaded now."}),(0,Hn.jsx)("button",{onClick:n,className:"px-4 py-2 bg-dark-bg text-white rounded-lg hover:bg-dark-surface transition-colors",children:"Close"})]}):(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)("p",{className:"text-dark-text-secondary mb-6",children:"Sign up for our newsletter to unlock full export capabilities and receive business planning insights."}),(0,Hn.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!l.trim())return void alert("Please enter your name.");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u))return void alert("Please enter a valid email address.");const t={name:l,email:u,timestamp:(new Date).toISOString()};localStorage.setItem("busin.us-signup",JSON.stringify(t)),dw(l,u,i,a,s),h(!0),setTimeout((()=>{n(),h(!1),c(""),d(""),o()}),1500)},className:"space-y-4",children:[(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("label",{className:"block text-dark-text-secondary text-sm font-medium mb-2",children:"Full Name"}),(0,Hn.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),className:"w-full px-4 py-3 bg-dark-bg border border-dark-border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary text-dark-text-primary",placeholder:"Your full name",required:!0})]}),(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("label",{className:"block text-dark-text-secondary text-sm font-medium mb-2",children:"Email Address"}),(0,Hn.jsx)("input",{type:"email",value:u,onChange:e=>d(e.target.value),className:"w-full px-4 py-3 bg-dark-bg border border-dark-border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary text-dark-text-primary",placeholder:"your@email.com",required:!0})]}),(0,Hn.jsx)("button",{type:"submit",className:"w-full px-4 py-3 bg-brand-primary text-white font-semibold rounded-lg hover:bg-brand-primary/90 transition-colors",children:"Join Waitlist & Download"})]}),(0,Hn.jsx)("div",{className:"mt-4 text-xs text-dark-text-secondary",children:"By signing up, you agree to our Privacy Policy and Terms of Service."})]})]})})}):null},hw=e=>{let{contacts:t=[],selectedContactId:n,onSelectContact:o,placeholder:i="Select a contact...",className:a=""}=e;const[s,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(!1),d=(0,r.useMemo)((()=>{if(!s)return t;const e=s.toLowerCase();return t.filter((t=>t.name.toLowerCase().includes(e)||t.email.toLowerCase().includes(e)||t.role.toLowerCase().includes(e)))}),[t,s]),p=t.find((e=>e.id===n));return r.useEffect((()=>{const e=e=>{e.target.closest(".contact-selector")||u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]),(0,Hn.jsxs)("div",{className:"contact-selector relative ".concat(a),children:[(0,Hn.jsxs)("div",{className:"w-full bg-dark-bg border border-dark-border rounded-md p-2 text-sm text-dark-text-primary focus:ring-1 focus:ring-brand-primary focus:outline-none transition cursor-pointer flex items-center justify-between",onClick:()=>{u(!c)},children:[(0,Hn.jsx)("div",{className:"flex items-center",children:p?(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)("div",{className:"w-6 h-6 rounded-full bg-indigo-500 flex items-center justify-center text-white text-xs mr-2",children:p.name.charAt(0).toUpperCase()}),(0,Hn.jsx)("span",{children:p.name}),p.role&&(0,Hn.jsxs)("span",{className:"ml-2 text-xs text-dark-text-secondary",children:["(",p.role,")"]})]}):(0,Hn.jsx)("span",{className:"text-dark-text-secondary",children:i})}),(0,Hn.jsx)("svg",{className:"w-4 h-4 text-dark-text-secondary transition-transform ".concat(c?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),c&&(0,Hn.jsxs)("div",{className:"absolute z-50 mt-1 w-full bg-dark-surface border border-dark-border rounded-md shadow-lg max-h-60 overflow-auto",children:[(0,Hn.jsx)("div",{className:"p-2",children:(0,Hn.jsx)("input",{type:"text",placeholder:"Search contacts...",value:s,onChange:e=>{l(e.target.value),u(!0)},className:"w-full bg-dark-bg border border-dark-border rounded-md p-2 text-sm text-dark-text-primary focus:ring-1 focus:ring-brand-primary focus:outline-none transition",autoFocus:!0})}),(0,Hn.jsx)("div",{className:"py-1",children:d.length>0?d.map((e=>(0,Hn.jsxs)("div",{className:"px-4 py-2 cursor-pointer flex items-center ".concat(n===e.id?"bg-brand-primary/20 text-brand-primary":"hover:bg-dark-bg"),onClick:()=>(e=>{o(e),u(!1),l("")})(e),children:[(0,Hn.jsx)("div",{className:"w-6 h-6 rounded-full bg-indigo-500 flex items-center justify-center text-white text-xs mr-3",children:e.name.charAt(0).toUpperCase()}),(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("div",{className:"font-medium",children:e.name}),e.email&&(0,Hn.jsx)("div",{className:"text-xs text-dark-text-secondary",children:e.email}),e.role&&(0,Hn.jsx)("div",{className:"text-xs text-dark-text-secondary",children:e.role})]})]},e.id))):(0,Hn.jsx)("div",{className:"px-4 py-2 text-dark-text-secondary text-center",children:"No contacts found"})})]})]})},fw=[{id:"1",name:"Shiva",email:"s@busin.us",role:"Project Manager"},{id:"2",name:"Dharma Teja",email:"dharma@busin.us",role:"Legal Counsel"},{id:"3",name:"Arvind Patil",email:"arvindpatil@busin.us",role:"Financial Advisor"},{id:"4",name:"Sarah Chen",email:"sarah@busin.us",role:"Marketing Director"},{id:"5",name:"David Brown",email:"david@busin.us",role:"Tech Lead"},{id:"6",name:"Emma Davis",email:"emma@busin.us",role:"HR Manager"},{id:"7",name:"Mohamed Ali",email:"mohamed@busin.us",role:"Operations Manager"},{id:"8",name:"Olivia Smith",email:"olivia@busin.us",role:"Sales Director"}],mw=e=>{let{node:t,onClose:n,onUpdate:o,isMobile:i,isDelegationOpen:a,setIsDelegationOpen:s}=e;if(i)return a?(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 sm:hidden",onClick:()=>s(!1)}),(0,Hn.jsxs)("aside",{className:"fixed top-0 right-0 h-full bg-dark-surface border-l border-dark-border p-6 z-50 flex flex-col transition-transform duration-300 ease-in-out sm:hidden",style:{width:"90%",maxWidth:"320px"},children:[(0,Hn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Hn.jsx)("h2",{className:"text-lg font-semibold text-dark-text-primary",children:"Delegation Settings"}),(0,Hn.jsx)("button",{onClick:()=>s(!1),className:"p-2 rounded-md text-dark-text-secondary hover:bg-dark-bg",children:(0,Hn.jsx)(Uh,{className:"w-5 h-5"})})]}),l()]})]}):null;function l(){if(!t)return null;const e=t.data.delegation||{delegationType:uf,delegateToHuman:{contactId:"",contactName:"",instructions:"",expectedResponseTime:0},delegateToAgent:{agentId:"",agentName:"",configuration:{}}},[i,a]=(0,r.useState)(e.delegationType),[s,l]=(0,r.useState)(e.delegateToHuman),[c,d]=(0,r.useState)(e.delegateToAgent),[p,h]=(0,r.useState)(t.data.assignedTo||""),[f,m]=(0,r.useState)(t.data.priority||"MEDIUM"),[g,y]=(0,r.useState)(t.data.estimatedDuration||"");return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)("div",{className:"flex items-center gap-3 mb-6",children:(0,Hn.jsxs)("h3",{className:"text-lg font-bold text-dark-text-primary",children:["Delegate: ",t.label]})}),(0,Hn.jsxs)("div",{className:"flex-grow overflow-y-auto space-y-4 -mr-2 pr-2",children:[(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("label",{className:"block text-sm font-medium text-dark-text-secondary mb-2",children:"Assigned To"}),(0,Hn.jsx)("input",{type:"text",value:p,onChange:e=>h(e.target.value),placeholder:"e.g., Founder, Legal Team, Marketing Manager",className:"w-full bg-dark-bg border border-dark-border rounded-md p-2 text-sm text-dark-text-primary focus:ring-1 focus:ring-brand-primary focus:outline-none transition"})]}),(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("label",{className:"block text-sm font-medium text-dark-text-secondary mb-2",children:"Priority"}),(0,Hn.jsxs)("select",{value:f,onChange:e=>m(e.target.value),className:"w-full bg-dark-bg border border-dark-border rounded-md p-2 text-sm text-dark-text-primary focus:ring-1 focus:ring-brand-primary focus:outline-none transition",children:[(0,Hn.jsx)("option",{value:"CRITICAL",children:"Critical"}),(0,Hn.jsx)("option",{value:"HIGH",children:"High"}),(0,Hn.jsx)("option",{value:"MEDIUM",children:"Medium"}),(0,Hn.jsx)("option",{value:"LOW",children:"Low"})]})]}),(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("label",{className:"block text-sm font-medium text-dark-text-secondary mb-2",children:"Estimated Duration"}),(0,Hn.jsx)("input",{type:"text",value:g,onChange:e=>y(e.target.value),placeholder:"e.g., 2 weeks, 3 days, 1 month",className:"w-full bg-dark-bg border border-dark-border rounded-md p-2 text-sm text-dark-text-primary focus:ring-1 focus:ring-brand-primary focus:outline-none transition"})]}),(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("label",{className:"block text-sm font-medium text-dark-text-secondary mb-2",children:"Delegation Type"}),(0,Hn.jsxs)("div",{className:"space-y-2",children:[(0,Hn.jsxs)("label",{className:"flex items-center",children:[(0,Hn.jsx)("input",{type:"radio",name:"delegationType",value:uf,checked:i===uf,onChange:e=>a(e.target.value),className:"mr-2"}),(0,Hn.jsx)("span",{className:"text-dark-text-primary",children:"No Delegation"})]}),(0,Hn.jsxs)("label",{className:"flex items-center",children:[(0,Hn.jsx)("input",{type:"radio",name:"delegationType",value:df,checked:i===df,onChange:e=>a(e.target.value),className:"mr-2"}),(0,Hn.jsx)("span",{className:"text-dark-text-primary",children:"Delegate to Human"})]}),(0,Hn.jsxs)("label",{className:"flex items-center",children:[(0,Hn.jsx)("input",{type:"radio",name:"delegationType",value:pf,checked:i===pf,onChange:e=>a(e.target.value),className:"mr-2"}),(0,Hn.jsx)("span",{className:"text-dark-text-primary",children:"Delegate to Agent"})]})]})]}),i===df&&(0,Hn.jsxs)("div",{className:"space-y-4",children:[(0,Hn.jsx)("h4",{className:"font-medium text-dark-text-primary",children:"Human Delegation"}),(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("label",{className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Contact"}),(0,Hn.jsx)(hw,{contacts:fw,selectedContactId:s.contactId,onSelectContact:e=>{l(u(u({},s),{},{contactId:e.id,contactName:e.name}))},placeholder:"Select a contact"})]}),(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("label",{className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Instructions (Optional)"}),(0,Hn.jsx)("textarea",{value:s.instructions,onChange:e=>l(u(u({},s),{},{instructions:e.target.value})),placeholder:"Task instructions",rows:3,className:"w-full bg-dark-bg border border-dark-border rounded-md p-2 text-sm text-dark-text-primary focus:ring-1 focus:ring-brand-primary focus:outline-none transition"})]}),(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("label",{className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Expected Response Time (hours)"}),(0,Hn.jsx)("input",{type:"number",value:s.expectedResponseTime,onChange:e=>l(u(u({},s),{},{expectedResponseTime:parseInt(e.target.value)||0})),className:"w-full bg-dark-bg border border-dark-border rounded-md p-2 text-sm text-dark-text-primary focus:ring-1 focus:ring-brand-primary focus:outline-none transition"})]})]}),i===pf&&(0,Hn.jsxs)("div",{className:"space-y-4",children:[(0,Hn.jsx)("h4",{className:"font-medium text-dark-text-primary",children:"Agent Delegation"}),(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("label",{className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Agent"}),(0,Hn.jsxs)("select",{value:c.agentName,onChange:e=>d(u(u({},c),{},{agentName:e.target.value})),className:"w-full bg-dark-bg border border-dark-border rounded-md p-2 text-sm text-dark-text-primary focus:ring-1 focus:ring-brand-primary focus:outline-none transition",children:[(0,Hn.jsx)("option",{value:"",children:"Select an agent"}),(0,Hn.jsx)("option",{value:"Research Agent",children:"Research Agent"}),(0,Hn.jsx)("option",{value:"Writing Agent",children:"Writing Agent"}),(0,Hn.jsx)("option",{value:"Analysis Agent",children:"Analysis Agent"}),(0,Hn.jsx)("option",{value:"Code Generation Agent",children:"Code Generation Agent"})]})]}),(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("label",{className:"block text-sm font-medium text-dark-text-secondary mb-1",children:"Configuration"}),(0,Hn.jsx)("textarea",{value:JSON.stringify(c.configuration,null,2),onChange:e=>{try{const t=JSON.parse(e.target.value);d(u(u({},c),{},{configuration:t}))}catch(t){}},placeholder:'{"param1": "value1", "param2": "value2"}',rows:4,className:"w-full bg-dark-bg border border-dark-border rounded-md p-2 text-sm text-dark-text-primary focus:ring-1 focus:ring-brand-primary focus:outline-none transition font-mono"})]})]})]}),(0,Hn.jsxs)("div",{className:"flex-shrink-0 pt-4 mt-4 border-t border-dark-border space-x-2",children:[(0,Hn.jsx)("button",{onClick:()=>{const r={delegationType:i,delegateToHuman:i===df?s:e.delegateToHuman,delegateToAgent:i===pf?c:e.delegateToAgent};o(t.id,{data:u(u({},t.data),{},{delegation:r,assignedTo:p,priority:f,estimatedDuration:g})}),n()},className:"px-4 py-2 bg-brand-primary text-white rounded-md hover:bg-brand-primary/90 transition-colors",children:"Save"}),(0,Hn.jsx)("button",{onClick:()=>{a(e.delegationType),l(e.delegateToHuman),d(e.delegateToAgent),h(t.data.assignedTo||""),m(t.data.priority||"MEDIUM"),y(t.data.estimatedDuration||""),n()},className:"px-4 py-2 bg-dark-bg border border-dark-border text-dark-text-primary rounded-md hover:bg-dark-border transition-colors",children:"Cancel"})]})]})}return t?(0,Hn.jsx)("aside",{className:"w-80 bg-dark-surface border-l border-dark-border flex-shrink-0 p-6 z-20 flex flex-col hidden sm:flex",children:l()}):null},gw=e=>{let{isOpen:t,onClose:n,isMobile:o}=e;const[i,a]=(0,r.useState)([]);(0,r.useEffect)((()=>{const e=e=>{a(e)};return Qh.addListener(e),a(Qh.getNotifications()),()=>{Qh.removeListener(e)}}),[]);const s=()=>{Qh.markAllAsRead()},l=i.filter((e=>!e.read)).length;if(!t)return null;if(o)return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 sm:hidden",onClick:n}),(0,Hn.jsxs)("aside",{className:"fixed top-0 right-0 h-full bg-dark-surface border-l border-dark-border p-6 z-50 flex flex-col transition-transform duration-300 ease-in-out sm:hidden",style:{width:"90%",maxWidth:"320px"},children:[(0,Hn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Hn.jsxs)("h2",{className:"text-lg font-semibold text-dark-text-primary",children:["Notifications ",l>0&&(0,Hn.jsx)("span",{className:"bg-red-500 text-white text-xs rounded-full px-2 py-1 ml-2",children:l})]}),(0,Hn.jsx)("button",{onClick:n,className:"p-2 rounded-md text-dark-text-secondary hover:bg-dark-bg",children:(0,Hn.jsx)(Uh,{className:"w-5 h-5"})})]}),c()]})]});function c(){return 0===i.length?(0,Hn.jsx)("div",{className:"flex items-center justify-center text-center h-full",children:(0,Hn.jsx)("p",{className:"text-dark-text-secondary",children:"No notifications"})}):(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Hn.jsxs)("h3",{className:"font-medium text-dark-text-primary",children:[l," unread ",1===l?"notification":"notifications"]}),l>0&&(0,Hn.jsx)("button",{onClick:s,className:"text-sm text-brand-primary hover:underline",children:"Mark all as read"})]}),(0,Hn.jsx)("div",{className:"flex-grow overflow-y-auto space-y-3 -mr-2 pr-2",children:[...i].reverse().map((e=>(0,Hn.jsxs)("div",{className:"p-3 rounded-md border ".concat(e.read?"bg-dark-bg border-dark-border":"bg-brand-primary/10 border-brand-primary/30"),children:[(0,Hn.jsxs)("div",{className:"flex justify-between",children:[(0,Hn.jsx)("h4",{className:"font-medium text-dark-text-primary",children:e.title}),!e.read&&(0,Hn.jsx)("span",{className:"w-2 h-2 bg-brand-primary rounded-full"})]}),(0,Hn.jsx)("p",{className:"text-sm text-dark-text-secondary mt-1",children:e.message}),(0,Hn.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,Hn.jsx)("span",{className:"text-xs text-dark-text-secondary",children:new Date(e.timestamp).toLocaleString()}),(0,Hn.jsxs)("div",{className:"flex space-x-2",children:[!e.read&&(0,Hn.jsx)("button",{onClick:()=>{return t=e.id,void Qh.markAsRead(t);var t},className:"text-xs text-brand-primary hover:underline",children:"Mark as read"}),(0,Hn.jsx)("button",{onClick:()=>{return t=e.id,void Qh.removeNotification(t);var t},className:"text-xs text-red-500 hover:underline",children:"Dismiss"})]})]})]},e.id)))})]})}return(0,Hn.jsxs)("aside",{className:"w-80 bg-dark-surface border-l border-dark-border flex-shrink-0 p-6 z-20 flex flex-col hidden sm:flex",children:[(0,Hn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Hn.jsxs)("h2",{className:"text-lg font-semibold text-dark-text-primary",children:["Notifications ",l>0&&(0,Hn.jsx)("span",{className:"bg-red-500 text-white text-xs rounded-full px-2 py-1 ml-2",children:l})]}),(0,Hn.jsx)("button",{onClick:n,className:"p-2 rounded-md text-dark-text-secondary hover:bg-dark-bg",children:(0,Hn.jsx)(Uh,{className:"w-5 h-5"})})]}),c()]})},yw=e=>{let{isOpen:t,onClose:n,title:r,message:o,details:i}=e;return t?(0,Hn.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,Hn.jsxs)("div",{className:"bg-dark-surface border border-dark-border rounded-lg w-full max-w-md max-h-[90vh] overflow-hidden flex flex-col",children:[(0,Hn.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-dark-border",children:[(0,Hn.jsx)("h3",{className:"text-lg font-semibold text-dark-text-primary",children:r}),(0,Hn.jsx)("button",{onClick:n,className:"p-1 rounded-md text-dark-text-secondary hover:bg-dark-bg",children:(0,Hn.jsx)(Uh,{className:"w-5 h-5"})})]}),(0,Hn.jsxs)("div",{className:"p-4 overflow-y-auto flex-grow",children:[(0,Hn.jsx)("p",{className:"text-dark-text-primary mb-4",children:o}),i&&(0,Hn.jsxs)("div",{className:"mt-4",children:[(0,Hn.jsx)("h4",{className:"font-medium text-dark-text-primary mb-2",children:"Details:"}),(0,Hn.jsx)("div",{className:"bg-dark-bg p-3 rounded-md border border-dark-border",children:"object"===typeof i?(0,Hn.jsxs)("div",{className:"text-sm text-dark-text-secondary",children:[i.message&&(0,Hn.jsxs)("div",{className:"mb-2",children:[(0,Hn.jsx)("strong",{className:"text-dark-text-primary",children:"Message:"}),(0,Hn.jsx)("div",{className:"ml-2",children:i.message})]}),i.prompt&&(0,Hn.jsxs)("div",{className:"mb-2",children:[(0,Hn.jsx)("strong",{className:"text-dark-text-primary",children:"Prompt:"}),(0,Hn.jsx)("div",{className:"ml-2",children:i.prompt})]}),i.stack&&(0,Hn.jsxs)("div",{children:[(0,Hn.jsx)("strong",{className:"text-dark-text-primary",children:"Stack Trace:"}),(0,Hn.jsx)("div",{className:"ml-2 font-mono text-xs whitespace-pre-wrap",children:i.stack})]})]}):(0,Hn.jsx)("pre",{className:"text-sm text-dark-text-secondary overflow-x-auto whitespace-pre-wrap",children:i})})]})]}),(0,Hn.jsx)("div",{className:"p-4 border-t border-dark-border",children:(0,Hn.jsx)("button",{onClick:n,className:"w-full px-4 py-2 bg-brand-primary text-white rounded-md hover:bg-brand-primary/90 transition-colors",children:"Close"})})]})}):null},vw="busin.us-query-history",xw=e=>{let{onQuerySelect:t,isOpen:n,onClose:o,className:i=""}=e;const[a,s]=(0,r.useState)([]),[l,c]=(0,r.useState)("");(0,r.useEffect)((()=>{try{const e=localStorage.getItem(vw);e&&s(JSON.parse(e))}catch(Xw){console.error("Failed to load query history from localStorage",Xw)}}),[]),(0,r.useEffect)((()=>{try{localStorage.setItem(vw,JSON.stringify(a))}catch(Xw){console.error("Failed to save query history to localStorage",Xw)}}),[a]);const u=a.filter((e=>e.query.toLowerCase().includes(l.toLowerCase())));return n?(0,Hn.jsxs)("div",{className:"bg-dark-surface border border-dark-border rounded-lg shadow-lg ".concat(i),children:[(0,Hn.jsxs)("div",{className:"p-4 border-b border-dark-border flex items-center justify-between",children:[(0,Hn.jsx)("h3",{className:"text-lg font-semibold text-dark-text-primary",children:"Query History"}),(0,Hn.jsx)("button",{onClick:o,className:"p-1 rounded-md text-dark-text-secondary hover:bg-dark-bg",children:(0,Hn.jsx)(Uh,{className:"w-5 h-5"})})]}),a.length>0?(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)("div",{className:"p-4 border-b border-dark-border",children:(0,Hn.jsxs)("div",{className:"relative",children:[(0,Hn.jsx)(uh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-dark-text-secondary"}),(0,Hn.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),placeholder:"Search history...",className:"w-full bg-dark-bg border border-dark-border rounded-md py-2 pl-10 pr-4 text-sm text-dark-text-primary focus:outline-none focus:ring-1 focus:ring-brand-primary"})]})}),(0,Hn.jsx)("div",{className:"max-h-60 overflow-y-auto",children:u.length>0?(0,Hn.jsx)("ul",{className:"divide-y divide-dark-border",children:u.map((e=>(0,Hn.jsxs)("li",{className:"p-3 hover:bg-dark-bg cursor-pointer group flex items-center justify-between",onClick:()=>t(e.query),children:[(0,Hn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Hn.jsx)("p",{className:"text-dark-text-primary truncate",children:e.query}),(0,Hn.jsx)("p",{className:"text-xs text-dark-text-secondary mt-1",children:new Date(e.timestamp).toLocaleString()})]}),(0,Hn.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{s((t=>t.filter((t=>t.id!==e))))})(e.id)},className:"p-1 rounded-md text-dark-text-secondary hover:bg-dark-border opacity-0 group-hover:opacity-100 transition-opacity",children:(0,Hn.jsx)(Uh,{className:"w-4 h-4"})})]},e.id)))}):(0,Hn.jsx)("div",{className:"p-4 text-center text-dark-text-secondary",children:"No matching queries found"})}),(0,Hn.jsxs)("div",{className:"p-3 border-t border-dark-border flex justify-between items-center",children:[(0,Hn.jsxs)("span",{className:"text-sm text-dark-text-secondary",children:[a.length," ",1===a.length?"query":"queries"]}),(0,Hn.jsx)("button",{onClick:()=>{s([])},className:"text-sm text-red-400 hover:text-red-300",children:"Clear History"})]})]}):(0,Hn.jsxs)("div",{className:"p-8 text-center text-dark-text-secondary",children:[(0,Hn.jsx)("p",{children:"No query history yet"}),(0,Hn.jsx)("p",{className:"text-sm mt-2",children:"Your generated queries will appear here"})]})]}):null},bw="busin.us-workspaces";const ww=new class{constructor(){this.workspaces=this.loadWorkspacesFromStorage()}loadWorkspacesFromStorage(){try{const e=localStorage.getItem(bw);if(e){const t=JSON.parse(e);if(Array.isArray(t))return t}}catch(Xw){console.error("Failed to load workspaces from localStorage",Xw)}return[]}saveWorkspacesToStorage(){try{localStorage.setItem(bw,JSON.stringify(this.workspaces))}catch(Xw){console.error("Failed to save workspaces to localStorage",Xw)}}getAllWorkspaces(){return[...this.workspaces]}getWorkspaceById(e){return this.workspaces.find((t=>t.id===e))}createWorkspace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n={id:"workspace_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),name:e||"Workspace ".concat(this.workspaces.length+1),nodes:(null===t||void 0===t?void 0:t.nodes)||[],edges:(null===t||void 0===t?void 0:t.edges)||[],groups:(null===t||void 0===t?void 0:t.groups)||[],createdAt:(new Date).toISOString(),lastModified:(new Date).toISOString()};return this.workspaces.push(n),this.saveWorkspacesToStorage(),n}updateWorkspace(e,t){const n=this.workspaces.findIndex((t=>t.id===e));return-1!==n?(this.workspaces[n]=u(u(u({},this.workspaces[n]),t),{},{lastModified:(new Date).toISOString()}),this.saveWorkspacesToStorage(),this.workspaces[n]):null}deleteWorkspace(e){this.workspaces=this.workspaces.filter((t=>t.id!==e)),this.saveWorkspacesToStorage()}importToNewWorkspace(e,t){return this.createWorkspace(e,t)}exportWorkspace(e){const t=this.getWorkspaceById(e);return t?u({},t):null}},kw=ww,Sw=e=>{let{workspaces:t=[],currentWorkspaceId:n,onSwitchWorkspace:o,onCreateWorkspace:i,onDeleteWorkspace:a,onClose:s,onImportToNewWorkspace:l}=e;const[c,u]=(0,r.useState)(!1),[d,p]=(0,r.useState)(""),[h,f]=(0,r.useState)(null),[m,g]=(0,r.useState)("");return(0,Hn.jsxs)("div",{className:"absolute top-16 left-4 bg-dark-surface border border-dark-border rounded-lg shadow-xl z-40 w-80",children:[(0,Hn.jsxs)("div",{className:"p-4 border-b border-dark-border flex items-center justify-between",children:[(0,Hn.jsx)("h3",{className:"font-bold text-lg text-dark-text-primary",children:"Workspaces"}),(0,Hn.jsx)("button",{onClick:s,className:"p-1 rounded-md text-dark-text-secondary hover:bg-dark-bg",children:(0,Hn.jsx)(Uh,{className:"w-5 h-5"})})]}),(0,Hn.jsxs)("div",{className:"p-4 max-h-96 overflow-y-auto",children:[(0,Hn.jsx)("div",{className:"space-y-2",children:t.map((e=>(0,Hn.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-md ".concat(n===e.id?"bg-brand-primary/20 border border-brand-primary/30":"bg-dark-bg hover:bg-dark-surface"),children:[(0,Hn.jsxs)("button",{onClick:()=>o(e.id),className:"flex-1 text-left text-dark-text-primary truncate",children:[(0,Hn.jsx)("div",{className:"font-medium",children:e.name}),(0,Hn.jsx)("div",{className:"text-xs text-dark-text-secondary",children:new Date(e.lastModified).toLocaleDateString()})]}),t.length>1&&(0,Hn.jsx)("button",{onClick:t=>{t.stopPropagation(),window.confirm("Are you sure you want to delete this workspace?")&&a(e.id)},className:"ml-2 p-1 text-red-400 hover:text-red-300",children:(0,Hn.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},e.id)))}),(0,Hn.jsxs)("div",{className:"mt-6 space-y-4",children:[c?(0,Hn.jsxs)("div",{className:"space-y-3",children:[(0,Hn.jsx)("h4",{className:"font-medium text-dark-text-primary",children:"Create New Workspace"}),(0,Hn.jsx)("input",{type:"text",value:d,onChange:e=>p(e.target.value),placeholder:"Workspace name",className:"w-full bg-dark-bg border border-dark-border rounded-md px-3 py-2 text-sm text-dark-text-primary",autoFocus:!0}),(0,Hn.jsxs)("div",{className:"flex gap-2",children:[(0,Hn.jsx)("button",{onClick:()=>{d.trim()&&(i(d.trim()),p(""),u(!1))},className:"flex-1 bg-brand-primary text-white rounded-md px-3 py-2 text-sm",children:"Create"}),(0,Hn.jsx)("button",{onClick:()=>{u(!1),p("")},className:"flex-1 bg-dark-bg border border-dark-border text-dark-text-primary rounded-md px-3 py-2 text-sm",children:"Cancel"})]})]}):(0,Hn.jsxs)("button",{onClick:()=>u(!0),className:"w-full flex items-center gap-2 p-3 bg-dark-bg hover:bg-dark-surface border border-dark-border rounded-md text-dark-text-primary",children:[(0,Hn.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"New Workspace"]}),(0,Hn.jsxs)("div",{className:"border-t border-dark-border pt-4",children:[(0,Hn.jsx)("h4",{className:"font-medium text-dark-text-primary mb-3",children:"Import Workspace"}),(0,Hn.jsxs)("div",{className:"space-y-3",children:[(0,Hn.jsx)("input",{type:"text",value:m,onChange:e=>g(e.target.value),placeholder:"Workspace name",className:"w-full bg-dark-bg border border-dark-border rounded-md px-3 py-2 text-sm text-dark-text-primary"}),(0,Hn.jsxs)("div",{className:"flex gap-2",children:[(0,Hn.jsxs)("label",{className:"flex-1 flex items-center justify-center gap-2 p-2 bg-dark-bg hover:bg-dark-surface border border-dark-border rounded-md text-dark-text-primary cursor-pointer",children:[(0,Hn.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,Hn.jsx)("span",{className:"text-sm",children:"Select File"}),(0,Hn.jsx)("input",{type:"file",accept:".json",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];n&&"application/json"===n.type&&(f(n),m||g(n.name.replace(".json","")))},className:"hidden"})]}),(0,Hn.jsx)("button",{onClick:async()=>{if(h&&m.trim())try{const e=await new Promise(((e,t)=>{const n=new FileReader;n.onload=t=>e(t.target.result),n.onerror=()=>t(new Error("Failed to read file.")),n.readAsText(h)})),t=JSON.parse(e);if(!t||"object"!==typeof t)throw new Error("Invalid file format. Expected a JSON object.");let n;if(Array.isArray(t.nodes)&&Array.isArray(t.edges))n=t;else if(n=t.workflow||t,!Array.isArray(n.nodes)||!Array.isArray(n.edges))throw new Error("Invalid workflow file structure. Missing nodes or edges.");l(m.trim(),n),f(null),g("")}catch(e){console.error("Failed to import workspace:",e),alert("Failed to import workspace: ".concat(e.message))}else alert("Please select a file and enter a workspace name.")},disabled:!h,className:"flex-1 bg-brand-primary text-white rounded-md px-3 py-2 text-sm disabled:opacity-50",children:"Import"})]}),h&&(0,Hn.jsxs)("div",{className:"text-xs text-dark-text-secondary truncate",children:["Selected: ",h.name]})]})]})]})]})]})},Ew=e=>{var t;let{nodes:n=[],onClose:o,onUpdateNode:i}=e;const a=n.filter((e=>"TODO_LIST"===e.type)).flatMap((e=>(e.data.items||[]).map(((t,n)=>({id:"".concat(e.id,"-").concat(n),nodeId:e.id,nodeLabel:e.label,text:t.text||t,completed:t.completed||!1,priority:e.data.priority||"medium",assignedTo:t.assignedTo||e.data.assignedTo||"Unassigned",deadline:t.deadline||""}))))).sort(((e,t)=>{if(e.completed!==t.completed)return e.completed?1:-1;const n={high:3,medium:2,low:1};return n[t.priority]-n[e.priority]})),[s,l]=(0,r.useState)(""),[c,d]=(0,r.useState)((null===(t=n.find((e=>"TODO_LIST"===e.type)))||void 0===t?void 0:t.id)||""),p=()=>{if(!s.trim()||!c)return;const e=n.find((e=>e.id===c));if(!e)return;const t=[...e.data.items||[],{text:s.trim(),completed:!1}];i(c,{data:u(u({},e.data),{},{items:t})}),l("")},h=n.filter((e=>"TODO_LIST"===e.type));return(0,Hn.jsxs)("div",{className:"absolute top-16 right-4 bg-dark-surface border border-dark-border rounded-lg shadow-xl z-40 w-80",children:[(0,Hn.jsxs)("div",{className:"p-4 border-b border-dark-border flex items-center justify-between",children:[(0,Hn.jsx)("h3",{className:"font-bold text-lg text-dark-text-primary",children:"To-Do List"}),(0,Hn.jsx)("button",{onClick:o,className:"p-1 rounded-md text-dark-text-secondary hover:bg-dark-bg",children:(0,Hn.jsx)(Uh,{className:"w-5 h-5"})})]}),(0,Hn.jsx)("div",{className:"p-4 max-h-96 overflow-y-auto",children:0===h.length?(0,Hn.jsxs)("div",{className:"text-center py-8 text-dark-text-secondary",children:[(0,Hn.jsx)("div",{className:"mx-auto w-12 h-12 bg-dark-bg rounded-full flex items-center justify-center mb-3",children:(0,Hn.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,Hn.jsx)("p",{className:"text-sm",children:"No TODO_LIST nodes found in your workflow"}),(0,Hn.jsx)("p",{className:"text-xs mt-1",children:"Add a TODO_LIST node to start tracking tasks"})]}):(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsxs)("div",{className:"mb-6",children:[(0,Hn.jsx)("div",{className:"flex gap-2 mb-2",children:(0,Hn.jsx)("select",{value:c,onChange:e=>d(e.target.value),className:"flex-1 bg-dark-bg border border-dark-border rounded-md px-2 py-1 text-sm text-dark-text-primary",children:h.map((e=>(0,Hn.jsx)("option",{value:e.id,children:e.label},e.id)))})}),(0,Hn.jsxs)("div",{className:"flex gap-2",children:[(0,Hn.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value),placeholder:"Add a new task...",className:"flex-1 bg-dark-bg border border-dark-border rounded-md px-3 py-2 text-sm text-dark-text-primary",onKeyPress:e=>"Enter"===e.key&&p()}),(0,Hn.jsx)("button",{onClick:p,className:"bg-brand-primary text-white rounded-md px-3 py-2 text-sm hover:bg-brand-primary/90",children:"Add"})]})]}),(0,Hn.jsx)("div",{className:"space-y-2",children:0===a.length?(0,Hn.jsxs)("div",{className:"text-center py-4 text-dark-text-secondary",children:[(0,Hn.jsx)("p",{className:"text-sm",children:"No tasks yet"}),(0,Hn.jsx)("p",{className:"text-xs mt-1",children:"Add tasks to your TODO_LIST nodes"})]}):a.map((e=>(0,Hn.jsxs)("div",{className:"flex items-start gap-2 p-3 rounded-md ".concat(e.completed?"bg-dark-bg/50":"bg-dark-bg hover:bg-dark-surface"),children:[(0,Hn.jsx)("input",{type:"checkbox",checked:e.completed,onChange:()=>((e,t,r)=>{const o=n.find((e=>e.id===t));if(!o)return;const a=parseInt(e.split("-").pop()),s=[...o.data.items||[]];"string"===typeof s[a]?s[a]={text:s[a],completed:!r}:s[a]=u(u({},s[a]),{},{completed:!r}),i(t,{data:u(u({},o.data),{},{items:s})})})(e.id,e.nodeId,e.completed),className:"mt-1 rounded text-brand-primary focus:ring-brand-primary"}),(0,Hn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Hn.jsx)("div",{className:"text-sm ".concat(e.completed?"line-through text-dark-text-secondary":"text-dark-text-primary"),children:e.text}),(0,Hn.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,Hn.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded ".concat("high"===e.priority?"bg-red-500/20 text-red-400":"medium"===e.priority?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"),children:e.priority}),(0,Hn.jsx)("span",{className:"text-xs text-dark-text-secondary truncate",children:e.nodeLabel})]}),e.deadline&&(0,Hn.jsxs)("div",{className:"text-xs text-dark-text-tertiary mt-1",children:["Due: ",e.deadline]})]}),(0,Hn.jsx)("button",{onClick:()=>((e,t)=>{const r=n.find((t=>t.id===e));if(!r)return;const o=[...r.data.items||[]];o.splice(t,1),i(e,{data:u(u({},r.data),{},{items:o})})})(e.nodeId,parseInt(e.id.split("-").pop())),className:"p-1 text-dark-text-secondary hover:text-red-400",children:(0,Hn.jsx)(Fh,{className:"w-4 h-4"})})]},e.id)))})]})}),a.length>0&&(0,Hn.jsx)("div",{className:"p-4 border-t border-dark-border text-xs text-dark-text-secondary",children:(0,Hn.jsxs)("div",{className:"flex justify-between",children:[(0,Hn.jsxs)("span",{children:[a.filter((e=>!e.completed)).length," pending tasks"]}),(0,Hn.jsxs)("span",{children:[a.filter((e=>e.completed)).length," completed"]})]})})]})},Cw="busin.us-workflow-state",Tw="busin.us-credentials",Nw=()=>{try{const e=localStorage.getItem(Cw);if(e){const t=JSON.parse(e);if(Array.isArray(t.nodes)&&Array.isArray(t.edges))return{nodes:t.nodes,edges:t.edges,groups:t.groups||[]}}}catch(Xw){console.error("Failed to load workflow from localStorage",Xw)}return{nodes:[],edges:[],groups:[]}},Aw=()=>{try{const e=localStorage.getItem(Tw);if(e){const t=JSON.parse(e);if(Array.isArray(t))return t}}catch(Xw){console.error("Failed to load credentials from localStorage",Xw)}return[]},jw=()=>{const{state:e,setState:t,undo:n,redo:o,canUndo:i,canRedo:a}=(e=>{const[t,n]=(0,r.useState)((()=>[e()])),[o,i]=(0,r.useState)(0),a=(0,r.useCallback)((function(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a="function"===typeof e?e(t[o]):e;if(r){const e=[...t];e[o]=a,n(e)}else{const e=t.slice(0,o+1);e.push(a),n(e),i(e.length-1)}}),[t,o]),s=(0,r.useCallback)((()=>{o>0&&i((e=>e-1))}),[o]),l=(0,r.useCallback)((()=>{o<t.length-1&&i((e=>e+1))}),[o,t.length]);return{state:t[o],setState:a,undo:s,redo:l,canUndo:o>0,canRedo:o<t.length-1}})(Nw),[s,l]=(0,r.useState)(kw.getAllWorkspaces()),[c,d]=(0,r.useState)(null),[p,h]=(0,r.useState)(!1),[f,m]=(0,r.useState)(!1);if(!e)return null;const{nodes:g,edges:y,groups:v}=e,[x,b]=(0,r.useState)([]),[w,k]=(0,r.useState)(!1),[S,E]=(0,r.useState)(!1),[C,T]=(0,r.useState)(null),[N,A]=(0,r.useState)(null),[j,O]=(0,r.useState)(Aw),[I,_]=(0,r.useState)(!1),[P,M]=(0,r.useState)("IDLE"),[R,D]=(0,r.useState)([]),[L,F]=(0,r.useState)({}),[U,V]=(0,r.useState)(null),[B,H]=(0,r.useState)(!1),[z,W]=(0,r.useState)(""),[q,G]=(0,r.useState)(!1),[Y,J]=(0,r.useState)(!1),[K,X]=(0,r.useState)(!1),[$,Q]=(0,r.useState)(!1),[Z,ee]=(0,r.useState)(!1),[te,ne]=(0,r.useState)(null),[re,oe]=(0,r.useState)(!1),ie=(0,r.useRef)(new Map),ae=(0,r.useRef)({nodes:[],edges:[]}),se=(0,r.useRef)(!1);(0,r.useEffect)((()=>{const e=()=>{G(window.innerWidth<640)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,r.useEffect)((()=>{const e=kw.getAllWorkspaces();if(l(e),0===e.length){const e=kw.createWorkspace("Default Workspace");d(e.id)}else{const n=localStorage.getItem("busin.us-last-active-workspace"),r=e.find((e=>e.id===n))||e[0];d(r.id),t({nodes:r.nodes||[],edges:r.edges||[],groups:r.groups||[]})}}),[]),(0,r.useEffect)((()=>{c&&(kw.updateWorkspace(c,{nodes:e.nodes,edges:e.edges,groups:e.groups}),l(kw.getAllWorkspaces()))}),[e,c]),(0,r.useEffect)((()=>{c&&localStorage.setItem("busin.us-last-active-workspace",c)}),[c]),(0,r.useEffect)((()=>{try{localStorage.setItem(Cw,JSON.stringify(e))}catch(Xw){console.error("Failed to save workflow to localStorage",Xw)}}),[e]),(0,r.useEffect)((()=>{try{localStorage.setItem(Tw,JSON.stringify(j))}catch(Xw){console.error("Failed to save credentials to localStorage",Xw)}}),[j]);const le=(0,r.useCallback)(((e,t,n)=>{const r={id:"cred_".concat(Date.now()),name:e,type:t,data:n};O((e=>[...e,r]))}),[]),ce=(0,r.useCallback)((e=>{O((t=>t.filter((t=>t.id!==e)))),t((t=>u(u({},t),{},{nodes:t.nodes.map((t=>{if(t.data.credentialId===e){const e=u(u({},t.data),{},{credentialId:""});return u(u({},t),{},{data:e})}return t}))})),!0)}),[t]),ue=(0,r.useCallback)(((e,t)=>{const n={id:Date.now(),text:t,timestamp:(new Date).toISOString()};F((t=>u(u({},t),{},{[e]:[...t[e]||[],n]})))}),[]),de=(0,r.useCallback)(((e,n)=>{const r="node_".concat(Date.now()),o=vf[e]||vf.NOVEL_NODE,i={id:r,type:e,label:n||o.label,position:{x:100+g.length%5*250,y:100+150*Math.floor(g.length/5)},data:u({},o.defaultData)};t((e=>u(u({},e),{},{nodes:[...e.nodes,i]}))),b([r])}),[g.length,t]),pe=(0,r.useCallback)((async e=>{try{console.log("Generating node with prompt:",e);const{type:t,label:n}=await async function(e){const t={role:"system",content:{expertise:"business process automation assistant",task:"Analyze the user's request and create a detailed workflow node with complete information",required_elements:["Choose the single best node type","Assign to appropriate role (e.g., 'Founder', 'Legal Team', 'Marketing Manager', 'Operations Manager')","Set realistic priority (CRITICAL, HIGH, MEDIUM, LOW)","Estimate duration (e.g., '2 weeks', '3 days', '1 month')","List ALL required documents for this task"],document_categories:{legal_documents:["contracts","licenses","registrations"],financial_documents:["budgets","projections","invoices"],hr_documents:["job descriptions","policies"],marketing_materials:["plans","content","guidelines"],operational_documents:["SOPs","checklists","agreements"],compliance_documents:["permits","certifications","insurance"]},quality_standards:{specificity:"Be specific and comprehensive",practicality:"Think about what someone would actually need to complete this task"},available_node_types:tw}},n="\n".concat(JSON.stringify(t,null,2),'\n\nUser Request: "').concat(e,'"\n');try{console.log("Calling AI model for node generation with prompt:",e.substring(0,100)+"...");const t=await ew.models.generateContent({model:"gemini-2.5-flash",contents:n,config:{responseMimeType:"application/json",responseSchema:rw}});console.log("Received response from AI model for node generation");const r=t.text.trim();console.log("Response text:",r.substring(0,200)+"...");const o=JSON.parse(r);if(o&&"object"===typeof o&&"type"in o&&"label"in o&&"assignedTo"in o&&"priority"in o&&tw.includes(o.type))return o;throw new Error("AI response did not match the required schema.")}catch(C){throw console.error("Error generating node from prompt:",C),C.message.includes("API key")?new Error("Invalid API key. Please check your Gemini API configuration."):C.message.includes("quota")?new Error("API quota exceeded. Please try again later or check your Gemini API plan."):C.message.includes("parse")?new Error("Failed to parse AI response. The response format was unexpected."):new Error("Failed to communicate with the AI model: ".concat(C.message))}}(e);console.log("Generated node:",{type:t,label:n}),de(t,n),W("")}catch(t){console.error("Error in handleAiAddNode:",t),T("Failed to generate node. Please try a different prompt."),A({message:t.message,stack:t.stack,prompt:e}),setTimeout((()=>T(null)),5e3)}}),[de]),he=(0,r.useCallback)(((e,t)=>{b((n=>{if(t){return n.includes(e)?n.filter((t=>t!==e)):[...n,e]}return n.includes(e)&&1===n.length?n:[e]})),q&&X(!0)}),[q]),fe=(0,r.useCallback)(((e,t)=>{b((n=>{if(t){const t=new Set([...n,...e]);return Array.from(t)}return e}))}),[]),me=(0,r.useCallback)((e=>{t((t=>{const n=t.edges.filter((t=>!(t.source===e.source&&t.sourceHandle===e.sourceHandle))),r=u({id:"edge_".concat(e.source,"_").concat(e.sourceHandle||"default","-").concat(e.target)},e);return u(u({},t),{},{edges:[...n,r]})}))}),[t]),ge=(0,r.useCallback)(((e,n)=>{t((t=>u(u({},t),{},{nodes:t.nodes.map((t=>{if(t.id===e){const e=u({},t);return void 0!==n.label&&(e.label=n.label),n.data&&(e.data=u(u({},t.data),n.data)),e}return t}))})))}),[t]),ye=(0,r.useCallback)(((e,n)=>{t((t=>{const r=ie.current,o=r.get(e);if(!o)return t;const i=n.x-o.x,a=n.y-o.y,s=x.length>0&&x.includes(e)?x:[e];let l=t.nodes.map((e=>u(u({},e),{},{position:u({},e.position)})));l.forEach((e=>{if(s.includes(e.id)){const t=r.get(e.id);t&&(e.position.x=t.x+i,e.position.y=t.y+a)}}));for(let e=0;e<5;e++)for(let t=0;t<l.length;t++)for(let e=t+1;e<l.length;e++){const n=l[t],r=l[e],o=s.includes(n.id),i=s.includes(r.id);if(o&&i)continue;const a={x:n.position.x,y:n.position.y,width:mf,height:gf},c={x:r.position.x,y:r.position.y,width:mf,height:gf},u={x:a.x+a.width/2,y:a.y+a.height/2},d={x:c.x+c.width/2,y:c.y+c.height/2},p=u.x-d.x,h=u.y-d.y,f=(a.width+c.width)/2-Math.abs(p),m=(a.height+c.height)/2-Math.abs(h);if(f>0&&m>0){const e=f+5,t=m+5;if(f<m){const t=p>0?1:-1,a=o?0:i?e:e/2,s=i?0:o?e:e/2;n.position.x+=a*t,r.position.x-=s*t}else{const e=h>0?1:-1,a=o?0:i?t:t/2,s=i?0:o?t:t/2;n.position.y+=a*e,r.position.y-=s*e}}}return u(u({},t),{},{nodes:l})}),!0)}),[t,x]),ve=(0,r.useCallback)((e=>{se.current=!0;const t=new Map,n=new Map(g.map((e=>[e.id,e])));(x.length>0&&x.includes(e)?x:[e]).forEach((e=>{const r=n.get(e);r&&t.set(e,r.position)})),ie.current=t}),[g,x]),xe=(0,r.useCallback)((()=>{se.current&&(se.current=!1,ie.current.clear(),t(e))}),[e,t]),be=(0,r.useCallback)((e=>{t((t=>{const n=t.nodes.filter((t=>!e.includes(t.id))),r=t.edges.filter((t=>!e.includes(t.source)&&!e.includes(t.target))),o=t.groups.map((t=>u(u({},t),{},{nodeIds:t.nodeIds.filter((t=>!e.includes(t)))}))).filter((e=>e.nodeIds.length>0));return{nodes:n,edges:r,groups:o}})),b([])}),[t]),we=(0,r.useCallback)((()=>{x.length<2||(t((e=>{const t=e.nodes.filter((e=>x.includes(e.id)));let n=1/0,r=1/0,o=-1/0,i=-1/0;t.forEach((e=>{n=Math.min(n,e.position.x),r=Math.min(r,e.position.y),o=Math.max(o,e.position.x+mf),i=Math.max(i,e.position.y+gf)}));const a={id:"group_".concat(Date.now()),label:"New Group",position:{x:n-40,y:r-40},size:{width:o-n+80,height:i-r+80},nodeIds:[...x],isCollapsed:!1,color:["#4f46e5","#db2777","#16a34a","#d97706"][e.groups.length%4]};return u(u({},e),{},{groups:[...e.groups,a]})})),b([]))}),[x,t]),ke=(0,r.useCallback)((e=>{se.current=!0;const t=v.find((t=>t.id===e));if(!t)return;const n=new Map;n.set(e,t.position);const r=new Map(g.map((e=>[e.id,e])));t.nodeIds.forEach((e=>{const t=r.get(e);t&&n.set(e,t.position)})),ie.current=n}),[g,v]),Se=(0,r.useCallback)(((e,n)=>{t((t=>{const r=ie.current,o=r.get(e);if(!o)return t;const i=n.x-o.x,a=n.y-o.y,s=t.groups.map((t=>{if(t.id===e){const e=r.get(t.id);return u(u({},t),{},{position:{x:e.x+i,y:e.y+a}})}return t})),l=t.groups.find((t=>t.id===e)),c=t.nodes.map((e=>{if(l.nodeIds.includes(e.id)){const t=r.get(e.id);return u(u({},e),{},{position:{x:t.x+i,y:t.y+a}})}return e}));return u(u({},t),{},{nodes:c,groups:s})}),!0)}),[t]),Ee=(0,r.useCallback)((e=>{t((t=>u(u({},t),{},{groups:t.groups.map((t=>t.id===e?u(u({},t),{},{isCollapsed:!t.isCollapsed}):t))})))}),[t]),Ce=(0,r.useCallback)((e=>{ne(e),q&&Q(!0)}),[q]),Te=(0,r.useCallback)((()=>{ee((e=>!e))}),[q]);(0,r.useEffect)((()=>{const e=e=>{if(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement)return;("Delete"===e.key||"Backspace"===e.key)&&x.length>0&&be(x);const r=(e.ctrlKey||e.metaKey)&&"z"===e.key&&!e.shiftKey,i=(e.ctrlKey||e.metaKey)&&("y"===e.key||e.shiftKey&&"z"===e.key),a=(e.ctrlKey||e.metaKey)&&"c"===e.key,s=(e.ctrlKey||e.metaKey)&&"v"===e.key;if((e.ctrlKey||e.metaKey)&&"g"===e.key&&(e.preventDefault(),we()),r&&(e.preventDefault(),n()),i&&(e.preventDefault(),o()),a&&x.length>0){e.preventDefault();const t=g.filter((e=>x.includes(e.id))),n=y.filter((e=>x.includes(e.source)&&x.includes(e.target)));ae.current={nodes:t,edges:n}}if(s&&ae.current.nodes.length>0){e.preventDefault();const{nodes:n,edges:r}=ae.current,o=new Map,i=[],a=[],s=(e,t,n)=>{let r=e,o=t,i=!0;for(;i;){i=!1;for(const e of n){const t={x:r,y:o,width:mf,height:gf},n={x:e.position.x,y:e.position.y,width:mf,height:gf};if(Math.max(0,Math.min(t.x+t.width,n.x+n.width)-Math.max(t.x,n.x))*Math.max(0,Math.min(t.y+t.height,n.y+n.height)-Math.max(t.y,n.y))>0){i=!0,r+=52,o+=20;break}}}return{x:r,y:o}};n.forEach((e=>{const t="node_".concat(Date.now(),"_").concat(Math.random().toString(36).substring(2,7));o.set(e.id,t);const n=s(e.position.x+20,e.position.y+20,[...g,...i]);i.push(u(u({},e),{},{id:t,position:n,warnings:void 0}))})),r.forEach((e=>{const t=o.get(e.source),n=o.get(e.target);t&&n&&a.push(u(u({},e),{},{id:"edge_".concat(t,"_").concat(e.sourceHandle||"default","-").concat(n),source:t,target:n}))})),t((e=>u(u({},e),{},{nodes:[...e.nodes,...i],edges:[...e.edges,...a]}))),b(i.map((e=>e.id)))}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[x,be,n,o,t,g,y,we]),(0,r.useEffect)((()=>{const e=new Map;g.forEach((t=>{var n,r,o,i,a,s,l,c,u;const d=[],p=y.some((e=>e.target===t.id)),h=y.some((e=>e.source===t.id));"TRIGGER"===t.type||p||d.push("Node has no input connection.");["LOOP_END","SEND_EMAIL","LOGGER"].includes(t.type)||h||d.push("Node has no output connection."),"SEND_EMAIL"!==t.type||null!==(n=t.data.to)&&void 0!==n&&n.trim()||d.push("'To' field in email is missing."),"CONNECT_API"!==t.type||null!==(r=t.data.url)&&void 0!==r&&r.trim()||d.push("'URL' field in API connection is missing."),"BROWSING_AGENT"!==t.type||null!==(o=t.data.url)&&void 0!==o&&o.trim()||d.push("'URL' field for browsing agent is missing."),"REGISTER_BUSINESS"!==t.type||null!==(i=t.data.businessName)&&void 0!==i&&i.trim()||d.push("'Business Name' field is missing."),"CREATE_WEBSITE"!==t.type||null!==(a=t.data.siteName)&&void 0!==a&&a.trim()||d.push("'Site Name' field is missing."),"MANAGE_INVOICES"!==t.type||null!==(s=t.data.client)&&void 0!==s&&s.trim()&&t.data.amount||d.push("'Client' and 'Amount' fields are missing."),"MARKET_RESEARCH"!==t.type||null!==(l=t.data.topic)&&void 0!==l&&l.trim()||d.push("'Topic' field is missing."),"COMPLIANCE_CHECK"!==t.type||null!==(c=t.data.checkType)&&void 0!==c&&c.trim()||d.push("'Check Type' field is missing."),"HIRE_EMPLOYEE"!==t.type||null!==(u=t.data.role)&&void 0!==u&&u.trim()||d.push("'Role' field is missing."),"CONNECT_API"!==t.type&&"QUERY_DATABASE"!==t.type||t.data.credentialId||d.push("Credential not selected."),d.length>0&&e.set(t.id,d)})),g.some((t=>JSON.stringify(t.warnings||[])!==JSON.stringify(e.get(t.id)||[])))&&t((t=>u(u({},t),{},{nodes:t.nodes.map((t=>{const n=e.get(t.id)||[];return n.length>0?u(u({},t),{},{warnings:n}):u(u({},t),{},{warnings:void 0})}))})),!0)}),[g,y,t]);const Ne=(0,r.useCallback)((async(e,t)=>{try{const n=JSON.stringify({nodes:g,edges:y,groups:v},null,2),r=new Blob([n],{type:"application/json"}),o=URL.createObjectURL(r),i=document.createElement("a");i.href=o,i.download="workflow-".concat(Date.now(),".json"),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(o);const a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"http://127.0.0.1:8000/",REACT_APP_GEMINI_API_KEY:"AIzaSyBgRStk_AblzYAnyp7GeQhI9HkUtmQEqxY"}.REACT_APP_TELEGRAM_BOT_TOKEN,s={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"http://127.0.0.1:8000/",REACT_APP_GEMINI_API_KEY:"AIzaSyBgRStk_AblzYAnyp7GeQhI9HkUtmQEqxY"}.REACT_APP_TELEGRAM_CHAT_ID;if(a&&s){const n=e=>e.replace(/[_*[\]()~`>#+\-=|{}.!]/g,"\\$&"),o=await fetch("https://api.telegram.org/bot".concat(a,"/sendMessage"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:s,text:"New workflow export from ".concat(n(e)," (").concat(n(t),")"),parse_mode:"MarkdownV2"})}),i=await o.json();i.ok?console.log("Telegram message sent:",i):console.error("Error sending Telegram message:",i.description);const l=new FormData;l.append("chat_id",s),l.append("document",r,"workflow-".concat(Date.now(),".json")),l.append("caption","Workflow export for ".concat(n(e)," (").concat(n(t),")"));const c=await fetch("https://api.telegram.org/bot".concat(a,"/sendDocument"),{method:"POST",body:l}),u=await c.json();u.ok?console.log("Telegram workflow document sent:",u):console.error("Error sending workflow document:",u.description)}return!0}catch(C){return console.error("Error sending Telegram message:",C),!1}}),[g,y,v]),Ae=(0,r.useCallback)((()=>{const e=document.createElement("input");e.type="file",e.accept="application/json",e.onchange=async e=>{var n;const r=null===(n=e.target.files)||void 0===n?void 0:n[0];if(!r)return T("No file selected."),void setTimeout((()=>T(null)),5e3);try{const e=await new Promise(((e,t)=>{const n=new FileReader;n.onload=t=>e(t.target.result),n.onerror=()=>t(new Error("Failed to read file.")),n.readAsText(r)})),n=JSON.parse(e);if(!n||"object"!==typeof n)throw new Error("Invalid file format. Expected a JSON object.");if(Array.isArray(n.nodes)&&Array.isArray(n.edges))t({nodes:Array.isArray(n.nodes)?n.nodes:[],edges:Array.isArray(n.edges)?n.edges:[],groups:Array.isArray(n.groups)?n.groups:[]});else{const e=n.workflow||n;if(!Array.isArray(e.nodes)||!Array.isArray(e.edges))throw new Error("Invalid workflow file structure. Missing nodes or edges.");t({nodes:e.nodes,edges:e.edges,groups:Array.isArray(e.groups)?e.groups:[]})}b([]),T(null)}catch(o){console.error("Failed to import workflow:",o),T("Failed to import workflow: ".concat(o.message)),setTimeout((()=>T(null)),5e3)}},e.click()}),[t]),je=((0,r.useCallback)((e=>{try{if(!e||"object"!==typeof e)throw new Error("Invalid workflow data structure.");if(!Array.isArray(e.nodes)||!Array.isArray(e.edges))throw new Error("Invalid workflow file structure. Missing nodes or edges.");t({nodes:Array.isArray(e.nodes)?e.nodes:[],edges:Array.isArray(e.edges)?e.edges:[],groups:Array.isArray(e.groups)?e.groups:[]}),b([]),T(null)}catch(n){console.error("Failed to import workflow to new workspace:",n),T("Failed to import workflow: ".concat(n.message)),setTimeout((()=>T(null)),5e3)}}),[t]),async e=>{k(!0),E(!0),T(null),A(null),b([]);try{const t="busin.us-query-history",n=localStorage.getItem(t);let r=[];n&&(r=JSON.parse(n));const o=e.trim();if(o){const e=r.filter((e=>e.query!==o)),n=[{id:Date.now(),query:o,timestamp:(new Date).toISOString()},...e].slice(0,20);localStorage.setItem(t,JSON.stringify(n))}}catch(Xw){console.warn("Failed to save query to history:",Xw)}t({nodes:[],edges:[],groups:[]});try{console.log("Generating workflow with prompt:",e);const c={current:[]},d={current:[]};let p=!1,h=0;const f=250,m=120;var n,r=!1,o=!1;try{for(var i,a=function(e){var t,n,r,o=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);o--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new oh(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}(function(e,t){return ow.apply(this,arguments)}(e,(e=>{console.log("Received node from stream:",e);const n="node_ai_".concat(Date.now(),"_").concat(h++),r=e.type,o=vf[r]||vf.NOVEL_NODE;if("TODO_VIEW"===r){const i={id:n,type:r,label:e.label,position:{x:600,y:500},data:u({},o.defaultData)};return c.current.push(i),void t((e=>({nodes:[...c.current],edges:[...d.current],groups:e.groups})))}if(o){let i,a,s=c.current.length;if("TODO_LIST"===r){p=!0;i=600,a=100+120*c.current.filter((e=>"TODO_LIST"===e.type)).length}else if("COMMENT"===r){i=100+220*c.current.filter((e=>"COMMENT"===e.type)).length,a=20}else{const e=c.current.filter((e=>"TODO_LIST"!==e.type&&"COMMENT"!==e.type)).length;s=Math.floor(e/3);i=100+s*f,a=100+e%3*m}const l={id:n,type:r,label:e.label,position:{x:i,y:a},data:u(u({},o.defaultData),{},{assignedTo:e.assignedTo||"",priority:e.priority||"MEDIUM",estimatedDuration:e.estimatedDuration||"",requiredDocuments:e.requiredDocuments||[],todoItems:e.todoItems||[],successCriteria:e.successCriteria||"",phase:e.phase||"PLANNING",text:e.text||"",items:e.items||[]})};c.current.push(l),t((e=>({nodes:[...c.current],edges:[...d.current],groups:e.groups})));const h=["TODO_VIEW","NOVEL_NODE","TODO_LIST","COMMENT"];if(c.current.length>1&&!h.includes(r)){let e=c.current.length-2,r=c.current[e];for(;e>=0&&h.includes(r.type);)e--,r=e>=0?c.current[e]:null;if(r&&!h.includes(r.type)){const e={id:"edge_ai_".concat(r.id,"-").concat(n),source:r.id,target:n};"IF_CONDITION"===r.type?e.sourceHandle="true":"LOOP_START"===r.type&&(e.sourceHandle="loopBody"),d.current.push(e),t((e=>({nodes:[...c.current],edges:[...d.current],groups:e.groups})))}}}})));r=!(i=await a.next()).done;r=!1){i.value;console.log("Streaming completed")}}catch(s){o=!0,n=s}finally{try{r&&null!=a.return&&await a.return()}finally{if(o)throw n}}if(p){const e="node_ai_view_".concat(Date.now()),n={id:e,type:"TODO_VIEW",label:"View To-Do List",position:{x:600,y:500},data:u({},(vf.TODO_VIEW||{defaultData:{}}).defaultData)};c.current.push(n),t((e=>({nodes:[...c.current],edges:[...d.current],groups:e.groups})))}t({nodes:c.current,edges:d.current,groups:[]});try{const t=localStorage.getItem("busin.us-signup");console.log("Signup data from localStorage:",t);let n="Anonymous User",r="anonymous@example.com";if(t){const e=JSON.parse(t);n=e.name||n,r=e.email||r,console.log("Parsed signup data:",{name:n,email:r})}else console.log("No signup data found, using default values");const o={nodes:c.current,edges:d.current,groups:[]};console.log("Sending business plan to Telegram:",{name:n,email:r,prompt:e,workflowData:o});const i=await nf(n,r,e,o);console.log("Telegram send result:",i),i&&(T("Business plan sent to Telegram successfully!"),setTimeout((()=>T(null)),5e3))}catch(l){console.error("Failed to send business plan to Telegram:",l),T("Failed to send business plan to Telegram: "+l.message),setTimeout((()=>T(null)),1e4)}E(!1),k(!1)}catch(s){console.error("Error in handleAiGenerate:",s),T("Failed to generate workflow. Please try again."),A({message:s.message,stack:s.stack,prompt:e}),E(!1),k(!1),setTimeout((()=>T(null)),1e4)}}),Oe=(0,r.useCallback)((()=>{oe(!0)}),[]),Ie=x.length>0?x[x.length-1]:null,_e=g.find((e=>e.id===Ie))||null,Pe=g.find((e=>e.id===te))||null,Me=(0,r.useCallback)((e=>{const n=kw.createWorkspace(e);l(kw.getAllWorkspaces()),d(n.id),t({nodes:[],edges:[],groups:[]})}),[t]),Re=(0,r.useCallback)((e=>{const n=kw.getWorkspaceById(e);n&&(d(e),t({nodes:n.nodes||[],edges:n.edges||[],groups:n.groups||[]}),b([]))}),[t]),De=(0,r.useCallback)((e=>{if(s.length<=1)alert("You cannot delete the last workspace.");else if(window.confirm("Are you sure you want to delete this workspace?")&&(kw.deleteWorkspace(e),l(kw.getAllWorkspaces()),e===c)){const e=kw.getAllWorkspaces();e.length>0&&Re(e[0].id)}}),[s,c,Re]),Le=(0,r.useCallback)(((e,n)=>{const r=kw.importToNewWorkspace(e,n);l(kw.getAllWorkspaces()),d(r.id),t({nodes:r.nodes,edges:r.edges,groups:r.groups}),b([])}),[t]);s.find((e=>e.id===c));return(0,r.useEffect)((()=>{const e=e=>{const{workflowData:t,fileName:n}=e.detail,r=n.replace(".json","")||"Imported Workflow";window.confirm('Import this workflow as a new workspace named "'.concat(r,'"?'))&&Le(r,t)};return window.addEventListener("workflowImportDropped",e),()=>{window.removeEventListener("workflowImportDropped",e)}}),[Le]),(0,Hn.jsxs)("div",{className:"flex flex-col h-screen bg-dark-bg",children:[(0,Hn.jsx)(rf,{onGenerate:je,isLoading:w,onOpenNotifications:Te,onOpenQueryHistory:Oe,workspaces:s,currentWorkspace:s.find((e=>e.id===c))||null,onCreateNewWorkspace:Me,onSwitchWorkspace:Re,onDeleteWorkspace:De,onImportToNewWorkspace:Le,nodes:g,edges:y,groups:v}),(0,Hn.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,Hn.jsx)(Tf,{onAddNode:e=>de(e),onAiAddNode:pe,isMobile:q,isSidebarOpen:Y,setIsSidebarOpen:J,aiPrompt:z,setAiPrompt:W}),(0,Hn.jsx)("div",{className:"flex-1 flex flex-col overflow-hidden",children:(0,Hn.jsxs)("main",{className:"flex-grow flex flex-col relative",children:[(0,Hn.jsx)(Pf,{nodes:g,edges:y,groups:v,onNodeClick:he,onCanvasClick:()=>{b([]),q&&(X(!1),J(!1))},onSelectNodes:fe,selectedNodeIds:x,onNodePositionChange:ye,onNodeDragStart:ve,onNodeDragStop:xe,onGroupPositionChange:Se,onGroupDragStart:ke,onGroupDragStop:xe,onToggleGroupCollapse:Ee,onDeleteNode:e=>be([e]),onAddEdge:me,onExport:Ne,onImport:Ae,onUndo:n,onRedo:o,canUndo:i,canRedo:a,onRun:async()=>{M("RUNNING"),D([]),V(null),b([]);const e=e=>{const t=u(u({},e),{},{timestamp:(new Date).toISOString()});D((e=>[...e,t]))},t=e=>V(e);try{const n=await async function(e){let{nodes:t,edges:n,credentials:r,onLog:o,onSetActiveNode:i}=e;const a={},s=new Map(t.map((e=>[e.id,e]))),l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";o({timestamp:(new Date).toISOString(),nodeId:e,message:t,type:n})};try{var c,u;l(null,"Workflow execution started.");let e=(null===(c=t.find((e=>e.type===of.TRIGGER)))||void 0===c?void 0:c.id)||(null===(u=t.find((e=>"TRIGGER"===e.type)))||void 0===u?void 0:u.id)||(t.length>0?t[0].id:null);if(!e)throw new Error("No starting node found. Please add a TRIGGER node or any node to start the workflow.");for(;e;){i(e);const t=s.get(e);if(!t)throw new Error("Node with ID ".concat(e," not found."));l(t.id,"Executing node: ".concat(t.label," (").concat(t.type,")"));const r=await sw(t,0,l);let o,c=null,u=null;const d={};for(const e in t.data)"string"===typeof t.data[e]?d[e]=aw(t.data[e],a):d[e]=t.data[e];if(r)c={status:"delegated",result:r};else switch(t.type){case of.TRIGGER:c={message:"Workflow triggered",timestamp:(new Date).toISOString(),user:{name:"John Doe",email:"john.doe@example.com",isSubscribed:!0}},l(t.id,"Trigger activated with mock data.");break;case of.WAIT:const e=parseFloat(d.duration||"1"),n=d.unit||"seconds";let r=1e3*e;"minutes"===n&&(r*=60),"hours"===n&&(r*=3600),"days"===n&&(r*=86400),l(t.id,"Waiting for ".concat(e," ").concat(n,"...")),await iw(r),c={waited:"".concat(e," ").concat(n)};break;case of.SEND_EMAIL:l(t.id,"Simulating sending email to: ".concat(d.to," with subject: ").concat(d.subject)),c={status:"sent",recipient:d.to};break;case of.LOGGER:l(t.id,d.message,"log"),c={loggedMessage:d.message};break;case of.CODE:try{const e="\n                                return (async (context) => {\n                                    ".concat(t.data.code,"\n                                })(context);\n                            "),n=new Function("context",e);c=await n(a),l(t.id,"Code executed successfully. Output: ".concat(JSON.stringify(c)))}catch(Xw){throw new Error("Error in CODE node: ".concat(Xw.message))}break;case of.IF_CONDITION:const i=d.condition.toLowerCase();let s=!1;(i.includes("==")||i.includes("is"))&&(s=i.includes("true")),l(t.id,'Condition "'.concat(d.condition,'" evaluated to: ').concat(s)),o=s?"true":"false",c={result:s};break;case of.LOOP_START:l(t.id,"Looping is not yet supported in execution.","info"),o="afterLoop",c={status:"skipped"};break;case of.SEND_MESSAGE:const u=t.assignedPerson||d.assignedPerson;if(!u||!u.name)throw new Error("No person assigned to receive the message");l(t.id,"Sending ".concat(d.channel," message to ").concat(u.name)),c={status:"sent",recipient:u.name,channel:d.channel,messageContent:d.message};break;case of.GENERATE_DOCUMENT:case of.FILE_TAXES:case of.UPDATE_CRM:case of.SOCIAL_POST:case of.QUERY_DATABASE:case of.CONNECT_API:case of.BROWSING_AGENT:case of.REGISTER_BUSINESS:case of.EXPAND_BUSINESS:case of.DASHBOARD:case of.CREATE_WEBSITE:case of.MANAGE_INVOICES:case of.MARKET_RESEARCH:case of.COMPLIANCE_CHECK:case of.HIRE_EMPLOYEE:l(t.id,"Simulating action for ".concat(t.type,".")),c={status:"simulated_success"};break;default:c={status:"no_op"}}if(a[t.id]={output:c},t.type===of.LOOP_END)u=null;else{const t=n.find((t=>t.source===e&&t.sourceHandle===o));u=(null===t||void 0===t?void 0:t.target)||null}if(!u&&t.type!==of.IF_CONDITION&&t.type!==of.LOOP_START){const t=n.find((t=>t.source===e&&!t.sourceHandle));u=(null===t||void 0===t?void 0:t.target)||null}e=u,e&&await iw(300)}return l(null,"Workflow execution finished successfully.","success"),"SUCCESS"}catch(C){const t=C.message;return l(null,"Workflow execution failed: ".concat(t),"error"),"FAILED"}finally{i(null)}}({nodes:g,edges:y,credentials:j,onLog:e,onSetActiveNode:t});M(n),"FAILED"===n&&T("Workflow execution failed. Check the logs for details.")}catch(C){console.error("Workflow execution error:",C),M("FAILED"),T("Workflow execution failed: ".concat(C.message)),e({nodeId:null,message:"Execution error: ".concat(C.message),type:"error"})}finally{V(null)}},executionStatus:P,activeNodeId:U,onOpenDelegationPanel:Ce,onAddComment:ue,nodeComments:L,executionLogs:R,setState:t,onGroupNodes:we}),p&&(0,Hn.jsx)(Sw,{workspaces:s,currentWorkspaceId:c,onSwitchWorkspace:Re,onCreateWorkspace:Me,onDeleteWorkspace:De,onImportToNewWorkspace:Le,onClose:()=>h(!1)}),f&&(0,Hn.jsx)(Ew,{nodes:g,onClose:()=>m(!1),onUpdateNode:ge}),S&&(0,Hn.jsxs)("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-brand-primary/90 text-white px-4 py-2 rounded-md shadow-lg z-50 flex items-center",children:[(0,Hn.jsx)("div",{className:"w-4 h-4 border-t-2 border-r-2 border-white rounded-full animate-spin mr-2"}),(0,Hn.jsx)("span",{children:"Generating workflow nodes..."})]}),C&&(0,Hn.jsx)("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-red-500/90 text-white px-4 py-2 rounded-md shadow-lg z-50",children:C}),(0,Hn.jsxs)("div",{className:"absolute top-4 left-4 flex gap-2 z-30",children:[(0,Hn.jsxs)("button",{onClick:()=>h(!0),className:"bg-dark-surface/80 backdrop-blur-sm border border-dark-border text-dark-text-primary px-3 py-1.5 rounded-md text-sm hover:bg-dark-surface flex items-center gap-2",children:[(0,Hn.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v0a2 2 0 01-2 2H10a2 2 0 01-2-2v0z"})]}),"Workspaces"]}),(0,Hn.jsxs)("button",{onClick:()=>m(!0),className:"bg-dark-surface/80 backdrop-blur-sm border border-dark-border text-dark-text-primary px-3 py-1.5 rounded-md text-sm hover:bg-dark-surface flex items-center gap-2",children:[(0,Hn.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h4a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v0a2 2 0 01-2 2H10a2 2 0 01-2-2v0z"})]}),"To-Do",g.filter((e=>"TODO_LIST"===e.type)).flatMap((e=>e.data.items||[])).filter((e=>!e.completed)).length>0&&(0,Hn.jsx)("span",{className:"bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:g.filter((e=>"TODO_LIST"===e.type)).flatMap((e=>e.data.items||[])).filter((e=>!e.completed)).length})]})]})]})}),(0,Hn.jsx)(Df,{node:_e,selectedCount:x.length,onClose:()=>b([]),onUpdate:ge,credentials:j,onOpenCredentialsModal:()=>_(!0),isMobile:q,isSettingsOpen:K,setIsSettingsOpen:X}),(0,Hn.jsx)(mw,{node:Pe,onClose:()=>ne(null),onUpdate:ge,isMobile:q,isDelegationOpen:$,setIsDelegationOpen:Q}),(0,Hn.jsx)(gw,{isOpen:Z,onClose:()=>ee(!1),isMobile:q})]}),q&&(0,Hn.jsx)("div",{className:"fixed bottom-4 left-4 z-30",children:(0,Hn.jsx)("button",{onClick:()=>J(!0),className:"bg-brand-primary text-white p-3 rounded-full shadow-lg hover:bg-brand-primary/90 transition-colors",title:"Open Nodes Panel",children:(0,Hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),q&&x.length>0&&(0,Hn.jsx)("div",{className:"fixed bottom-4 right-20 z-30",children:(0,Hn.jsx)("button",{onClick:()=>X(!0),className:"bg-brand-secondary text-white p-3 rounded-full shadow-lg hover:bg-brand-secondary/90 transition-colors",title:"Open Settings",children:(0,Hn.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.996.608 2.296.07 2.572-1.065z"}),(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})}),q&&(0,Hn.jsx)("div",{className:"fixed bottom-4 right-4 z-30",children:(0,Hn.jsx)("button",{onClick:Te,className:"bg-indigo-600 text-white p-3 rounded-full shadow-lg hover:bg-indigo-700 transition-colors relative",title:"Open Notifications",children:(0,Hn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Hn.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})})}),(0,Hn.jsx)(Ff,{isOpen:I,onClose:()=>_(!1),credentials:j,onAddCredential:le,onDeleteCredential:ce}),(0,Hn.jsx)(Vf,{logs:R,status:P}),B&&(0,Hn.jsx)(pw,{isOpen:B,onClose:()=>H(!1),onExport:Ne,nodes:g,edges:y,groups:v}),(0,Hn.jsx)(yw,{isOpen:!!C,onClose:()=>{T(null),A(null)},title:"Workflow Generation Failed",message:C||"An unknown error occurred while generating the workflow.",details:N}),re&&(0,Hn.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-start justify-center p-4",children:(0,Hn.jsx)("div",{className:"mt-20 w-full max-w-2xl",children:(0,Hn.jsx)(xw,{onQuerySelect:e=>{oe(!1),je(e)},isOpen:re,onClose:()=>oe(!1)})})})]})},Ow=()=>(0,Hn.jsx)("div",{className:"flex flex-col h-screen bg-dark-bg text-dark-text-primary",children:(0,Hn.jsx)(jw,{})});function Iw(e,t){[...t].reverse().forEach((n=>{const r=e.getVariant(n);r&&Fs(e,r),e.variantChildren&&e.variantChildren.forEach((e=>{Iw(e,t)}))}))}function _w(){let e=!1;const t=new Set,n={subscribe:e=>(t.add(e),()=>{t.delete(e)}),start(e,n){const r=[];return t.forEach((t=>{r.push(lc(t,e,{transitionOverride:n}))})),Promise.all(r)},set:e=>t.forEach((t=>{!function(e,t){Array.isArray(t)?Iw(e,t):"string"===typeof t?Iw(e,[t]):Fs(e,t)}(t,e)})),stop(){t.forEach((e=>{!function(e){e.values.forEach((e=>e.stop()))}(e)}))},mount:()=>(e=!0,()=>{e=!1,n.stop()})};return n}const Pw=function(){const e=$o(_w);return Zo(e.mount,[]),e};class Mw extends r.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=Io(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Rw(e){let{children:t,isPresent:n,anchorX:o,root:i}=e;const a=(0,r.useId)(),s=(0,r.useRef)(null),l=(0,r.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,r.useContext)(ri);return(0,r.useInsertionEffect)((()=>{const{width:e,height:t,top:r,left:u,right:d}=l.current;if(n||!s.current||!e||!t)return;const p="left"===o?"left: ".concat(u):"right: ".concat(d);s.current.dataset.motionPopId=a;const h=document.createElement("style");c&&(h.nonce=c);const f=null!==i&&void 0!==i?i:document.head;return f.appendChild(h),h.sheet&&h.sheet.insertRule('\n          [data-motion-pop-id="'.concat(a,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(p,"px !important;\n            top: ").concat(r,"px !important;\n          }\n        ")),()=>{f.contains(h)&&f.removeChild(h)}}),[n]),(0,Hn.jsx)(Mw,{isPresent:n,childRef:s,sizeRef:l,children:r.cloneElement(t,{ref:s})})}const Dw=e=>{let{children:t,initial:n,isPresent:o,onExitComplete:i,custom:a,presenceAffectsLayout:s,mode:l,anchorX:c,root:d}=e;const p=$o(Lw),h=(0,r.useId)();let f=!0,m=(0,r.useMemo)((()=>(f=!1,{id:h,initial:n,isPresent:o,custom:a,onExitComplete:e=>{p.set(e,!0);for(const t of p.values())if(!t)return;i&&i()},register:e=>(p.set(e,!1),()=>p.delete(e))})),[o,p,i]);return s&&f&&(m=u({},m)),(0,r.useMemo)((()=>{p.forEach(((e,t)=>p.set(t,!1)))}),[o]),r.useEffect((()=>{!o&&!p.size&&i&&i()}),[o]),"popLayout"===l&&(t=(0,Hn.jsx)(Rw,{isPresent:o,anchorX:c,root:d,children:t})),(0,Hn.jsx)(gs.Provider,{value:m,children:t})};function Lw(){return new Map}const Fw=e=>e.key||"";function Uw(e){const t=[];return r.Children.forEach(e,(e=>{(0,r.isValidElement)(e)&&t.push(e)})),t}const Vw=e=>{let{children:t,custom:n,initial:o=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:s="sync",propagate:l=!1,anchorX:c="left",root:u}=e;const[d,p]=Zc(l),h=(0,r.useMemo)((()=>Uw(t)),[t]),f=l&&!d?[]:h.map(Fw),m=(0,r.useRef)(!0),g=(0,r.useRef)(h),y=$o((()=>new Map)),[v,x]=(0,r.useState)(h),[b,w]=(0,r.useState)(h);Zo((()=>{m.current=!1,g.current=h;for(let e=0;e<b.length;e++){const t=Fw(b[e]);f.includes(t)?y.delete(t):!0!==y.get(t)&&y.set(t,!1)}}),[b,f.length,f.join("-")]);const k=[];if(h!==v){let e=[...h];for(let t=0;t<b.length;t++){const n=b[t],r=Fw(n);f.includes(r)||(e.splice(t,0,n),k.push(n))}return"wait"===s&&k.length&&(e=k),w(Uw(e)),x(h),null}const{forceRender:S}=(0,r.useContext)(es);return(0,Hn.jsx)(Hn.Fragment,{children:b.map((e=>{const t=Fw(e),r=!(l&&!d)&&(h===b||f.includes(t));return(0,Hn.jsx)(Dw,{isPresent:r,initial:!(m.current&&!o)&&void 0,custom:n,presenceAffectsLayout:a,mode:s,root:u,onExitComplete:r?void 0:()=>{if(!y.has(t))return;y.set(t,!0);let e=!0;y.forEach((t=>{t||(e=!1)})),e&&(null===S||void 0===S||S(),w(g.current),l&&(null===p||void 0===p||p()),i&&i())},anchorX:c,children:e},t)}))})};function Bw(){return Bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bw.apply(null,arguments)}var Hw=["id","volume","playbackRate","soundEnabled","interrupt","onload"];const zw=function(e,t){var o,i=void 0===t?{}:t,a=i.volume,s=void 0===a?1:a,l=i.playbackRate,c=void 0===l?1:l,u=i.soundEnabled,d=void 0===u||u,p=i.interrupt,h=void 0!==p&&p,f=i.onload,m=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(i,Hw),g=r.useRef(null),y=r.useRef(!1),v=r.useState(null),x=v[0],b=v[1],w=r.useState(null),k=w[0],S=w[1],E=function(){"function"===typeof f&&f.call(this),y.current&&b(1e3*this.duration()),S(this)};o=function(){return n.e(885).then(n.t.bind(n,885,23)).then((function(t){var n;y.current||(g.current=null!==(n=t.Howl)&&void 0!==n?n:t.default.Howl,y.current=!0,new g.current(Bw({src:Array.isArray(e)?e:[e],volume:s,rate:c,onload:E},m)))})),function(){y.current=!1}},(0,r.useEffect)(o,[]),r.useEffect((function(){g.current&&k&&S(new g.current(Bw({src:Array.isArray(e)?e:[e],volume:s,onload:E},m)))}),[JSON.stringify(e)]),r.useEffect((function(){k&&(k.volume(s),m.sprite||k.rate(c))}),[k,s,c]);var C=r.useCallback((function(e){"undefined"===typeof e&&(e={}),k&&(d||e.forceSoundEnabled)&&(h&&k.stop(),e.playbackRate&&k.rate(e.playbackRate),k.play(e.id))}),[k,d,h]),T=r.useCallback((function(e){k&&k.stop(e)}),[k]),N=r.useCallback((function(e){k&&k.pause(e)}),[k]);return[C,{sound:k,stop:T,pause:N,duration:x}]},Ww=[{title:"Welcome to Busin.us",subtitle:"Empowering Global Business Expansion",description:"Your gateway to seamless international growth."},{title:"Problem",bullets:["Businesses face complexity expanding internationally","Legal compliance and audits across borders are challenging","Non-compliance risks and operational hurdles stall growth"]},{title:"Solution",description:"Busin.us simplifies global expansion with end-to-end services:",bullets:["Legal compliance consulting","Financial audits","Marketing growth strategies"]},{title:"Market Opportunity",description:"Growing demand for cross-border business services.",bullets:["Startups and SMEs expanding globally","Multibillion-dollar services market"]},{title:"Business Model",bullets:["Consulting fees and compliance packages","Subscription for ongoing support","Remote contractor model for global talent and cost efficiency"]},{title:"Competitive Advantage",bullets:["Expertise in legal and financial cross-border complexities","Integrated services in one platform","Remote-first approach for 24/7 support"]},{title:"Traction",description:"Established partnerships and successful client projects demonstrating growth and market presence."},{title:"Team",description:"Core team with expertise in legal, financial, and marketing services partnered with a diverse remote workforce."},{title:"Ask",bullets:["Funding for scaling services","Strategic partnerships","Opportunities to collaborate with global startups and SMEs"]},{title:"Contact",description:"Visit us at busin.us",contact:{website:"https://www.busin.us",email:"contact@busin.us"}}],qw=()=>{const[e,t]=(0,r.useState)(0),[n,o]=(0,r.useState)(0),[i]=zw("/assets/slide-transition.mp3",{volume:.25}),[a,s]=(0,r.useState)(null),[l,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(!1),[p,h]=(0,r.useState)(0),f=Pw(),m=(0,r.useCallback)((()=>{try{i()}catch(e){console.warn("Failed to play slide sound:",e)}}),[i]),g=(0,r.useCallback)((()=>{e<Ww.length-1&&(o(1),t((e=>e+1)),m())}),[e,m]),y=(0,r.useCallback)((()=>{e>0&&(o(-1),t((e=>e-1)),m())}),[e]),v=(0,r.useCallback)((e=>{"ArrowRight"===e.key||" "===e.key?(e.preventDefault(),g()):"ArrowLeft"===e.key&&(e.preventDefault(),y())}),[g,y]);(0,r.useEffect)((()=>(window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v))),[v]),(0,r.useEffect)((()=>{if(u){const t=setInterval((()=>{e<Ww.length-1?g():d(!1)}),5e3);return()=>clearInterval(t)}}),[u,e,g]),(0,r.useEffect)((()=>{f.start({width:"".concat((e+1)/Ww.length*100,"%"),transition:{duration:.3}})}),[e,f]);const x=e=>{let{data:t,isVisible:n}=e;return(0,Hn.jsxs)("div",{className:"flex flex-col justify-center min-h-[60vh] md:min-h-0 md:h-full",children:[(0,Hn.jsx)(Pd.h1,{initial:{opacity:0,y:20},animate:{opacity:n?1:0,y:n?0:20},exit:{opacity:0,y:-20},transition:{duration:.5},className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold mb-4 sm:mb-6 md:mb-8 bg-gradient-to-r from-brand-primary via-brand-secondary to-brand-primary bg-clip-text text-transparent bg-[length:200%_auto] animate-gradient leading-tight",children:t.title}),t.subtitle&&(0,Hn.jsx)(Pd.h2,{initial:{opacity:0,y:20},animate:{opacity:n?1:0,y:n?0:20},exit:{opacity:0,y:-20},transition:{duration:.5,delay:.1},className:"text-2xl sm:text-3xl md:text-4xl text-white/90 font-semibold mb-3 sm:mb-4 md:mb-6 leading-snug",children:t.subtitle}),t.description&&(0,Hn.jsx)(Pd.p,{initial:{opacity:0,y:20},animate:{opacity:n?1:0,y:n?0:20},exit:{opacity:0,y:-20},transition:{duration:.5,delay:.2},className:"text-lg sm:text-xl md:text-2xl text-white/80 mb-6 sm:mb-8 leading-relaxed",children:t.description}),t.bullets&&(0,Hn.jsx)("ul",{className:"space-y-3 sm:space-y-4 md:space-y-6",children:t.bullets.map(((e,t)=>(0,Hn.jsxs)(Pd.li,{initial:{opacity:0,x:-20},animate:{opacity:n?1:0,x:n?0:-20},exit:{opacity:0,x:20},transition:{delay:.1*t+.3,duration:.5},className:"flex items-start sm:items-center text-lg sm:text-xl md:text-2xl text-white/80 leading-snug",children:[(0,Hn.jsx)(Pd.span,{initial:{scale:0},animate:{scale:n?1:0},exit:{scale:0},transition:{delay:.1*t+.3,duration:.3},className:"text-brand-primary text-xl sm:text-2xl mr-3 sm:mr-4 mt-1 sm:mt-0 flex-shrink-0",children:"\u2192"}),(0,Hn.jsx)("span",{className:"flex-1",children:e})]},t)))}),t.contact&&(0,Hn.jsxs)(Pd.div,{initial:{opacity:0,y:20},animate:{opacity:n?1:0,y:n?0:20},exit:{opacity:0,y:-20},transition:{duration:.5,delay:.4},className:"mt-6 sm:mt-8 space-y-2 sm:space-y-3",children:[(0,Hn.jsx)("a",{href:t.contact.website,target:"_blank",rel:"noopener noreferrer",className:"text-lg sm:text-xl text-brand-primary hover:text-brand-secondary transition-colors inline-block hover:underline",children:t.contact.website}),(0,Hn.jsx)("p",{className:"text-lg sm:text-xl text-white/80",children:t.contact.email})]})]})};return(0,Hn.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-dark-bg to-dark-bg/95 overflow-hidden relative",onTouchStart:e=>{c(null),s(e.targetTouches[0].clientX)},onTouchMove:e=>{c(e.targetTouches[0].clientX)},onTouchEnd:()=>{if(!a||!l)return;const t=a-l,n=t<-50;t>50&&e<Ww.length-1?g():n&&e>0&&y()},children:[(0,Hn.jsx)("div",{className:"fixed inset-0 bg-gradient-to-br from-brand-primary/10 via-transparent to-brand-secondary/10"}),(0,Hn.jsx)("div",{className:"fixed top-0 left-0 w-full h-1 bg-dark-border z-20",children:(0,Hn.jsx)(Pd.div,{className:"h-full bg-brand-primary",animate:f})}),(0,Hn.jsx)("div",{className:"fixed top-0 left-0 w-full z-20 bg-gradient-to-b from-black/80 via-black/50 to-transparent pt-safe-top pb-12",children:(0,Hn.jsx)("div",{className:"container mx-auto px-4 sm:px-6",children:(0,Hn.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-3 sm:space-y-0 pt-4 sm:pt-6",children:[(0,Hn.jsx)("div",{className:"flex flex-wrap justify-center gap-1.5 sm:gap-2 order-2 sm:order-1 max-w-full overflow-x-auto px-2 -mx-2 pb-2 sm:pb-0",children:Ww.map(((n,r)=>(0,Hn.jsx)("button",{onClick:()=>{o(r>e?1:-1),t(r),m()},className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full transition-all duration-300 flex-shrink-0 ".concat(r===e?"bg-brand-primary w-6 sm:w-8 shadow-lg shadow-brand-primary/30":"bg-white/30 hover:bg-white/50"),"aria-label":"Go to slide ".concat(r+1)},r)))}),(0,Hn.jsxs)("div",{className:"flex items-center space-x-4 order-1 md:order-2",children:[(0,Hn.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full text-white/90 text-sm font-medium",children:[e+1," / ",Ww.length]}),(0,Hn.jsx)("button",{onClick:()=>d(!u),className:"bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full text-sm font-medium transition-all ".concat(u?"text-brand-primary bg-white/20":"text-white/90 hover:bg-white/20"),"aria-label":u?"Pause slideshow":"Play slideshow",children:u?"\u23f8 Pause":"\u25b6 Play"})]})]})})}),(0,Hn.jsx)("div",{className:"container mx-auto px-4 sm:px-6 pt-20 sm:pt-24 pb-28 sm:pb-32 min-h-screen flex items-center justify-center relative z-10",children:(0,Hn.jsxs)(Pd.div,{className:"w-full max-w-[90vw] sm:max-w-5xl bg-black/40 backdrop-blur-xl rounded-xl sm:rounded-2xl shadow-2xl relative overflow-hidden border border-white/20",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.5},children:[(0,Hn.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-brand-primary/10 via-transparent to-brand-secondary/10 opacity-75 sm:opacity-100"}),(0,Hn.jsx)("div",{className:"relative z-10 p-6 sm:p-12 md:p-16",children:(0,Hn.jsx)(Vw,{initial:!1,custom:n,mode:"wait",children:(0,Hn.jsx)(Pd.div,{custom:n,variants:{enter:e=>({x:e>0?1e3:-1e3,opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:e=>({zIndex:0,x:e<0?1e3:-1e3,opacity:0})},initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.3}},children:(0,Hn.jsx)(x,{data:Ww[e],isVisible:!0})},e)})})]})}),(0,Hn.jsxs)("div",{className:"fixed bottom-6 sm:bottom-10 left-1/2 transform -translate-x-1/2 flex space-x-3 sm:space-x-4 z-30",children:[(0,Hn.jsx)(Pd.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:y,disabled:0===e,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-black/50 backdrop-blur-sm border border-white/20 flex items-center justify-center text-white/90 disabled:opacity-40 disabled:cursor-not-allowed hover:bg-brand-primary hover:text-white transition-colors focus:outline-none focus:ring-2 focus:ring-brand-primary focus:ring-offset-2 focus:ring-offset-dark-bg shadow-lg","aria-label":"Previous slide",children:(0,Hn.jsx)("span",{className:"text-lg sm:text-xl",children:"\u25c0"})}),(0,Hn.jsx)(Pd.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:g,disabled:e===Ww.length-1,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-black/50 backdrop-blur-sm border border-white/20 flex items-center justify-center text-white/90 disabled:opacity-40 disabled:cursor-not-allowed hover:bg-brand-primary hover:text-white transition-colors focus:outline-none focus:ring-2 focus:ring-brand-primary focus:ring-offset-2 focus:ring-offset-dark-bg shadow-lg","aria-label":"Next slide",children:(0,Hn.jsx)("span",{className:"text-lg sm:text-xl",children:"\u25b6"})})]}),(0,Hn.jsx)(Pd.div,{initial:{opacity:0,y:20},animate:{opacity:.7,y:0},transition:{delay:1},className:"fixed bottom-20 sm:bottom-24 left-1/2 transform -translate-x-1/2 text-xs sm:text-sm text-white/70 bg-black/50 backdrop-blur-sm px-3 py-1.5 sm:px-4 sm:py-2 rounded-full shadow-lg z-30",children:window.matchMedia("(pointer: fine)").matches?"Use arrow keys or buttons to navigate":"Swipe left/right or use buttons to navigate"}),(0,Hn.jsx)("div",{className:"h-safe-bottom"})]})},Gw=(Yw=[{path:"/",element:(0,Hn.jsx)(rh,{})},{path:"/workflow-ai",element:(0,Hn.jsx)(Ow,{})},{path:"/pitch-deck",element:(0,Hn.jsx)(qw,{})}],be({basename:null===Jw||void 0===Jw?void 0:Jw.basename,unstable_getContext:null===Jw||void 0===Jw?void 0:Jw.unstable_getContext,future:null===Jw||void 0===Jw?void 0:Jw.future,history:w({window:null===Jw||void 0===Jw?void 0:Jw.window}),hydrationData:(null===Jw||void 0===Jw?void 0:Jw.hydrationData)||jn(),routes:Yw,mapRouteProperties:zt,hydrationRouteProperties:Wt,dataStrategy:null===Jw||void 0===Jw?void 0:Jw.dataStrategy,patchRoutesOnNavigation:null===Jw||void 0===Jw?void 0:Jw.patchRoutesOnNavigation,window:null===Jw||void 0===Jw?void 0:Jw.window}).initialize());var Yw,Jw;const Kw=function(){return(0,Hn.jsx)("div",{className:"App",children:(0,Hn.jsx)(qn,{children:(0,Hn.jsx)(Bn,{router:Gw})})})};o.createRoot(document.getElementById("root")).render((0,Hn.jsx)(r.StrictMode,{children:(0,Hn.jsx)(Kw,{})}))})();
//# sourceMappingURL=main.b2212213.js.map